
<!DOCTYPE html>
<html lang="zh-CN">
    <head>
        <meta charset="utf-8" />
        <title>LinkedList&#39;s Blog</title>
        <meta name="author" content="Ding Li" />
        <meta name="description" content="This is blog for Linkedlist771, mainly record some learning notes, thank you for your visit!" />
        <meta name="keywords" content="" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
        <link rel="icon" href="/images/favicon.png" />
        <script src="https://cdn.staticfile.org/vue/3.2.47/vue.global.prod.min.js"></script>
<link rel="stylesheet" href="https://cdn.staticfile.org/font-awesome/6.3.0/css/all.min.css" />
<link rel="stylesheet" href="/css/fonts.min.css" />
<script> const mixins = {}; </script>

<script src="https://polyfill.io/v3/polyfill.min.js?features=default"></script>


<script src="https://cdn.staticfile.org/highlight.js/11.7.0/highlight.min.js"></script>
<link
    rel="stylesheet"
    href="https://cdn.staticfile.org/highlight.js/11.7.0/styles/github.min.css"
/>
<script src="/js/lib/highlight.js"></script>


<script src="https://cdn.staticfile.org/KaTeX/0.16.4/katex.min.js"></script>
<script src="https://cdn.staticfile.org/KaTeX/0.16.4/contrib/auto-render.min.js"></script>
<link rel="stylesheet" href="https://cdn.staticfile.org/KaTeX/0.16.4/katex.min.css" />
<script src="/js/lib/math.js"></script>


<script src="/js/lib/preview.js"></script>





<script src="/js/lib/home.js"></script>

<link rel="stylesheet" href="/css/main.css" />

    <meta name="generator" content="Hexo 6.3.0"></head>
    <body>
        <div id="layout">
            <transition name="fade">
                <div id="loading" v-show="loading">
                    <div id="loading-circle">
                        <h2>LOADING</h2>
                        <p>åŠ è½½è¿‡æ…¢è¯·å¼€å¯ç¼“å­˜ æµè§ˆå™¨é»˜è®¤å¼€å¯</p>
                        <img src="/images/loading.gif" />
                    </div>
                </div>
            </transition>
            <nav id="menu" :class="{ hidden: hiddenMenu, 'menu-color': menuColor}">
    <div id="desktop-menu">
        <a class="title" href="/">
            <span>LINKEDLIST&#39;S BLOG</span>
        </a>
        
        <a href="/">
            <i class="fa-solid fa-house fa-fw"></i>
            <span>&ensp;Home</span>
        </a>
        
        <a href="/about">
            <i class="fa-solid fa-id-card fa-fw"></i>
            <span>&ensp;About</span>
        </a>
        
        <a href="/archives">
            <i class="fa-solid fa-box-archive fa-fw"></i>
            <span>&ensp;Archives</span>
        </a>
        
        <a href="/categories">
            <i class="fa-solid fa-bookmark fa-fw"></i>
            <span>&ensp;Categories</span>
        </a>
        
        <a href="/tags">
            <i class="fa-solid fa-tags fa-fw"></i>
            <span>&ensp;Tags</span>
        </a>
        
    </div>
    <div id="mobile-menu">
        <div class="title" @click="showMenuItems = !showMenuItems">
            <i class="fa-solid fa-bars fa-fw"></i>
            <span>&emsp;LINKEDLIST&#39;S BLOG</span>
        </div>
        <transition name="slide">
            <div class="items" v-show="showMenuItems">
                
                <a href="/">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-house fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">Home</div>
                    </div>
                </a>
                
                <a href="/about">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-id-card fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">About</div>
                    </div>
                </a>
                
                <a href="/archives">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-box-archive fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">Archives</div>
                    </div>
                </a>
                
                <a href="/categories">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-bookmark fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">Categories</div>
                    </div>
                </a>
                
                <a href="/tags">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-tags fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">Tags</div>
                    </div>
                </a>
                
            </div>
        </transition>
    </div>
</nav>
<transition name="fade">
    <div id="menu-curtain" @click="showMenuItems = !showMenuItems" v-show="showMenuItems"></div>
</transition>

            <transition name="into">
                <div id="main" v-show="!loading">
                    <div id="home-head">
    <div id="home-background" ref="homeBackground" data-images="/images/background1.jpg"></div>
    <div id="home-info" @click="homeClick">
        <span class="loop"></span>
        <span class="loop"></span>
        <span class="loop"></span>
        <span class="loop"></span>
        <span class="info">
            <div class="wrap">
                <h1>LinkedList&#39;s Blog</h1>
                <h3>Learning notes</h3>
                <h5>This is blog for Linkedlist771, mainly record some learning notes, thank you for your visit!</h5>
            </div>
        </span>
    </div>
</div>
<div id="home-posts-wrap"  ref="homePostsWrap">
    <div id="home-posts">
        

<div class="post">
    <a href="/2023/08/05/%E9%AB%98%E7%BA%A7python%E7%9F%A5%E8%AF%86/">
        <h2 class="post-title">é«˜çº§pythonçŸ¥è¯†</h2>
    </a>
    <div class="category-and-date">
        
        <span class="date">
            <span class="icon">
                <i class="fa-solid fa-calendar fa-fw"></i>
            </span>
            2023/8/5
        </span>
        
        
    </div>
    <div class="description">
        <div class="content" v-pre>
            
            
            
        </div>
    </div>
    <div class="post-tags">
        
        
    </div>
    <a href="/2023/08/05/%E9%AB%98%E7%BA%A7python%E7%9F%A5%E8%AF%86/" class="go-post">é˜…è¯»å…¨æ–‡</a>
</div>

<div class="post">
    <a href="/2023/07/24/docker%E5%AD%A6%E4%B9%A0/">
        <h2 class="post-title">dockerå­¦ä¹ </h2>
    </a>
    <div class="category-and-date">
        
        <span class="date">
            <span class="icon">
                <i class="fa-solid fa-calendar fa-fw"></i>
            </span>
            2023/7/24
        </span>
        
        
    </div>
    <div class="description">
        <div class="content" v-pre>
            
            <h3 id="ä»€ä¹ˆæ˜¯docker"><a href="#ä»€ä¹ˆæ˜¯docker" class="headerlink" title="ä»€ä¹ˆæ˜¯docker"></a>ä»€ä¹ˆæ˜¯docker</h3><blockquote>
<p>Simply put, a container is a sandboxed process on your machine that is isolated from all other processes on the host machine. That isolation leverages <a target="_blank" rel="noopener" href="https://medium.com/@saschagrunert/demystifying-containers-part-i-kernel-space-2c53d6979504">kernel namespaces and cgroups</a>, features that have been in Linux for a long time. Docker has worked to make these capabilities approachable and easy to use. To summarize, a container:</p>
<ul>
<li>Is a runnable instance of an image. You can create, start, stop, move, or delete a container using the DockerAPI or CLI.</li>
<li>Can be run on local machines, virtual machines or deployed to the cloud.</li>
<li>Is portable (can be run on any OS).</li>
<li>Is isolated from other containers and runs its own software, binaries, and configurations.</li>
</ul>
</blockquote>
<h3 id="ä»€ä¹ˆæ˜¯Image"><a href="#ä»€ä¹ˆæ˜¯Image" class="headerlink" title="ä»€ä¹ˆæ˜¯Image"></a>ä»€ä¹ˆæ˜¯Image</h3><blockquote>
<p>When running a container, it uses an isolated filesystem. This custom filesystem is provided by a container image. Since the image contains the containerâ€™s filesystem, it must contain everything needed to run an application - all dependencies, configurations, scripts, binaries, etc. The image also contains other configuration for the container, such as environment variables, a default command to run, and other metadata.</p>
</blockquote>
<h3 id="ä¸‹è½½å®‰è£…docker"><a href="#ä¸‹è½½å®‰è£…docker" class="headerlink" title="ä¸‹è½½å®‰è£…docker"></a>ä¸‹è½½å®‰è£…docker</h3><p><a target="_blank" rel="noopener" href="https://docs.docker.com/get-docker/">Get Docker | Docker Documentation</a></p>
<h3 id="åˆ›å»ºéƒ¨ç½²docker"><a href="#åˆ›å»ºéƒ¨ç½²docker" class="headerlink" title="åˆ›å»ºéƒ¨ç½²docker"></a>åˆ›å»ºéƒ¨ç½²docker</h3><ul>
<li><p>Create an empty file named <code>Dockerfile</code>.</p>
<pre><code class="bash">type nul &gt; Dockerfile
</code></pre>
</li>
</ul>
<h2 id="Ubuntuéƒ¨ç½²docker"><a href="#Ubuntuéƒ¨ç½²docker" class="headerlink" title="Ubuntuéƒ¨ç½²docker"></a>Ubuntuéƒ¨ç½²docker</h2><h3 id="å¸è½½docker"><a href="#å¸è½½docker" class="headerlink" title="å¸è½½docker"></a>å¸è½½docker</h3><pre><code class="bash">sudo apt remove docker-desktop
</code></pre>
<h2 id="æ›´æ–°åŒ…"><a href="#æ›´æ–°åŒ…" class="headerlink" title="æ›´æ–°åŒ…"></a>æ›´æ–°åŒ…</h2><p>Update the <code>apt</code> package index and install packages to allow <code>apt</code> to use a repository over HTTPS:</p>
<p>å®¹å™¨çš„è¿è¡Œç¯å¢ƒæ˜¯éš”ç¦»çš„</p>

            
        </div>
    </div>
    <div class="post-tags">
        
        
    </div>
    <a href="/2023/07/24/docker%E5%AD%A6%E4%B9%A0/" class="go-post">é˜…è¯»å…¨æ–‡</a>
</div>

<div class="post">
    <a href="/2023/07/23/%E4%B8%8B%E8%BD%BD%E9%A1%B9%E7%9B%AE/">
        <h2 class="post-title"></h2>
    </a>
    <div class="category-and-date">
        
        <span class="date">
            <span class="icon">
                <i class="fa-solid fa-calendar fa-fw"></i>
            </span>
            2023/7/23
        </span>
        
        
    </div>
    <div class="description">
        <div class="content" v-pre>
            
            <h4 id="ä¸‹è½½é¡¹ç›®"><a href="#ä¸‹è½½é¡¹ç›®" class="headerlink" title="ä¸‹è½½é¡¹ç›®"></a>ä¸‹è½½é¡¹ç›®</h4><pre><code class="bash">git clone git@github.com:RVC-Project/Retrieval-based-Voice-Conversion-WebUI.git
</code></pre>
<h4 id="å®‰è£…é…ç½®"><a href="#å®‰è£…é…ç½®" class="headerlink" title="å®‰è£…é…ç½®"></a>å®‰è£…é…ç½®</h4><pre><code class="bash">conda create -n SVC python=3.9
pip install -r requirements.txt
</code></pre>
<h4 id="ä¸‹è½½å¯¹åº”çš„é…ç½®ç¯å¢ƒ"><a href="#ä¸‹è½½å¯¹åº”çš„é…ç½®ç¯å¢ƒ" class="headerlink" title="ä¸‹è½½å¯¹åº”çš„é…ç½®ç¯å¢ƒ"></a>ä¸‹è½½å¯¹åº”çš„é…ç½®ç¯å¢ƒ</h4><p><a target="_blank" rel="noopener" href="https://huggingface.co/lj1995/VoiceConversionWebUI/tree/main">lj1995&#x2F;VoiceConversionWebUI at main (huggingface.co)</a></p>
<p><img src="/.com//Users\23174\AppData\Roaming\Typora\typora-user-images\image-20230723155912006.png" alt="image-20230723155912006"></p>
<p><img src="/.com//Users\23174\AppData\Roaming\Typora\typora-user-images\image-20230723155937470.png" alt="image-20230723155937470"></p>
<p><img src="/.com//Users\23174\AppData\Roaming\Typora\typora-user-images\image-20230723155959215.png" alt="image-20230723155959215"></p>
<p>å°†è¿™äº›æ–‡ä»¶é…ç½®åœ¨å¯¹åº”çš„è·¯å¾„ä¸­ï¼š</p>
<pre><code class="bash">hubert_base.pt

./pretrained 

./uvr5_weights

æƒ³æµ‹è¯•v2ç‰ˆæœ¬æ¨¡å‹çš„è¯ï¼Œéœ€è¦é¢å¤–ä¸‹è½½

./pretrained_v2 

å¦‚æœä½ æ­£åœ¨ä½¿ç”¨Windowsï¼Œåˆ™ä½ å¯èƒ½éœ€è¦è¿™ä¸ªæ–‡ä»¶ï¼Œè‹¥ffmpegå’Œffprobeå·²å®‰è£…åˆ™è·³è¿‡; ubuntu/debian ç”¨æˆ·å¯ä»¥é€šè¿‡apt install ffmpegæ¥å®‰è£…è¿™2ä¸ªåº“

./ffmpeg

https://huggingface.co/lj1995/VoiceConversionWebUI/blob/main/ffmpeg.exe

./ffprobe

https://huggingface.co/lj1995/VoiceConversionWebUI/blob/main/ffprobe.exe

å¦‚æœä½ æƒ³ä½¿ç”¨æœ€æ–°çš„RMVPEäººå£°éŸ³é«˜æå–ç®—æ³•ï¼Œåˆ™ä½ éœ€è¦ä¸‹è½½éŸ³é«˜æå–æ¨¡å‹å‚æ•°å¹¶æ”¾ç½®äºRVCæ ¹ç›®å½•

https://huggingface.co/lj1995/VoiceConversionWebUI/blob/main/rmvpe.pt
</code></pre>
<p>ç„¶åå¯åŠ¨<code>infer-web.py</code> æ¥è¿è¡Œwebuiã€‚</p>

            
        </div>
    </div>
    <div class="post-tags">
        
        
    </div>
    <a href="/2023/07/23/%E4%B8%8B%E8%BD%BD%E9%A1%B9%E7%9B%AE/" class="go-post">é˜…è¯»å…¨æ–‡</a>
</div>

<div class="post">
    <a href="/2023/07/22/ControlNet%20for%20Stable%20Diffusion%20WebUI/">
        <h2 class="post-title"></h2>
    </a>
    <div class="category-and-date">
        
        <span class="date">
            <span class="icon">
                <i class="fa-solid fa-calendar fa-fw"></i>
            </span>
            2023/7/22
        </span>
        
        
    </div>
    <div class="description">
        <div class="content" v-pre>
            
            <h1 id="ControlNet-for-Stable-Diffusion-WebUI"><a href="#ControlNet-for-Stable-Diffusion-WebUI" class="headerlink" title="ControlNet for Stable Diffusion WebUI"></a>ControlNet for Stable Diffusion WebUI</h1><p>The WebUI extension for ControlNet and other injection-based SD controls.</p>
<p><img src="https://user-images.githubusercontent.com/19834515/235606305-229b3d1e-5bfc-467f-9d55-0976eab71652.png" alt="image"></p>
<p>This extension is for AUTOMATIC1111â€™s <a target="_blank" rel="noopener" href="https://github.com/AUTOMATIC1111/stable-diffusion-webui">Stable Diffusion web UI</a>, allows the Web UI to add <a target="_blank" rel="noopener" href="https://github.com/lllyasviel/ControlNet">ControlNet</a> to the original Stable Diffusion model to generate images. The addition is on-the-fly, the merging is not required.</p>
<h1 id="Installation"><a href="#Installation" class="headerlink" title="Installation"></a>Installation</h1><ol>
<li>Open â€œExtensionsâ€ tab.</li>
<li>Open â€œInstall from URLâ€ tab in the tab.</li>
<li>Enter <code>https://github.com/Mikubill/sd-webui-controlnet.git</code> to â€œURL for extensionâ€™s git repositoryâ€.</li>
<li>Press â€œInstallâ€ button.</li>
<li>Wait for 5 seconds, and you will see the message â€œInstalled into stable-diffusion-webui\extensions\sd-webui-controlnet. Use Installed tab to restartâ€.</li>
<li>Go to â€œInstalledâ€ tab, click â€œCheck for updatesâ€, and then click â€œApply and restart UIâ€. (The next time you can also use these buttons to update ControlNet.)</li>
<li>Completely restart A1111 webui including your terminal. (If you do not know what is a â€œterminalâ€, you can reboot your computer to achieve the same effect.)</li>
<li>Download models (see below).</li>
<li>After you put models in the correct folder, you may need to refresh to see the models. The refresh button is right to your â€œModelâ€ dropdown.</li>
</ol>
<p><strong>Update from ControlNet 1.0 to 1.1:</strong></p>
<ul>
<li><p>If you are not sure, you can back up and remove the folder â€œstable-diffusion-webui\extensions\sd-webui-controlnetâ€, and then start from the step 1 in the above Installation section. </p>
</li>
<li><p>Or you can start from the step 6 in the above Install section.</p>
</li>
</ul>
<h1 id="Download-Models"><a href="#Download-Models" class="headerlink" title="Download Models"></a>Download Models</h1><p>Right now all the 14 models of ControlNet 1.1 are in the beta test.</p>
<p>Download the models from ControlNet 1.1: <a target="_blank" rel="noopener" href="https://huggingface.co/lllyasviel/ControlNet-v1-1/tree/main">https://huggingface.co/lllyasviel/ControlNet-v1-1/tree/main</a></p>
<p>You need to download model files ending with â€œ.pthâ€ .</p>
<p>Put models in your â€œstable-diffusion-webui\extensions\sd-webui-controlnet\modelsâ€. Now we have already included all â€œyamlâ€ files. You only need to download â€œpthâ€ files.</p>
<p>Do not right-click the filenames in HuggingFace website to download. Some users right-clicked those HuggingFace HTML websites and saved those HTML pages as PTH&#x2F;YAML files. They are not downloading correct files. Instead, please click the small download arrow â€œâ†“â€ icon in HuggingFace to download.</p>
<p>Note: If you download models elsewhere, please make sure that yaml file names and model files names are same. Please manually rename all yaml files if you download from other sources. (Some models like â€œshuffleâ€ needs the yaml file so that we know the outputs of ControlNet should pass a global average pooling before injecting to SD U-Nets.)</p>
<h1 id="New-Features-in-ControlNet-1-1"><a href="#New-Features-in-ControlNet-1-1" class="headerlink" title="New Features in ControlNet 1.1"></a>New Features in ControlNet 1.1</h1><h3 id="Perfect-Support-for-All-ControlNet-1-0-x2F-1-1-and-T2I-Adapter-Models"><a href="#Perfect-Support-for-All-ControlNet-1-0-x2F-1-1-and-T2I-Adapter-Models" class="headerlink" title="Perfect Support for All ControlNet 1.0&#x2F;1.1 and T2I Adapter Models."></a>Perfect Support for All ControlNet 1.0&#x2F;1.1 and T2I Adapter Models.</h3><p>Now we have perfect support all available models and preprocessors, including perfect support for T2I style adapter and ControlNet 1.1 Shuffle. (Make sure that your YAML file names and model file names are same, see also YAML files in â€œstable-diffusion-webui\extensions\sd-webui-controlnet\modelsâ€.)</p>
<h3 id="Perfect-Support-for-A1111-High-Res-Fix"><a href="#Perfect-Support-for-A1111-High-Res-Fix" class="headerlink" title="Perfect Support for A1111 High-Res. Fix"></a>Perfect Support for A1111 High-Res. Fix</h3><p>Now if you turn on High-Res Fix in A1111, each controlnet will output two different control images: a small one and a large one. The small one is for your basic generating, and the big one is for your High-Res Fix generating. The two control images are computed by a smart algorithm called â€œsuper high-quality control image resamplingâ€. This is turned on by default, and you do not need to change any setting.</p>
<h3 id="Perfect-Support-for-All-A1111-Img2Img-or-Inpaint-Settings-and-All-Mask-Types"><a href="#Perfect-Support-for-All-A1111-Img2Img-or-Inpaint-Settings-and-All-Mask-Types" class="headerlink" title="Perfect Support for All A1111 Img2Img or Inpaint Settings and All Mask Types"></a>Perfect Support for All A1111 Img2Img or Inpaint Settings and All Mask Types</h3><p>Now ControlNet is extensively tested with A1111â€™s different types of masks, including â€œInpaint maskedâ€&#x2F;â€œInpaint not maskedâ€, and â€œWhole pictureâ€&#x2F;â€œOnly maskedâ€, and â€œOnly masked paddingâ€&amp;â€Mask blurâ€. The resizing perfectly matches A1111â€™s â€œJust resizeâ€&#x2F;â€œCrop and resizeâ€&#x2F;â€œResize and fillâ€. This means you can use ControlNet in nearly everywhere in your A1111 UI without difficulty!</p>
<h3 id="The-New-â€œPixel-Perfectâ€-Mode"><a href="#The-New-â€œPixel-Perfectâ€-Mode" class="headerlink" title="The New â€œPixel-Perfectâ€ Mode"></a>The New â€œPixel-Perfectâ€ Mode</h3><p>Now if you turn on pixel-perfect mode, you do not need to set preprocessor (annotator) resolutions manually. The ControlNet will automatically compute the best annotator resolution for you so that each pixel perfectly matches Stable Diffusion.</p>
<h3 id="User-Friendly-GUI-and-Preprocessor-Preview"><a href="#User-Friendly-GUI-and-Preprocessor-Preview" class="headerlink" title="User-Friendly GUI and Preprocessor Preview"></a>User-Friendly GUI and Preprocessor Preview</h3><p>We reorganized some previously confusing UI like â€œcanvas width&#x2F;height for new canvasâ€ and it is in the ğŸ“ button now. Now the preview GUI is controlled by the â€œallow previewâ€ option and the trigger button ğŸ’¥. The preview image size is better than before, and you do not need to scroll up and down - your a1111 GUI will not be messed up anymore!</p>
<h3 id="Support-for-Almost-All-Upscaling-Scripts"><a href="#Support-for-Almost-All-Upscaling-Scripts" class="headerlink" title="Support for Almost All Upscaling Scripts"></a>Support for Almost All Upscaling Scripts</h3><p>Now ControlNet 1.1 can support almost all Upscaling&#x2F;Tile methods. ControlNet 1.1 support the script â€œUltimate SD upscaleâ€ and almost all other tile-based extensions. Please do not confuse <a target="_blank" rel="noopener" href="https://github.com/Coyote-A/ultimate-upscale-for-automatic1111">â€œUltimate SD upscaleâ€</a> with â€œSD upscaleâ€ - they are different scripts. Note that the most recommended upscaling method is <a target="_blank" rel="noopener" href="https://github.com/pkuliyi2015/multidiffusion-upscaler-for-automatic1111">â€œTiled VAE&#x2F;Diffusionâ€</a> but we test as many methods&#x2F;extensions as possible. Note that â€œSD upscaleâ€ is supported since 1.1.117, and if you use it, you need to leave all ControlNet images as blank (We do not recommend â€œSD upscaleâ€ since it is somewhat buggy and cannot be maintained - use the â€œUltimate SD upscaleâ€ instead).</p>
<h3 id="More-Control-Modes-previously-called-Guess-Mode"><a href="#More-Control-Modes-previously-called-Guess-Mode" class="headerlink" title="More Control Modes (previously called Guess Mode)"></a>More Control Modes (previously called Guess Mode)</h3><p>We have fixed many bugs in previous 1.0â€™s Guess Mode and now it is called Control Mode</p>
<p><img src="https://user-images.githubusercontent.com/19834515/236641759-6c44ddf6-c7ad-4bda-92be-e90a52911d75.png" alt="image"></p>
<p>Now you can control which aspect is more important (your prompt or your ControlNet)ï¼š</p>
<ul>
<li><p>â€œBalancedâ€: ControlNet on both sides of CFG scale, same as turning off â€œGuess Modeâ€ in ControlNet 1.0</p>
</li>
<li><p>â€œMy prompt is more importantâ€: ControlNet on both sides of CFG scale, with progressively reduced SD U-Net injections (layer_weight*&#x3D;0.825**I, where 0&lt;&#x3D;I &lt;13, and the 13 means ControlNet injected SD 13 times). In this way, you can make sure that your prompts are perfectly displayed in your generated images.</p>
</li>
<li><p>â€œControlNet is more importantâ€: ControlNet only on the Conditional Side of CFG scale (the cond in A1111â€™s batch-cond-uncond). This means the ControlNet will be X times stronger if your cfg-scale is X. For example, if your cfg-scale is 7, then ControlNet is 7 times stronger. Note that here the X times stronger is different from â€œControl Weightsâ€ since your weights are not modified. This â€œstrongerâ€ effect usually has less artifact and give ControlNet more room to guess what is missing from your prompts (and in the previous 1.0, it is called â€œGuess Modeâ€).</p>
</li>
</ul>
<table width="100%">
<tr>
<td width="25%" style="text-align: center">Input (depth+canny+hed)</td>
<td width="25%" style="text-align: center">"Balanced"</td>
<td width="25%" style="text-align: center">"My prompt is more important"</td>
<td width="25%" style="text-align: center">"ControlNet is more important"</td>
</tr>
<tr>
<td width="25%" style="text-align: center"><img src="/.com//cm1.png"></td>
<td width="25%" style="text-align: center"><img src="/.com//cm2.png"></td>
<td width="25%" style="text-align: center"><img src="/.com//cm3.png"></td>
<td width="25%" style="text-align: center"><img src="/.com//cm4.png"></td>
</tr>
</table>

<h3 id="Reference-Only-Control"><a href="#Reference-Only-Control" class="headerlink" title="Reference-Only Control"></a>Reference-Only Control</h3><p>Now we have a <code>reference-only</code> preprocessor that does not require any control models. It can guide the diffusion directly using images as references.</p>
<p>(Prompt â€œa dog running on grassland, best quality, â€¦â€)</p>
<p><img src="/.com//ref.png" alt="image"></p>
<p>This method is similar to inpaint-based reference but it does not make your image disordered. </p>
<p>Many professional A1111 users know a trick to diffuse image with references by inpaint. For example, if you have a 512x512 image of a dog, and want to generate another 512x512 image with the same dog, some users will connect the 512x512 dog image and a 512x512 blank image into a 1024x512 image, send to inpaint, and mask out the blank 512x512 part to diffuse a dog with similar appearance. However, that method is usually not very satisfying since images are connected and many distortions will appear.</p>
<p>This <code>reference-only</code> ControlNet can directly link the attention layers of your SD to any independent images, so that your SD will read arbitary images for reference. You need at least ControlNet 1.1.153 to use it.</p>
<p>To use, just select <code>reference-only</code> as preprocessor and put an image. Your SD will just use the image as reference.</p>
<p><em>Note that this method is as â€œnon-opinionedâ€ as possible. It only contains very basic connection codes, without any personal preferences, to connect the attention layers with your reference images. However, even if we tried best to not include any opinioned codes, we still need to write some subjective implementations to deal with weighting, cfg-scale, etc - tech report is on the way.</em></p>
<p>More examples <a target="_blank" rel="noopener" href="https://github.com/Mikubill/sd-webui-controlnet/discussions/1236">here</a>.</p>
<h1 id="Technical-Documents"><a href="#Technical-Documents" class="headerlink" title="Technical Documents"></a>Technical Documents</h1><p>See also the documents of ControlNet 1.1: </p>
<p><a target="_blank" rel="noopener" href="https://github.com/lllyasviel/ControlNet-v1-1-nightly#model-specification">https://github.com/lllyasviel/ControlNet-v1-1-nightly#model-specification</a></p>
<h1 id="Default-Setting"><a href="#Default-Setting" class="headerlink" title="Default Setting"></a>Default Setting</h1><p>This is my setting. If you run into any problem, you can use this setting as a sanity check</p>
<p><img src="https://user-images.githubusercontent.com/19834515/235620638-17937171-8ac1-45bc-a3cb-3aebf605b4ef.png" alt="image"></p>
<h1 id="Use-Previous-Models"><a href="#Use-Previous-Models" class="headerlink" title="Use Previous Models"></a>Use Previous Models</h1><h3 id="Use-ControlNet-1-0-Models"><a href="#Use-ControlNet-1-0-Models" class="headerlink" title="Use ControlNet 1.0 Models"></a>Use ControlNet 1.0 Models</h3><p><a target="_blank" rel="noopener" href="https://huggingface.co/lllyasviel/ControlNet/tree/main/models">https://huggingface.co/lllyasviel/ControlNet/tree/main/models</a></p>
<p>You can still use all previous models in the previous ControlNet 1.0. Now, the previous â€œdepthâ€ is now called â€œdepth_midasâ€, the previous â€œnormalâ€ is called â€œnormal_midasâ€, the previous â€œhedâ€ is called â€œsoftedge_hedâ€. And starting from 1.1, all line maps, edge maps, lineart maps, boundary maps will have black background and white lines.</p>
<h3 id="Use-T2I-Adapter-Models"><a href="#Use-T2I-Adapter-Models" class="headerlink" title="Use T2I-Adapter Models"></a>Use T2I-Adapter Models</h3><p>(From TencentARC&#x2F;T2I-Adapter)</p>
<p>To use T2I-Adapter models:</p>
<ol>
<li>Download files from <a target="_blank" rel="noopener" href="https://huggingface.co/TencentARC/T2I-Adapter/tree/main/models">https://huggingface.co/TencentARC/T2I-Adapter/tree/main/models</a></li>
<li>Put them in â€œstable-diffusion-webui\extensions\sd-webui-controlnet\modelsâ€.</li>
<li>Make sure that the file names of pth files and yaml files are consistent.</li>
</ol>
<p><em>Note that â€œCoAdapterâ€ is not implemented yet.</em></p>
<h1 id="Gallery"><a href="#Gallery" class="headerlink" title="Gallery"></a>Gallery</h1><p>The below results are from ControlNet 1.0.</p>
<table>
<thead>
<tr>
<th align="center">Source</th>
<th align="center">Input</th>
<th align="center">Output</th>
</tr>
</thead>
<tbody><tr>
<td align="center">(no preprocessor)</td>
<td align="center"><img width="256" alt src="https://github.com/Mikubill/sd-webui-controlnet/blob/main/samples/bal-source.png?raw=true"></td>
<td align="center"><img width="256" alt src="https://github.com/Mikubill/sd-webui-controlnet/blob/main/samples/bal-gen.png?raw=true"></td>
</tr>
<tr>
<td align="center">(no preprocessor)</td>
<td align="center"><img width="256" alt src="https://github.com/Mikubill/sd-webui-controlnet/blob/main/samples/dog_rel.jpg?raw=true"></td>
<td align="center"><img width="256" alt src="https://github.com/Mikubill/sd-webui-controlnet/blob/main/samples/dog_rel.png?raw=true"></td>
</tr>
<tr>
<td align="center"><img width="256" alt src="https://github.com/Mikubill/sd-webui-controlnet/blob/main/samples/mahiro_input.png?raw=true"></td>
<td align="center"><img width="256" alt src="https://github.com/Mikubill/sd-webui-controlnet/blob/main/samples/mahiro_canny.png?raw=true"></td>
<td align="center"><img width="256" alt src="https://github.com/Mikubill/sd-webui-controlnet/blob/main/samples/mahiro-out.png?raw=true"></td>
</tr>
<tr>
<td align="center"><img width="256" alt src="https://github.com/Mikubill/sd-webui-controlnet/blob/main/samples/evt_source.jpg?raw=true"></td>
<td align="center"><img width="256" alt src="https://github.com/Mikubill/sd-webui-controlnet/blob/main/samples/evt_hed.png?raw=true"></td>
<td align="center"><img width="256" alt src="https://github.com/Mikubill/sd-webui-controlnet/blob/main/samples/evt_gen.png?raw=true"></td>
</tr>
<tr>
<td align="center"><img width="256" alt src="https://github.com/Mikubill/sd-webui-controlnet/blob/main/samples/an-source.jpg?raw=true"></td>
<td align="center"><img width="256" alt src="https://github.com/Mikubill/sd-webui-controlnet/blob/main/samples/an-pose.png?raw=true"></td>
<td align="center"><img width="256" alt src="https://github.com/Mikubill/sd-webui-controlnet/blob/main/samples/an-gen.png?raw=true"></td>
</tr>
<tr>
<td align="center"><img width="256" alt src="https://github.com/Mikubill/sd-webui-controlnet/blob/main/samples/sk-b-src.png?raw=true"></td>
<td align="center"><img width="256" alt src="https://github.com/Mikubill/sd-webui-controlnet/blob/main/samples/sk-b-dep.png?raw=true"></td>
<td align="center"><img width="256" alt src="https://github.com/Mikubill/sd-webui-controlnet/blob/main/samples/sk-b-out.png?raw=true"></td>
</tr>
</tbody></table>
<p>The below examples are from T2I-Adapter.</p>
<p>From <code>t2iadapter_color_sd14v1.pth</code> :</p>
<table>
<thead>
<tr>
<th align="center">Source</th>
<th align="center">Input</th>
<th align="center">Output</th>
</tr>
</thead>
<tbody><tr>
<td align="center"><img width="256" alt src="https://user-images.githubusercontent.com/31246794/222947416-ec9e52a4-a1d0-48d8-bb81-736bf636145e.jpeg"></td>
<td align="center"><img width="256" alt src="https://user-images.githubusercontent.com/31246794/222947435-1164e7d8-d857-42f9-ab10-2d4a4b25f33a.png"></td>
<td align="center"><img width="256" alt src="https://user-images.githubusercontent.com/31246794/222947557-5520d5f8-88b4-474d-a576-5c9cd3acac3a.png"></td>
</tr>
</tbody></table>
<p>From <code>t2iadapter_style_sd14v1.pth</code> :</p>
<table>
<thead>
<tr>
<th align="center">Source</th>
<th align="center">Input</th>
<th align="center">Output</th>
</tr>
</thead>
<tbody><tr>
<td align="center"><img width="256" alt src="https://user-images.githubusercontent.com/31246794/222947416-ec9e52a4-a1d0-48d8-bb81-736bf636145e.jpeg"></td>
<td align="center">(clip, non-image)</td>
<td align="center"><img width="256" alt src="https://user-images.githubusercontent.com/31246794/222965711-7b884c9e-7095-45cb-a91c-e50d296ba3a2.png"></td>
</tr>
</tbody></table>
<h1 id="Minimum-Requirements"><a href="#Minimum-Requirements" class="headerlink" title="Minimum Requirements"></a>Minimum Requirements</h1><ul>
<li>(Windows) (NVIDIA: Ampere) 4gb - with <code>--xformers</code> enabled, and <code>Low VRAM</code> mode ticked in the UI, goes up to 768x832</li>
</ul>
<h1 id="Multi-ControlNet"><a href="#Multi-ControlNet" class="headerlink" title="Multi-ControlNet"></a>Multi-ControlNet</h1><p>This option allows multiple ControlNet inputs for a single generation. To enable this option, change <code>Multi ControlNet: Max models amount (requires restart)</code> in the settings. Note that you will need to restart the WebUI for changes to take effect.</p>
<table width="100%">
<tr>
<td width="25%" style="text-align: center">Source A</td>
<td width="25%" style="text-align: center">Source B</td>
<td width="25%" style="text-align: center">Output</td>
</tr>
<tr>
<td width="25%" style="text-align: center"><img src="https://user-images.githubusercontent.com/31246794/220448620-cd3ede92-8d3f-43d5-b771-32dd8417618f.png"></td>
<td width="25%" style="text-align: center"><img src="https://user-images.githubusercontent.com/31246794/220448619-beed9bdb-f6bb-41c2-a7df-aa3ef1f653c5.png"></td>
<td width="25%" style="text-align: center"><img src="https://user-images.githubusercontent.com/31246794/220448613-c99a9e04-0450-40fd-bc73-a9122cefaa2c.png"></td>
</tr>
</table>

<h1 id="Control-Weight-x2F-Start-x2F-End"><a href="#Control-Weight-x2F-Start-x2F-End" class="headerlink" title="Control Weight&#x2F;Start&#x2F;End"></a>Control Weight&#x2F;Start&#x2F;End</h1><p>Weight is the weight of the controlnet â€œinfluenceâ€. Itâ€™s analogous to prompt attention&#x2F;emphasis. E.g. (myprompt: 1.2). Technically, itâ€™s the factor by which to multiply the ControlNet outputs before merging them with original SD Unet.</p>
<p>Guidance Start&#x2F;End is the percentage of total steps the controlnet applies (guidance strength &#x3D; guidance end). Itâ€™s analogous to prompt editing&#x2F;shifting. E.g. [myprompt::0.8] (It applies from the beginning until 80% of total steps)</p>
<h1 id="Batch-Mode"><a href="#Batch-Mode" class="headerlink" title="Batch Mode"></a>Batch Mode</h1><p>Put any unit into batch mode to activate batch mode for all units. Specify a batch directory for each unit, or use the new textbox in the img2img batch tab as a fallback. Although the textbox is located in the img2img batch tab, you can use it to generate images in the txt2img tab as well.</p>
<p>Note that this feature is only available in the gradio user interface. Call the APIs as many times as you want for custom batch scheduling.</p>
<h1 id="API-and-Script-Access"><a href="#API-and-Script-Access" class="headerlink" title="API and Script Access"></a>API and Script Access</h1><p>This extension can accept txt2img or img2img tasks via API or external extension call. Note that you may need to enable <code>Allow other scripts to control this extension</code> in settings for external calls.</p>
<p>To use the API: start WebUI with argument <code>--api</code> and go to <code>http://webui-address/docs</code> for documents or checkout <a target="_blank" rel="noopener" href="https://github.com/Mikubill/sd-webui-controlnet/blob/main/example/api_txt2img.ipynb">examples</a>.</p>
<p>To use external call: Checkout <a target="_blank" rel="noopener" href="https://github.com/Mikubill/sd-webui-controlnet/wiki/API">Wiki</a></p>
<h1 id="Command-Line-Arguments"><a href="#Command-Line-Arguments" class="headerlink" title="Command Line Arguments"></a>Command Line Arguments</h1><p>This extension adds these command line arguments to the webui:</p>
<pre><code>    --controlnet-dir &lt;path to directory with controlnet models&gt;                                ADD a controlnet models directory
    --controlnet-annotator-models-path &lt;path to directory with annotator model directories&gt;    SET the directory for annotator models
    --no-half-controlnet                                                                       load controlnet models in full precision
    --controlnet-preprocessor-cache-size                                                       Cache size for controlnet preprocessor results
    --controlnet-loglevel                                                                      Log level for the controlnet extension
</code></pre>
<h1 id="MacOS-Support"><a href="#MacOS-Support" class="headerlink" title="MacOS Support"></a>MacOS Support</h1><p>Tested with pytorch nightly: <a target="_blank" rel="noopener" href="https://github.com/Mikubill/sd-webui-controlnet/pull/143#issuecomment-1435058285">https://github.com/Mikubill/sd-webui-controlnet/pull/143#issuecomment-1435058285</a></p>
<p>To use this extension with mps and normal pytorch, currently you may need to start WebUI with <code>--no-half</code>.</p>
<h1 id="Archive-of-Deprecated-Versions"><a href="#Archive-of-Deprecated-Versions" class="headerlink" title="Archive of Deprecated Versions"></a>Archive of Deprecated Versions</h1><p>The previous version (sd-webui-controlnet 1.0) is archived in </p>
<p><a target="_blank" rel="noopener" href="https://github.com/lllyasviel/webui-controlnet-v1-archived">https://github.com/lllyasviel/webui-controlnet-v1-archived</a></p>
<p>Using this version is not a temporary stop of updates. You will stop all updates forever.</p>
<p>Please consider this version if you work with professional studios that requires 100% reproducing of all previous results pixel by pixel.</p>
<h1 id="Thanks"><a href="#Thanks" class="headerlink" title="Thanks"></a>Thanks</h1><p>This implementation is inspired by kohya-ss&#x2F;sd-webui-additional-networks</p>

            
        </div>
    </div>
    <div class="post-tags">
        
        
    </div>
    <a href="/2023/07/22/ControlNet%20for%20Stable%20Diffusion%20WebUI/" class="go-post">é˜…è¯»å…¨æ–‡</a>
</div>

<div class="post">
    <a href="/2023/07/22/%E4%B8%BA%E4%BA%86%E8%A7%A3%E5%86%B3%E8%BF%99%E4%B8%AA%E9%97%AE%E9%A2%98%EF%BC%8C%E6%88%91%E4%BB%AC%E6%8F%90%E5%87%BA%E4%BA%86%E5%8F%A6%E4%B8%80%E7%A7%8D%E7%AE%80%E5%8D%95%E8%80%8C%E6%9C%89%E6%95%88%E7%9A%84%E6%9D%A1%E4%BB%B6%E5%8C%96%E6%96%B9%E6%B3%95%EF%BC%9A%E5%9C%A8%E6%95%B0%E6%8D%AE%E5%8A%A0%E8%BD%BD%E6%9C%9F%E9%97%B4%EF%BC%8C%E6%88%91%E4%BB%AC%E5%9D%87%E5%8C%80%E5%9C%B0%E9%87%87%E6%A0%B7%E8%A3%81%E5%89%AA%E5%9D%90%E6%A0%87ctop%20c_%7Btext%20%7Btop%20%7D%7D%20%E5%92%8C%20cleft%20c_%7Btext%20%7Bleft%20%7D%7D%EF%BC%88%E5%88%86%E5%88%AB%E6%8C%87%E5%AE%9A%E4%BB%8E%E5%B7%A6%E4%B8%8A%E8%A7%92%E6%B2%BF%E9%AB%98%E5%BA%A6%E5%92%8C%E5%AE%BD%E5%BA%A6%E8%BD%B4%E8%A3%81%E5%89%AA%E7%9A%84%E5%83%8F%E7%B4%A0%E6%95%B0%E9%87%8F%E7%9A%84%E6%95%B4/">
        <h2 class="post-title"></h2>
    </a>
    <div class="category-and-date">
        
        <span class="date">
            <span class="icon">
                <i class="fa-solid fa-calendar fa-fw"></i>
            </span>
            2023/7/22
        </span>
        
        
    </div>
    <div class="description">
        <div class="content" v-pre>
            
            <p>ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬æå‡ºäº†å¦ä¸€ç§ç®€å•è€Œæœ‰æ•ˆçš„æ¡ä»¶åŒ–æ–¹æ³•ï¼šåœ¨æ•°æ®åŠ è½½æœŸé—´ï¼Œæˆ‘ä»¬å‡åŒ€åœ°é‡‡æ ·è£å‰ªåæ ‡$c_{\text {top }}$ å’Œ $c_{\text {left }}$ï¼ˆåˆ†åˆ«æŒ‡å®šä»å·¦ä¸Šè§’æ²¿é«˜åº¦å’Œå®½åº¦è½´è£å‰ªçš„åƒç´ æ•°é‡çš„æ•´æ•°ï¼‰ï¼Œå¹¶é€šè¿‡å‚…ç«‹å¶ç‰¹å¾åµŒå…¥å°†å®ƒä»¬ä½œä¸ºæ¡ä»¶å‚æ•°è¾“å…¥åˆ°æ¨¡å‹ä¸­ï¼Œç±»ä¼¼äºä¸Šè¿°çš„å¤§å°æ¡ä»¶åŒ–ã€‚ç„¶åï¼Œè¿æ¥çš„åµŒå…¥$\mathbf{c}<em>{\mathrm{crop}}$è¢«ç”¨ä½œé¢å¤–çš„æ¡ä»¶å‚æ•°ã€‚æˆ‘ä»¬å¼ºè°ƒï¼Œè¿™ç§æŠ€æœ¯ä¸ä»…é™äºLDMsï¼Œå¯ä»¥ç”¨äºä»»ä½•DMã€‚æ³¨æ„ï¼Œè£å‰ªå’Œå¤§å°æ¡ä»¶åŒ–å¯ä»¥è½»æ¾åœ°ç»“åˆèµ·æ¥ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬åœ¨å°†å…¶æ·»åŠ åˆ°UNetçš„æ—¶é—´æ­¥åµŒå…¥ä¹‹å‰ï¼Œæ²¿ç€é€šé“ç»´åº¦è¿æ¥ç‰¹å¾åµŒå…¥ã€‚ç®—æ³•1è¯´æ˜äº†åœ¨åº”ç”¨è¿™ç§ç»„åˆæ—¶ï¼Œæˆ‘ä»¬å¦‚ä½•åœ¨è®­ç»ƒæœŸé—´é‡‡æ ·$\mathbf{c}</em>{\text {crop }}$ å’Œ $\mathbf{c}_{\text {size }}$ã€‚</p>
<p>è€ƒè™‘åˆ°æˆ‘ä»¬çš„ç»éªŒæ˜¯ï¼Œå¤§è§„æ¨¡æ•°æ®é›†å¹³å‡æ¥è¯´æ˜¯ä»¥å¯¹è±¡ä¸ºä¸­å¿ƒçš„ï¼Œæˆ‘ä»¬åœ¨æ¨ç†æœŸé—´è®¾ç½®$\left(c_{\text {top }}, c_{\text {left }}\right)&#x3D;$ $(0,0)$ï¼Œä»è€Œä»è®­ç»ƒæ¨¡å‹ä¸­è·å¾—ä»¥å¯¹è±¡ä¸ºä¸­å¿ƒçš„æ ·æœ¬ã€‚</p>
<p>è¯·å‚è§å›¾5çš„è¯´æ˜ï¼šé€šè¿‡è°ƒæ•´$\left(c_{\text {top }}, c_{\text {left }}\right)$ï¼Œæˆ‘ä»¬å¯ä»¥æˆåŠŸåœ°æ¨¡æ‹Ÿæ¨ç†æœŸé—´çš„è£å‰ªé‡ã€‚è¿™æ˜¯ä¸€ç§æ¡ä»¶åŒ–å¢å¼ºçš„å½¢å¼ï¼Œå·²ç»åœ¨è‡ªå›å½’æ¨¡å‹[20]å’Œæœ€è¿‘çš„æ‰©æ•£æ¨¡å‹[21]ä¸­ä»¥å„ç§å½¢å¼ä½¿ç”¨ã€‚</p>
<p>è™½ç„¶å…¶ä»–æ–¹æ³•ï¼Œå¦‚æ•°æ®åˆ†æ¡¶[31]ï¼ŒæˆåŠŸåœ°è§£å†³äº†åŒæ ·çš„ä»»åŠ¡ï¼Œä½†æˆ‘ä»¬ä»ç„¶ä»è£å‰ªå¼•èµ·çš„æ•°æ®å¢å¼ºä¸­å—ç›Šï¼ŒåŒæ—¶ç¡®ä¿å®ƒä¸ä¼šæ¸—å…¥ç”Ÿæˆè¿‡ç¨‹ - æˆ‘ä»¬å®é™…ä¸Šåˆ©ç”¨å®ƒæ¥è·å¾—å¯¹å›¾åƒåˆæˆè¿‡ç¨‹çš„æ›´å¤šæ§åˆ¶ã€‚æ­¤å¤–ï¼Œå®ƒæ˜“äºå®ç°ï¼Œå¹¶ä¸”å¯ä»¥åœ¨è®­ç»ƒæœŸé—´åœ¨çº¿åº”ç”¨ï¼Œæ— éœ€é¢å¤–çš„æ•°æ®é¢„å¤„ç†ã€‚</p>
<p>è¿™ä¸ªä¼ªä»£ç æè¿°äº†ä¸€ä¸ªç”¨äºå›¾åƒå¤„ç†çš„ç®—æ³•ï¼Œå®ƒåŒ…æ‹¬è°ƒæ•´å›¾åƒå¤§å°å’Œè£å‰ªå›¾åƒçš„æ­¥éª¤ã€‚è¿™ä¸ªç®—æ³•çš„ç›®æ ‡æ˜¯å°†è¾“å…¥çš„å›¾åƒè°ƒæ•´åˆ°æŒ‡å®šçš„å¤§å°ï¼Œå¹¶åœ¨éœ€è¦çš„æƒ…å†µä¸‹è¿›è¡Œè£å‰ªã€‚ä»¥ä¸‹æ˜¯å¯¹æ¯ä¸€æ®µçš„è§£é‡Šï¼š</p>
<ol>
<li><p><strong>Require: Training dataset of images</strong> $\mathcal{D}$ <strong>, target image size for training</strong> $\boldsymbol{s}&#x3D;\left(h_{\text {tgt }}, w_{\text {tgt }}\right)$</p>
<p>è¿™ä¸€æ®µå®šä¹‰äº†ç®—æ³•çš„è¾“å…¥ã€‚éœ€è¦ä¸€ä¸ªå›¾åƒçš„è®­ç»ƒæ•°æ®é›†$\mathcal{D}$ï¼Œä»¥åŠç›®æ ‡å›¾åƒçš„å¤§å°$\boldsymbol{s}$ï¼Œå…¶ä¸­$h_{\text {tgt }}$å’Œ$w_{\text {tgt }}$åˆ†åˆ«ä»£è¡¨ç›®æ ‡å›¾åƒçš„é«˜åº¦å’Œå®½åº¦ã€‚</p>
</li>
<li><p><strong>Require: Resizing function</strong> $\boldsymbol{R}$ <strong>, cropping function function</strong> $\boldsymbol{C}$</p>
<p>è¿™ä¸€æ®µå®šä¹‰äº†ä¸¤ä¸ªå‡½æ•°ï¼Œä¸€ä¸ªæ˜¯ç”¨äºè°ƒæ•´å›¾åƒå¤§å°çš„å‡½æ•°$\boldsymbol{R}$ï¼Œå¦ä¸€ä¸ªæ˜¯ç”¨äºè£å‰ªå›¾åƒçš„å‡½æ•°$\boldsymbol{C}$ã€‚</p>
</li>
<li><p><strong>Require: Model train step</strong> $\boldsymbol{T}$</p>
<p>è¿™ä¸€æ®µå®šä¹‰äº†æ¨¡å‹è®­ç»ƒçš„æ­¥éª¤å‡½æ•°$\boldsymbol{T}$ã€‚</p>
</li>
<li><p><strong>converged</strong> $\leftarrow$ <strong>False</strong></p>
<p>è¿™ä¸€æ®µåˆå§‹åŒ–äº†ä¸€ä¸ªåä¸ºâ€convergedâ€çš„å˜é‡ï¼Œå…¶åˆå§‹å€¼ä¸ºFalseã€‚è¿™ä¸ªå˜é‡ç”¨äºæ§åˆ¶è®­ç»ƒè¿‡ç¨‹çš„ç»“æŸï¼Œå½“æ¨¡å‹æ”¶æ•›ï¼ˆå³æ¨¡å‹çš„è®­ç»ƒè¯¯å·®ä¸å†æ˜¾è‘—ä¸‹é™æˆ–è€…è¾¾åˆ°é¢„è®¾çš„è®­ç»ƒè½®æ•°ï¼‰æ—¶ï¼Œè¿™ä¸ªå˜é‡å°†è¢«è®¾ç½®ä¸ºTrueã€‚</p>
</li>
<li><p><strong>while not converged do</strong></p>
<p>è¿™ä¸€æ®µå¼€å§‹äº†ä¸€ä¸ªå¾ªç¯ï¼Œåªæœ‰å½“â€convergedâ€å˜é‡ä¸ºFalseæ—¶ï¼Œå¾ªç¯æ‰ä¼šç»§ç»­ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œåªè¦æ¨¡å‹è¿˜æ²¡æœ‰æ”¶æ•›ï¼Œå°±ä¼šç»§ç»­æ‰§è¡Œå¾ªç¯ä¸­çš„æ­¥éª¤ã€‚</p>
</li>
<li><p><strong>x $\sim$ $\mathcal{D}$</strong></p>
<p>è¿™ä¸€æ®µä»è®­ç»ƒæ•°æ®é›†$\mathcal{D}$ä¸­éšæœºé€‰æ‹©ä¸€ä¸ªå›¾åƒä½œä¸ºè¾“å…¥ã€‚</p>
</li>
<li><p><strong>$w_{\text {original }} \leftarrow \text { width }(x)$</strong></p>
<p><strong>$h_{\text {original }} \leftarrow \text { height }(x)$</strong></p>
<p>è¿™ä¸¤æ®µè·å–äº†é€‰å®šå›¾åƒçš„åŸå§‹å®½åº¦å’Œé«˜åº¦ã€‚</p>
</li>
<li><p><strong>$\mathbf{c}<em>{\text {size }} \leftarrow\left(h</em>{\text {original }}, w_{\text {original }}\right)$</strong></p>
<p>è¿™ä¸€æ®µåˆ›å»ºäº†ä¸€ä¸ªå‘é‡$\mathbf{c}_{\text {size }}$ï¼Œå…¶ä¸­åŒ…å«äº†å›¾åƒçš„åŸå§‹é«˜åº¦å’Œå®½åº¦ã€‚</p>
</li>
<li><p><strong>x $\leftarrow$ $\boldsymbol{R}(x, \boldsymbol{s})$</strong></p>
<p>è¿™ä¸€æ®µä½¿ç”¨è°ƒæ•´å¤§å°çš„å‡½æ•°$\boldsymbol{R}$å°†å›¾åƒè°ƒæ•´åˆ°ç›®æ ‡å¤§å°$\boldsymbol{s}$ã€‚</p>
</li>
<li><p><strong>if $h_{\text {original }} \leq w_{\text {original }}$ then</strong></p>
<p><strong>$c_{\text {left }} \sim \mathcal{U}\left(0, \text { width }(x)-s_w\right)$</strong></p>
<p><strong>$c_{\text {top }}&#x3D;0$</strong></p>
<p><strong>else if $h_{\text {original }}&gt;w_{\text {original }}$ then</strong></p>
<p><strong>$c_{\text {top }} \sim \mathcal{U}\left(0, \text { height }(x)-s_h\right)$</strong></p>
<p><strong>$c_{\text {left }}&#x3D;0$</strong></p>
<p><strong>end if</strong></p>
<p>è¿™ä¸€æ®µå†³å®šäº†è£å‰ªçš„ä½ç½®ã€‚å¦‚æœåŸå§‹å›¾åƒçš„é«˜åº¦å°äºæˆ–ç­‰äºå®½åº¦ï¼Œé‚£ä¹ˆå°†ä»å·¦ä¾§éšæœºè£å‰ªï¼›å¦‚æœåŸå§‹å›¾åƒçš„é«˜åº¦å¤§äºå®½åº¦ï¼Œé‚£ä¹ˆå°†ä»é¡¶éƒ¨éšæœºè£å‰ªã€‚</p>
</li>
<li><p><strong>$\mathbf{c}<em>{\text {crop }} \leftarrow\left(c</em>{\text {top }}, c_{\text {left }}\right)$</strong></p>
<p>è¿™ä¸€æ®µåˆ›å»ºäº†ä¸€ä¸ªå‘é‡$\mathbf{c}_{\text {crop }}$ï¼Œå…¶ä¸­åŒ…å«äº†è£å‰ªçš„ä½ç½®ã€‚</p>
</li>
<li><p><strong>x $\leftarrow$ $\boldsymbol{C}\left(x, \boldsymbol{s}, \mathbf{c}_{\text {crop }}\right)$</strong></p>
<p>è¿™ä¸€æ®µä½¿ç”¨è£å‰ªå‡½æ•°$\boldsymbol{C}$å°†å›¾åƒè£å‰ªåˆ°ç›®æ ‡å¤§å°$\boldsymbol{s}$ï¼Œå¹¶åœ¨æŒ‡å®šçš„ä½ç½®$\mathbf{c}_{\text {crop }}$è¿›è¡Œè£å‰ªã€‚</p>
</li>
<li><p><strong>converged $\leftarrow$ $\boldsymbol{T}\left(x, \mathbf{c}<em>{\text {size }}, \mathbf{c}</em>{\mathrm{crop}}\right)$</strong></p>
<p>è¿™ä¸€æ®µæ‰§è¡Œæ¨¡å‹è®­ç»ƒçš„æ­¥éª¤ï¼Œå¹¶å°†ç»“æœèµ‹å€¼ç»™â€convergedâ€å˜é‡ã€‚å¦‚æœæ¨¡å‹å·²ç»æ”¶æ•›ï¼Œé‚£ä¹ˆâ€convergedâ€å˜é‡å°†è¢«è®¾ç½®ä¸ºTrueï¼Œä»è€Œç»“æŸå¾ªç¯ã€‚</p>
</li>
<li><p><strong>end while</strong></p>
<p>è¿™ä¸€æ®µæ ‡å¿—ç€å¾ªç¯çš„ç»“æŸã€‚å½“â€convergedâ€å˜é‡ä¸ºTrueæ—¶ï¼Œå¾ªç¯å°†ç»“æŸï¼Œæ¨¡å‹è®­ç»ƒä¹Ÿå°±å®Œæˆäº†ã€‚</p>
</li>
</ol>
<p>åœ¨è¿™ä¸ªä¼ªä»£ç ä¸­ï¼Œ$\mathbf{c}<em>{\mathrm{crop}}$ æ˜¯ä¸€ä¸ªå‘é‡ï¼Œå®ƒåŒ…å«äº†è£å‰ªå›¾åƒçš„ä½ç½®ä¿¡æ¯ã€‚å…·ä½“æ¥è¯´ï¼Œå®ƒç”±ä¸¤ä¸ªå…ƒç´ ç»„æˆï¼š$c</em>{\text {top }}$ å’Œ $c_{\text {left }}$ã€‚</p>
<p>$c_{\text {top }}$ æ˜¯ä»å›¾åƒé¡¶éƒ¨å¼€å§‹è£å‰ªçš„ä½ç½®ï¼Œ$c_{\text {left }}$ æ˜¯ä»å›¾åƒå·¦ä¾§å¼€å§‹è£å‰ªçš„ä½ç½®ã€‚è¿™ä¸¤ä¸ªå€¼å†³å®šäº†è£å‰ªæ¡†çš„èµ·å§‹ç‚¹ã€‚</p>
<p>åœ¨è¿™ä¸ªç®—æ³•ä¸­ï¼Œå¦‚æœåŸå§‹å›¾åƒçš„é«˜åº¦å°äºæˆ–ç­‰äºå®½åº¦ï¼Œé‚£ä¹ˆå°†ä»å·¦ä¾§éšæœºè£å‰ªï¼Œæ­¤æ—¶ $c_{\text {left }}$ ä¼šä»å‡åŒ€åˆ†å¸ƒ $\mathcal{U}\left(0, \text { width }(x)-s_w\right)$ ä¸­éšæœºå–å€¼ï¼Œè€Œ $c_{\text {top }}$ åˆ™è¢«è®¾ä¸º 0ã€‚åä¹‹ï¼Œå¦‚æœåŸå§‹å›¾åƒçš„é«˜åº¦å¤§äºå®½åº¦ï¼Œé‚£ä¹ˆå°†ä»é¡¶éƒ¨éšæœºè£å‰ªï¼Œæ­¤æ—¶ $c_{\text {top }}$ ä¼šä»å‡åŒ€åˆ†å¸ƒ $\mathcal{U}\left(0, \text { height }(x)-s_h\right)$ ä¸­éšæœºå–å€¼ï¼Œè€Œ $c_{\text {left }}$ åˆ™è¢«è®¾ä¸º 0ã€‚</p>
<p>è¿™æ ·ï¼Œ$\mathbf{c}_{\mathrm{crop}}$ å°±å®šä¹‰äº†è£å‰ªæ¡†çš„èµ·å§‹ç‚¹ï¼Œç„¶åæ ¹æ®ç›®æ ‡å›¾åƒçš„å¤§å° $\boldsymbol{s}$ï¼Œå°±å¯ä»¥ç¡®å®šè£å‰ªæ¡†çš„å¤§å°ï¼Œä»è€Œå®Œæˆå›¾åƒçš„è£å‰ªã€‚</p>

            
        </div>
    </div>
    <div class="post-tags">
        
        
    </div>
    <a href="/2023/07/22/%E4%B8%BA%E4%BA%86%E8%A7%A3%E5%86%B3%E8%BF%99%E4%B8%AA%E9%97%AE%E9%A2%98%EF%BC%8C%E6%88%91%E4%BB%AC%E6%8F%90%E5%87%BA%E4%BA%86%E5%8F%A6%E4%B8%80%E7%A7%8D%E7%AE%80%E5%8D%95%E8%80%8C%E6%9C%89%E6%95%88%E7%9A%84%E6%9D%A1%E4%BB%B6%E5%8C%96%E6%96%B9%E6%B3%95%EF%BC%9A%E5%9C%A8%E6%95%B0%E6%8D%AE%E5%8A%A0%E8%BD%BD%E6%9C%9F%E9%97%B4%EF%BC%8C%E6%88%91%E4%BB%AC%E5%9D%87%E5%8C%80%E5%9C%B0%E9%87%87%E6%A0%B7%E8%A3%81%E5%89%AA%E5%9D%90%E6%A0%87ctop%20c_%7Btext%20%7Btop%20%7D%7D%20%E5%92%8C%20cleft%20c_%7Btext%20%7Bleft%20%7D%7D%EF%BC%88%E5%88%86%E5%88%AB%E6%8C%87%E5%AE%9A%E4%BB%8E%E5%B7%A6%E4%B8%8A%E8%A7%92%E6%B2%BF%E9%AB%98%E5%BA%A6%E5%92%8C%E5%AE%BD%E5%BA%A6%E8%BD%B4%E8%A3%81%E5%89%AA%E7%9A%84%E5%83%8F%E7%B4%A0%E6%95%B0%E9%87%8F%E7%9A%84%E6%95%B4/" class="go-post">é˜…è¯»å…¨æ–‡</a>
</div>

<div class="post">
    <a href="/2023/07/21/ControlNet%E9%80%9A%E8%BF%87%E6%93%8D%E7%BA%B5%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C%E5%9D%97%E7%9A%84%E8%BE%93%E5%85%A5%E6%9D%A1%E4%BB%B6%EF%BC%8C%E4%BB%A5%E8%BF%9B%E4%B8%80%E6%AD%A5%E6%8E%A7%E5%88%B6%E6%95%B4%E4%B8%AA%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C%E7%9A%84%E6%95%B4%E4%BD%93%E8%A1%8C%E4%B8%BA%E3%80%82%E5%9C%A8%E8%BF%99%E9%87%8C%EF%BC%8C%E7%BD%91%E7%BB%9C%E5%9D%97%E6%8C%87%E7%9A%84%E6%98%AF%E4%B8%80%E7%BB%84%E8%A2%AB%E7%BB%84%E5%90%88%E5%9C%A8%E4%B8%80%E8%B5%B7%E4%BD%9C%E4%B8%BA%E5%B8%B8%E7%94%A8%E5%8D%95%E5%85%83%E6%9D%A5%E6%9E%84%E5%BB%BA%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C%E7%9A%84%E7%A5%9E%E7%BB%8F%E5%B1%82%EF%BC%8C%E4%BE%8B%E5%A6%82%20resnet%20%E5%9D%97%EF%BC%8Cconv-bn-relu%20%E5%9D%97%EF%BC%8C%E5%A4%9A%E5%A4%B4%E6%B3%A8%E6%84%8F%E5%8A%9B%E5%9D%97%EF%BC%8C%E5%8F%98/">
        <h2 class="post-title"></h2>
    </a>
    <div class="category-and-date">
        
        <span class="date">
            <span class="icon">
                <i class="fa-solid fa-calendar fa-fw"></i>
            </span>
            2023/7/21
        </span>
        
        
    </div>
    <div class="description">
        <div class="content" v-pre>
            
            <p>ControlNeté€šè¿‡æ“çºµç¥ç»ç½‘ç»œå—çš„è¾“å…¥æ¡ä»¶ï¼Œä»¥è¿›ä¸€æ­¥æ§åˆ¶æ•´ä¸ªç¥ç»ç½‘ç»œçš„æ•´ä½“è¡Œä¸ºã€‚åœ¨è¿™é‡Œï¼Œâ€ç½‘ç»œå—â€æŒ‡çš„æ˜¯ä¸€ç»„è¢«ç»„åˆåœ¨ä¸€èµ·ä½œä¸ºå¸¸ç”¨å•å…ƒæ¥æ„å»ºç¥ç»ç½‘ç»œçš„ç¥ç»å±‚ï¼Œä¾‹å¦‚ â€œresnetâ€ å—ï¼Œâ€conv-bn-reluâ€ å—ï¼Œå¤šå¤´æ³¨æ„åŠ›å—ï¼Œå˜å‹å™¨å—ç­‰ã€‚</p>
<p>ä»¥2Dç‰¹å¾ä¸ºä¾‹ï¼Œç»™å®šä¸€ä¸ªç‰¹å¾å›¾ $\boldsymbol{x} \in \mathbb{R}^{h \times w \times c}$ï¼Œå…¶ä¸­ ${h, w, c}$ æ˜¯é«˜åº¦ï¼Œå®½åº¦å’Œé€šé“æ•°ï¼Œä¸€ä¸ªå¸¦æœ‰ä¸€ç»„å‚æ•° $\Theta$ çš„ç¥ç»ç½‘ç»œå— $\mathcal{F}(\cdot ; \Theta)$ å°† $\boldsymbol{x}$ è½¬æ¢ä¸ºå¦ä¸€ä¸ªç‰¹å¾å›¾ $\boldsymbol{y}$ï¼Œæœ‰<br>$$<br>\boldsymbol{y}&#x3D;\mathcal{F}(\boldsymbol{x} ; \Theta)<br>$$<br>è¿™ä¸ªè¿‡ç¨‹åœ¨å›¾ 2-(a) ä¸­è¿›è¡Œäº†å¯è§†åŒ–ã€‚<br>æˆ‘ä»¬é”å®šæ‰€æœ‰çš„å‚æ•°åœ¨ $\Theta$ ä¸­ï¼Œç„¶åå°†å…¶å…‹éš†ä¸ºä¸€ä¸ªå¯è®­ç»ƒçš„å‰¯æœ¬ $\Theta_{\mathrm{c}}$ã€‚å¤åˆ¶çš„ $\Theta_{\mathrm{c}}$ ä¸ä¸€ä¸ªå¤–éƒ¨æ¡ä»¶å‘é‡ $c$ ä¸€èµ·è¿›è¡Œè®­ç»ƒã€‚åœ¨è¿™ç¯‡è®ºæ–‡ä¸­ï¼Œæˆ‘ä»¬å°†åŸå§‹å‚æ•°å’Œæ–°å‚æ•°ç§°ä¸º â€œé”å®šå‰¯æœ¬â€ å’Œ â€œå¯è®­ç»ƒå‰¯æœ¬â€ã€‚åˆ¶ä½œè¿™æ ·çš„å‰¯æœ¬è€Œä¸æ˜¯ç›´æ¥è®­ç»ƒåŸå§‹æƒé‡çš„åŠ¨æœºæ˜¯ä¸ºäº†é¿å…åœ¨æ•°æ®é›†å°çš„æ—¶å€™è¿‡æ‹Ÿåˆï¼Œå¹¶ä¿ç•™ä»æ•°åäº¿å›¾åƒä¸­å­¦ä¹ çš„å¤§å‹æ¨¡å‹çš„ç”Ÿäº§å°±ç»ªè´¨é‡ã€‚</p>
<p>ç¥ç»ç½‘ç»œå—é€šè¿‡ä¸€ä¸ªç§°ä¸º â€œé›¶å·ç§¯â€ çš„ç‰¹æ®Šç±»å‹çš„å·ç§¯å±‚è¿æ¥ï¼Œå³æƒé‡å’Œåç½®éƒ½åˆå§‹åŒ–ä¸ºé›¶çš„ $1 \times 1$ å·ç§¯å±‚ã€‚æˆ‘ä»¬å°†é›¶å·ç§¯æ“ä½œè¡¨ç¤ºä¸º $\mathcal{Z}(\cdot ; \cdot)$ï¼Œå¹¶ä½¿ç”¨ä¸¤ä¸ªå‚æ•°å®ä¾‹ $\left{\Theta_{z 1}, \Theta_{z 2}\right}$ æ¥æ„æˆ ControlNet ç»“æ„ï¼Œæœ‰<br>$$<br>\boldsymbol{y}<em>{\mathrm{c}}&#x3D;\mathcal{F}(\boldsymbol{x} ; \Theta)+\mathcal{Z}\left(\mathcal{F}\left(\boldsymbol{x}+\mathcal{Z}\left(\boldsymbol{c} ; \Theta</em>{\mathrm{z} 1}\right) ; \Theta_{\mathrm{c}}\right) ; \Theta_{\mathrm{z} 2}\right)<br>$$<br>å…¶ä¸­ $\boldsymbol{y}<em>{\mathrm{c}}$ æˆä¸ºè¿™ä¸ªç¥ç»ç½‘ç»œå—çš„è¾“å‡ºï¼Œå¦‚å›¾ 2-(b) æ‰€ç¤ºã€‚<br>å› ä¸ºé›¶å·ç§¯å±‚çš„æƒé‡å’Œåç½®éƒ½åˆå§‹åŒ–ä¸ºé›¶ï¼Œåœ¨ç¬¬ä¸€æ­¥è®­ç»ƒä¸­ï¼Œæˆ‘ä»¬æœ‰<br>$$<br>\left{\begin{array}{l}<br>\mathcal{Z}\left(\boldsymbol{c} ; \Theta</em>{\mathrm{z} 1}\right)&#x3D;\mathbf{0} \<br>\mathcal{F}\left(\boldsymbol{x}+\mathcal{Z}\left(\boldsymbol{c} ; \Theta_{\mathrm{z} 1}\right) ; \Theta_{\mathrm{c}}\right)&#x3D;\mathcal{F}\left(\boldsymbol{x} ; \Theta_{\mathrm{c}}\right)&#x3D;\mathcal{F}(\boldsymbol{x} ; \Theta) \<br>\mathcal{Z}\left(\mathcal{F}\left(\boldsymbol{x}+\mathcal{Z}\left(\boldsymbol{c} ; \Theta_{\mathrm{z} 1}\right) ; \Theta_{\mathrm{c}}\right) ; \Theta_{\mathrm{z} 2}\right)&#x3D;\mathcal{Z}\left(\mathcal{F}\left(\boldsymbol{x} ; \Theta_{\mathrm{c}}\right) ; \Theta_{\mathrm{z} 2}\right)&#x3D;\mathbf{0}<br>\end{array}\right.<br>$$</p>

            
        </div>
    </div>
    <div class="post-tags">
        
        
    </div>
    <a href="/2023/07/21/ControlNet%E9%80%9A%E8%BF%87%E6%93%8D%E7%BA%B5%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C%E5%9D%97%E7%9A%84%E8%BE%93%E5%85%A5%E6%9D%A1%E4%BB%B6%EF%BC%8C%E4%BB%A5%E8%BF%9B%E4%B8%80%E6%AD%A5%E6%8E%A7%E5%88%B6%E6%95%B4%E4%B8%AA%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C%E7%9A%84%E6%95%B4%E4%BD%93%E8%A1%8C%E4%B8%BA%E3%80%82%E5%9C%A8%E8%BF%99%E9%87%8C%EF%BC%8C%E7%BD%91%E7%BB%9C%E5%9D%97%E6%8C%87%E7%9A%84%E6%98%AF%E4%B8%80%E7%BB%84%E8%A2%AB%E7%BB%84%E5%90%88%E5%9C%A8%E4%B8%80%E8%B5%B7%E4%BD%9C%E4%B8%BA%E5%B8%B8%E7%94%A8%E5%8D%95%E5%85%83%E6%9D%A5%E6%9E%84%E5%BB%BA%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C%E7%9A%84%E7%A5%9E%E7%BB%8F%E5%B1%82%EF%BC%8C%E4%BE%8B%E5%A6%82%20resnet%20%E5%9D%97%EF%BC%8Cconv-bn-relu%20%E5%9D%97%EF%BC%8C%E5%A4%9A%E5%A4%B4%E6%B3%A8%E6%84%8F%E5%8A%9B%E5%9D%97%EF%BC%8C%E5%8F%98/" class="go-post">é˜…è¯»å…¨æ–‡</a>
</div>

<div class="post">
    <a href="/2023/07/21/%E4%BD%A0%E7%BB%99%E5%87%BA%E7%9A%84%E8%BF%99%E4%B8%A4%E4%B8%AA%E6%96%B9%E7%A8%8B%E6%98%AF%E6%8F%8F%E8%BF%B0%E4%B8%A4%E4%B8%AA%E8%80%A6%E5%90%88%E8%B0%90%E6%8C%AF%E5%99%A8%E7%9A%84%E5%8A%A8%E5%8A%9B%E5%AD%A6%E7%9A%84%E8%80%A6%E5%90%88%E5%BE%AE%E5%88%86%E6%96%B9%E7%A8%8B%E3%80%82%E4%BD%A0%E7%BB%99%E5%87%BA%E7%9A%84%E5%93%88%E5%AF%86%E9%A1%BF%E9%87%8F%E6%98%AF%E7%B3%BB%E7%BB%9F%E8%83%BD%E9%87%8F%E7%9A%84%E7%9F%A9%E9%98%B5%E8%A1%A8%E7%A4%BA%EF%BC%8C%E5%AF%B9%E8%A7%92%E5%85%83%E7%B4%A0%E4%BB%A3%E8%A1%A8%E6%AF%8F%E4%B8%AA%E8%B0%90%E6%8C%AF%E5%99%A8%E7%9A%84%E8%83%BD%E9%87%8F%EF%BC%8C%E9%9D%9E%E5%AF%B9%E8%A7%92%E5%85%83%E7%B4%A0%E4%BB%A3%E8%A1%A8%E4%B8%A4%E4%B8%AA%E8%B0%90%E6%8C%AF%E5%99%A8%E4%B9%8B%E9%97%B4%E7%9A%84%E8%80%A6%E5%90%88%E3%80%82/">
        <h2 class="post-title"></h2>
    </a>
    <div class="category-and-date">
        
        <span class="date">
            <span class="icon">
                <i class="fa-solid fa-calendar fa-fw"></i>
            </span>
            2023/7/21
        </span>
        
        
    </div>
    <div class="description">
        <div class="content" v-pre>
            
            <p>ä½ ç»™å‡ºçš„è¿™ä¸¤ä¸ªæ–¹ç¨‹æ˜¯æè¿°ä¸¤ä¸ªè€¦åˆè°æŒ¯å™¨çš„åŠ¨åŠ›å­¦çš„è€¦åˆå¾®åˆ†æ–¹ç¨‹ã€‚ä½ ç»™å‡ºçš„å“ˆå¯†é¡¿é‡æ˜¯ç³»ç»Ÿèƒ½é‡çš„çŸ©é˜µè¡¨ç¤ºï¼Œå¯¹è§’å…ƒç´ ä»£è¡¨æ¯ä¸ªè°æŒ¯å™¨çš„èƒ½é‡ï¼Œéå¯¹è§’å…ƒç´ ä»£è¡¨ä¸¤ä¸ªè°æŒ¯å™¨ä¹‹é—´çš„è€¦åˆã€‚</p>
<p>åœ¨è¿™é‡Œï¼ŒÏ‰_c å’Œ Ï‰_m ä»£è¡¨ä¸¤ä¸ªè°æŒ¯å™¨çš„é¢‘ç‡ã€‚ä½ ç»™å‡ºçš„å“ˆå¯†é¡¿é‡çŸ©é˜µçš„å¯¹è§’å…ƒç´ åŒ…å«äº†è¿™äº›é¢‘ç‡ã€‚</p>
<p>å¦‚æœä½ é—®ä¸ºä»€ä¹ˆå“ˆå¯†é¡¿é‡çŸ©é˜µä¸­æ²¡æœ‰æ˜ç¡®å‡ºç° Ï‰ï¼Œé‚£æ˜¯å› ä¸ºå®ƒä»¬å·²ç»è¢«å¸æ”¶åˆ°çŸ©é˜µçš„å¯¹è§’å…ƒç´ çš„å¤æ•°ä¸­ã€‚æ¢å¥è¯è¯´ï¼Œè¿™äº›å¤æ•°çš„å®éƒ¨ä»£è¡¨é¢‘ç‡ Ï‰_c å’Œ Ï‰_mï¼Œè™šéƒ¨ä»£è¡¨ä¸¤ä¸ªè°æŒ¯å™¨çš„é˜»å°¼ç‡ï¼ˆÎ² å’Œ Î±ï¼‰ã€‚</p>
<p>å¦‚æœä½ é—®ä¸ºä»€ä¹ˆå¾®åˆ†æ–¹ç¨‹ä¸­æ²¡æœ‰ Ï‰ï¼Œé‚£æ˜¯å› ä¸ºè¿™äº›æ–¹ç¨‹æ˜¯åœ¨æ—‹è½¬å‚è€ƒç³»ä¸­å†™å‡ºçš„ï¼Œå…¶ä¸­æŒ¯åŠ¨çš„é¢‘ç‡å·²ç»è¢«â€œæ—‹è½¬â€æ‰äº†ã€‚è¿™æ˜¯ç‰©ç†ä¸­å¸¸ç”¨çš„ä¸€ç§ç®€åŒ–æŒ¯åŠ¨ç³»ç»Ÿåˆ†æçš„æŠ€æœ¯ã€‚é¢‘ç‡ Ï‰ ä»ç„¶å½±å“ç³»ç»Ÿçš„åŠ¨åŠ›å­¦ï¼Œä½†å®ƒæ˜¯é€šè¿‡æ–¹ç¨‹ä¸­çš„å‚æ•°ï¼ˆå¦‚è€¦åˆå¼ºåº¦ J å’Œé˜»å°¼ç‡ Î² å’Œ Î±ï¼‰é—´æ¥åœ°å½±å“ã€‚</p>
<p>ä»¥ä¸‹æ˜¯è¿™ä¸ªè¿‡ç¨‹çš„æ¨å¯¼ï¼š</p>
<p>é¦–å…ˆï¼Œæˆ‘ä»¬å¯ä»¥å°†è¿™ä¸¤ä¸ªè€¦åˆå¾®åˆ†æ–¹ç¨‹å†™ä¸ºçŸ©é˜µå½¢å¼ï¼š</p>
<p>$$<br>\begin{aligned}<br>&amp; \left[i\left(\omega-\omega_c\right)-\beta\right] \hat{a}-(i J-\sqrt{\kappa \gamma}) \hat{m}&#x3D;0, \<br>&amp; \left[i\left(\omega-\omega_m\right)-\alpha\right] \hat{m}-(i J-\sqrt{\kappa \gamma}) \hat{a}&#x3D;0,<br>\end{aligned}<br>$$</p>
<p>å¯ä»¥å†™ä¸ºï¼š</p>
<h1 id="begin-bmatrix-i-omega-omega-c-beta-amp-iJ-sqrt-kappa-gamma-iJ-sqrt-kappa-gamma-amp-i-omega-omega-m-alpha-end-bmatrix-begin-bmatrix-hat-a-hat-m-end-bmatrix"><a href="#begin-bmatrix-i-omega-omega-c-beta-amp-iJ-sqrt-kappa-gamma-iJ-sqrt-kappa-gamma-amp-i-omega-omega-m-alpha-end-bmatrix-begin-bmatrix-hat-a-hat-m-end-bmatrix" class="headerlink" title="$$\begin{bmatrix}i(\omega-\omega_c)-\beta &amp; -(iJ-\sqrt{\kappa \gamma}) \-(iJ-\sqrt{\kappa \gamma}) &amp; i(\omega-\omega_m)-\alpha\end{bmatrix}\begin{bmatrix}\hat{a} \\hat{m}\end{bmatrix}"></a>$$<br>\begin{bmatrix}<br>i(\omega-\omega_c)-\beta &amp; -(iJ-\sqrt{\kappa \gamma}) \<br>-(iJ-\sqrt{\kappa \gamma}) &amp; i(\omega-\omega_m)-\alpha<br>\end{bmatrix}<br>\begin{bmatrix}<br>\hat{a} \<br>\hat{m}<br>\end{bmatrix}</h1><p>\begin{bmatrix}<br>0 \<br>0<br>\end{bmatrix}<br>$$</p>
<p>è¿™ä¸ªçŸ©é˜µæ–¹ç¨‹çš„è§£å°±æ˜¯å“ˆå¯†é¡¿é‡çŸ©é˜µçš„æœ¬å¾å€¼é—®é¢˜ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥å°†è¿™ä¸ªçŸ©é˜µæ–¹ç¨‹å†™ä¸ºå“ˆå¯†é¡¿é‡çŸ©é˜µçš„å½¢å¼ï¼š</p>
<p>$$<br>H_{e f f} &#x2F; \hbar&#x3D;\left[\begin{array}{cc}<br>\omega_c-i \beta &amp; J+i \Gamma \<br>J+i \Gamma &amp; \omega_m-i \alpha<br>\end{array}\right]<br>$$</p>
<p>å…¶ä¸­ï¼Œ$\omega_c$ å’Œ $\omega_m$ æ˜¯ä¸¤ä¸ªè°æŒ¯å™¨çš„é¢‘ç‡ï¼Œ$\beta$ å’Œ $\alpha$ æ˜¯ä¸¤ä¸ªè°æŒ¯å™¨çš„é˜»å°¼ç‡ï¼Œ$J$ æ˜¯ä¸¤ä¸ªè°æŒ¯å™¨ä¹‹é—´çš„è€¦åˆå¼ºåº¦ï¼Œ$\Gamma$ æ˜¯è€¦åˆçš„é˜»å°¼ç‡ã€‚</p>

            
        </div>
    </div>
    <div class="post-tags">
        
        
    </div>
    <a href="/2023/07/21/%E4%BD%A0%E7%BB%99%E5%87%BA%E7%9A%84%E8%BF%99%E4%B8%A4%E4%B8%AA%E6%96%B9%E7%A8%8B%E6%98%AF%E6%8F%8F%E8%BF%B0%E4%B8%A4%E4%B8%AA%E8%80%A6%E5%90%88%E8%B0%90%E6%8C%AF%E5%99%A8%E7%9A%84%E5%8A%A8%E5%8A%9B%E5%AD%A6%E7%9A%84%E8%80%A6%E5%90%88%E5%BE%AE%E5%88%86%E6%96%B9%E7%A8%8B%E3%80%82%E4%BD%A0%E7%BB%99%E5%87%BA%E7%9A%84%E5%93%88%E5%AF%86%E9%A1%BF%E9%87%8F%E6%98%AF%E7%B3%BB%E7%BB%9F%E8%83%BD%E9%87%8F%E7%9A%84%E7%9F%A9%E9%98%B5%E8%A1%A8%E7%A4%BA%EF%BC%8C%E5%AF%B9%E8%A7%92%E5%85%83%E7%B4%A0%E4%BB%A3%E8%A1%A8%E6%AF%8F%E4%B8%AA%E8%B0%90%E6%8C%AF%E5%99%A8%E7%9A%84%E8%83%BD%E9%87%8F%EF%BC%8C%E9%9D%9E%E5%AF%B9%E8%A7%92%E5%85%83%E7%B4%A0%E4%BB%A3%E8%A1%A8%E4%B8%A4%E4%B8%AA%E8%B0%90%E6%8C%AF%E5%99%A8%E4%B9%8B%E9%97%B4%E7%9A%84%E8%80%A6%E5%90%88%E3%80%82/" class="go-post">é˜…è¯»å…¨æ–‡</a>
</div>

<div class="post">
    <a href="/2023/07/02/DeepMD%E8%AF%A6%E7%BB%86%E5%86%85%E5%AE%B9%E4%BB%8B%E7%BB%8D/">
        <h2 class="post-title">DeepMDè¯¦ç»†å†…å®¹ä»‹ç»</h2>
    </a>
    <div class="category-and-date">
        
        <span class="date">
            <span class="icon">
                <i class="fa-solid fa-calendar fa-fw"></i>
            </span>
            2023/7/2
        </span>
        
        
    </div>
    <div class="description">
        <div class="content" v-pre>
            
            <h1 id="DeePMD-è°ƒç ”æŠ¥å‘Š"><a href="#DeePMD-è°ƒç ”æŠ¥å‘Š" class="headerlink" title="DeePMD è°ƒç ”æŠ¥å‘Š"></a>DeePMD è°ƒç ”æŠ¥å‘Š</h1><ul>
<li><a href="#%E7%AE%80%E4%BB%8B">ç®€ä»‹</a></li>
<li><a href="#%E8%83%8C%E6%99%AF%E5%92%8C%E5%8A%A8%E6%9C%BA">èƒŒæ™¯å’ŒåŠ¨æœº</a></li>
<li><a href="#deepmd-kit-%E6%A6%82%E8%BF%B0">DeePMD-kit æ¦‚è¿°</a></li>
<li><a href="#%E6%A0%B8%E5%BF%83%E7%AE%97%E6%B3%95">æ ¸å¿ƒç®—æ³•</a></li>
<li><a href="#%E4%BB%A3%E7%A0%81%E5%AE%9E%E7%8E%B0%E5%92%8C%E7%BD%91%E7%BB%9C%E6%9E%B6%E6%9E%84">ä»£ç å®ç°å’Œç½‘ç»œæ¶æ„</a></li>
<li><a href="#%E5%9B%BE%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C%E5%9C%A8-deepmd-%E4%B8%AD%E7%9A%84%E5%BA%94%E7%94%A8">å›¾ç¥ç»ç½‘ç»œåœ¨ DeePMD ä¸­çš„åº”ç”¨</a></li>
<li><a href="#%E5%BA%94%E7%94%A8%E6%A1%88%E4%BE%8B">åº”ç”¨æ¡ˆä¾‹</a></li>
<li><a href="#%E6%80%A7%E8%83%BD%E8%AF%84%E4%BC%B0">æ€§èƒ½è¯„ä¼°</a></li>
<li><a href="#%E4%B8%8E%E5%85%B6%E4%BB%96%E5%B7%A5%E5%85%B7%E7%9A%84%E6%AF%94%E8%BE%83">ä¸å…¶ä»–å·¥å…·çš„æ¯”è¾ƒ</a></li>
<li><a href="#%E7%A4%BE%E5%8C%BA%E5%92%8C%E8%B5%84%E6%BA%90">ç¤¾åŒºå’Œèµ„æº</a></li>
<li><a href="#%E6%9C%AA%E6%9D%A5%E5%B1%95%E6%9C%9B">æœªæ¥å±•æœ›</a></li>
<li><a href="#%E7%BB%93%E8%AE%BA">ç»“è®º</a></li>
<li><a href="#%E5%8F%82%E8%80%83%E6%96%87%E7%8C%AE">å‚è€ƒæ–‡çŒ®</a></li>
</ul>
<h2 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h2><h2 id="èƒŒæ™¯ä»‹ç»"><a href="#èƒŒæ™¯ä»‹ç»" class="headerlink" title="èƒŒæ™¯ä»‹ç»"></a>èƒŒæ™¯ä»‹ç»</h2><p>åˆ†å­åŠ¨åŠ›å­¦ï¼ˆMDï¼‰æ¨¡æ‹Ÿåœ¨å‡èšæ€ç‰©ç†ã€ææ–™ç§‘å­¦ã€èšåˆç‰©åŒ–å­¦å’Œåˆ†å­ç”Ÿç‰©å­¦ç­‰é¢†åŸŸå…·æœ‰å¹¿æ³›çš„åº”ç”¨ï¼Œå®ƒå…è®¸ç ”ç©¶äººå‘˜æ£€æŸ¥åŸå­æˆ–åˆ†å­çš„è¡Œä¸ºï¼Œè¿™åœ¨å®éªŒéš¾ä»¥è¿›è¡Œæ—¶å°¤ä¸ºå®è´µã€‚ç„¶è€Œï¼ŒMDæ¨¡æ‹Ÿçš„è´¨é‡å—åˆ°åŠ¿èƒ½ï¼ˆPESï¼‰å‡†ç¡®æ€§çš„é™åˆ¶ã€‚ä¼ ç»Ÿä¸Šï¼Œæœ‰ä¸¤ç§å¸¸è§çš„æ¨¡å‹ï¼šç»éªŒæ€§åŸå­åŠ¿æ¨¡å‹å’Œé‡å­åŠ›å­¦æ¨¡å‹ã€‚ç»éªŒæ€§åŸå­åŠ¿æ¨¡å‹åœ¨è®¡ç®—ä¸Šé«˜æ•ˆä½†å‡†ç¡®æ€§æœ‰é™ï¼Œè€Œé‡å­åŠ›å­¦æ¨¡å‹è™½ç„¶å‡†ç¡®åº¦é«˜ï¼Œä½†è®¡ç®—æˆæœ¬å¾ˆé«˜ã€‚è¿‘å¹´æ¥ï¼Œæœºå™¨å­¦ä¹ ï¼ˆMLï¼‰æ¨¡å‹å¼€å§‹å´­éœ²å¤´è§’ï¼Œç”¨äºè§£å†³å‡†ç¡®æ€§å’Œæ•ˆç‡ä¹‹é—´çš„æƒè¡¡é—®é¢˜ã€‚MLæ¨¡å‹é€šè¿‡è®­ç»ƒæ¥å»ºç«‹åŸå­é…ç½®å’ŒåŠ¿èƒ½ä¹‹é—´çš„å…³ç³»ï¼Œå¹¶èƒ½è¾¾åˆ°ä¸é‡å­åŠ›å­¦æ–¹æ³•ç›¸å½“çš„å‡†ç¡®æ€§ï¼ŒåŒæ—¶å…·æœ‰æ›´ä½çš„è®¡ç®—æˆæœ¬ã€‚æ·±åº¦åŠ¿ï¼ˆDPï¼‰æ¨¡å‹æ˜¯MLæ¨¡å‹çš„ä¸€ç§ï¼Œå®ƒä¸ä»…å…·æœ‰é‡å­åŠ›å­¦ç²¾åº¦ï¼Œè€Œä¸”å…·æœ‰é«˜è®¡ç®—æ•ˆç‡ï¼Œå¹¶ä¸”æ˜¯ç«¯åˆ°ç«¯çš„ï¼Œæ”¯æŒåœ¨ç°ä»£é«˜æ€§èƒ½è®¡ç®—æœºä¸Šé«˜æ•ˆè¿è¡Œã€‚</p>
<p><img src="/../images/image-20230701141805592.png" alt="image-20230701141805592"></p>
<h2 id="DeePMD-kit-æ¦‚è¿°"><a href="#DeePMD-kit-æ¦‚è¿°" class="headerlink" title="DeePMD-kit æ¦‚è¿°"></a>DeePMD-kit æ¦‚è¿°</h2><p>DeePMD-kit æ˜¯ä¸€ä¸ªä½¿ç”¨æ·±åº¦å­¦ä¹ æ¨¡å‹æ¥é«˜æ•ˆæ¨¡æ‹Ÿåˆ†å­åŠ¨åŠ›å­¦çš„å·¥å…·åŒ…ã€‚ä¸‹é¢æ˜¯ç›¸å…³çš„å‚è€ƒå†…å®¹ï¼š</p>
<ul>
<li><strong><a target="_blank" rel="noopener" href="https://docs.deepmodeling.com/projects/deepmd/en/master/index.html">æ–‡æ¡£</a></strong></li>
<li><strong><a target="_blank" rel="noopener" href="https://tutorials.deepmodeling.com/en/latest/">Tutorial</a></strong></li>
<li><strong><a target="_blank" rel="noopener" href="https://github.com/deepmodeling">GitHubä¸»é¡µ</a></strong></li>
<li><strong><a target="_blank" rel="noopener" href="https://www.aissquare.com/">æ•°æ®é›†å’Œæ¨¡å‹çš„å…±äº«å¹³å°</a></strong></li>
</ul>
<p><img src="/../images/image-20230701154308257.png" alt="figure"></p>
<!-- <img src="../images/image-20230701154308257.png" alt="image-20230701154308257" style="zoom:67%;" /> -->

<h3 id="DeePMD-kit-çš„å·¥ä½œæµç¨‹"><a href="#DeePMD-kit-çš„å·¥ä½œæµç¨‹" class="headerlink" title="DeePMD-kit çš„å·¥ä½œæµç¨‹"></a>DeePMD-kit çš„å·¥ä½œæµç¨‹</h3><ol>
<li><p><strong>å‡†å¤‡è®­ç»ƒæ•°æ®</strong>ï¼šä»é‡å­åŠ›å­¦æ¨¡æ‹Ÿæ”¶é›†åŸå­é…ç½®å’Œç›¸åº”çš„èƒ½é‡å’ŒåŠ›ã€‚</p>
</li>
<li><p><strong>é…ç½® DeePMD-kit</strong>ï¼šåˆ›å»ºè¾“å…¥æ–‡ä»¶ï¼ŒæŒ‡å®šè®­ç»ƒæ•°æ®ã€ç¥ç»ç½‘ç»œç»“æ„å’Œè®­ç»ƒå‚æ•°ã€‚</p>
</li>
<li><p><strong>æè¿°ç¬¦ç”Ÿæˆ</strong>ï¼šDeePMD-kit ä½¿ç”¨å±€éƒ¨ç¯å¢ƒçŸ©é˜µ $ \mathcal{R} $ï¼Œå®ƒæè¿°äº†ç‰¹å®šåŸå­åŠå…¶é‚»å±…ä¹‹é—´çš„è·ç¦»å’Œæ–¹å‘å‘é‡ã€‚</p>
</li>
<li><p><strong>åµŒå…¥ç½‘ç»œ</strong>ï¼šå°†æ¯ä¸ªè·ç¦»åµŒå…¥åˆ° $ M_1 $ ç»´å‘é‡ä¸­ï¼Œä»è€Œå°†ç¯å¢ƒçŸ©é˜µ $ \mathcal{R} $ åµŒå…¥åˆ°çŸ©é˜µ $ \mathcal{G} $ ä¸­ã€‚</p>
</li>
<li><p><strong>æ‹Ÿåˆç½‘ç»œ</strong>ï¼šé€šè¿‡çŸ©é˜µä¹˜æ³•ä» $ \mathcal{G} $ ä¸­æå–æè¿°ç¬¦å‘é‡ï¼Œç„¶åå°†æè¿°ç¬¦è¾“å…¥åˆ°æ‹Ÿåˆç½‘ç»œä»¥è·å¾—é¢„æµ‹èƒ½é‡ã€‚</p>
</li>
<li><p><strong>åŸå­ç±»å‹åµŒå…¥</strong>ï¼šDeePMD-kit v2.0 å…è®¸åœ¨ä¸åŒåŸå­ç±»å‹ä¹‹é—´å…±äº«åµŒå…¥ç½‘ç»œå’Œæ‹Ÿåˆç½‘ç»œï¼Œä»è€Œé™ä½è®­ç»ƒå¤æ‚æ€§ã€‚</p>
</li>
</ol>
<p><img src="/../images/image-20230701140012565.png" alt="figure"><br><img src="/../images/image-20230701140054102.png" alt="figure"></p>
<!-- 

<img src="../images/image-20230701140012565.png" alt="image-20230701140012565" style="zoom:50%;" />
<img src="../images/image-20230701140054102.png" alt="image-20230701140054102" style="zoom:50%;" /> -->

<h3 id="DeePMD-kit-çš„åŸç†"><a href="#DeePMD-kit-çš„åŸç†" class="headerlink" title="DeePMD-kit çš„åŸç†"></a>DeePMD-kit çš„åŸç†</h3><h4 id="ç†è®ºåŸºç¡€"><a href="#ç†è®ºåŸºç¡€" class="headerlink" title="ç†è®ºåŸºç¡€"></a>ç†è®ºåŸºç¡€</h4><p>åœ¨ä»‹ç»DPæ–¹æ³•ä¹‹å‰ï¼Œæˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ªåŒ…å«Nä¸ªåŸå­çš„ç³»ç»Ÿçš„åæ ‡çŸ©é˜µ$\mathcal{R} \in \mathbb{R}^{N \times 3}$ï¼Œ</p>
<p>$\mathcal{R}&#x3D;\left{\boldsymbol{r}_1^T, \cdots, \boldsymbol{r}_i^T, \cdots, \boldsymbol{r}_N^T\right}^T, \boldsymbol{r}_i&#x3D;\left(x_i, y_i, z_i\right),(1)$</p>
<p>$\boldsymbol{r}<em>i$åŒ…å«åŸå­$i$çš„3ä¸ªç¬›å¡å°”åæ ‡ï¼Œ$\boldsymbol{\mathcal { R }}$å¯ä»¥è½¬æ¢ä¸ºå±€éƒ¨ç¯å¢ƒçŸ©é˜µ$\left{\boldsymbol{\mathcal { R }}^i\right}</em>{i&#x3D;1}^N$</p>
<p>$\mathcal{R}^i&#x3D;\left{\boldsymbol{r}<em>{1 i}^T, \cdots, \boldsymbol{r}</em>{j i}^T, \cdots, \boldsymbol{r}<em>{N_i, i}^T\right}^T, \boldsymbol{r}</em>{j i}&#x3D;\left(x_{j i}, y_{j i}, z_{j i}\right),(2)$</p>
<p>å…¶ä¸­$j$å’Œ$N_i$æ˜¯åŸå­$i$åœ¨æˆªæ­¢åŠå¾„$r_c$å†…çš„é‚»å±…çš„ç´¢å¼•ï¼Œ$\boldsymbol{r}_{j i} \equiv \boldsymbol{r}_j-\boldsymbol{r}_i$è¢«å®šä¹‰ä¸ºç›¸å¯¹åæ ‡ã€‚<br>åœ¨DPæ–¹æ³•ä¸­ï¼Œç³»ç»Ÿçš„æ€»èƒ½é‡$E$è¢«æ„é€ ä¸ºåŸå­èƒ½é‡çš„æ€»å’Œã€‚</p>
<p>$E&#x3D;\sum_i E_i,(3)$</p>
<p>å…¶ä¸­$E_i$æ˜¯åŸå­$i$çš„å±€éƒ¨åŸå­èƒ½é‡ã€‚$E_i$å–å†³äºåŸå­$i$çš„å±€éƒ¨ç¯å¢ƒï¼š</p>
<p>$E&#x3D;\sum_i E_i&#x3D;\sum_i E\left(\mathcal{R}^i\right),(4)$</p>
<p>$\mathcal{R}^i$åˆ°$E_i$çš„æ˜ å°„åˆ†ä¸¤æ­¥æ„é€ ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œ</p>
<p><img src="https://dp-public.oss-cn-beijing.aliyuncs.com/20220523-143747.png" alt="figure"></p>
<p>é¦–å…ˆï¼Œ$\mathcal{R}^i$è¢«æ˜ å°„åˆ°ä¸€ä¸ªç‰¹å¾çŸ©é˜µï¼Œä¹Ÿç§°ä¸ºæè¿°ç¬¦ï¼Œ$\mathcal{D}^i$ï¼Œä»¥ä¿æŒç³»ç»Ÿçš„å¹³ç§»ã€æ—‹è½¬å’Œæ’åˆ—å¯¹ç§°æ€§ã€‚$\mathcal{R}^i \in \mathbb{R}^{N_i \times 3}$é¦–å…ˆè¢«è½¬æ¢ä¸ºå¹¿ä¹‰åæ ‡$\tilde{\mathcal{R}}^i \in \mathbb{R}^{N_i \times 4}$ã€‚</p>
<p>$\left{x_{j i}, y_{j i}, z_{j i}\right} \mapsto\left{s\left(r_{j i}\right), \hat{x}<em>{j i}, \hat{y}</em>{j i}, \hat{z}_{j i}\right}$</p>
<p>å…¶ä¸­$\hat{x}<em>{j i}&#x3D;\frac{s\left(r</em>{j j}\right) x x_{j i}}{r_{j i}}, \hat{y}<em>{j i}&#x3D;\frac{s\left(r</em>{j j}\right) y \ddot{j}}{r_{j i}}$, å’Œ $\hat{z}<em>{j i}&#x3D;\frac{s\left(r</em>{j j}\right) z j i}{r_{j i}}$ã€‚$s\left(r_{j i}\right)$æ˜¯ä¸€ä¸ªæƒé‡å‡½æ•°ï¼Œç”¨äºå‡å°‘ç¦»åŸå­$i$è¾ƒè¿œçš„ç²’å­çš„æƒé‡ï¼Œå®šä¹‰ä¸ºï¼š</p>
<p>$s\left(r_{j i}\right)&#x3D; \begin{cases}\frac{1}{r_{j i}}, &amp; r_{j i}&lt;r_{c s} \ \frac{1}{r_{j i}}\left{\left(\frac{r_{j i}-r_{c s}}{r_c-r_{c s}}\right)^3\left(-6\left(\frac{r_{j j}-r_{c s}}{r_c-r_{c s}}\right)^2+15 \frac{r_{j j}-r_{c s}}{r_c-r_{c s}}-10\right)+1\right}, &amp; r_{c s}&lt;r_{j i}&lt;r_c,(6) \ 0, &amp; r_{j i}&gt;r_c\end{cases}$</p>
<p>è¿™é‡Œ$r_{j i}$æ˜¯åŸå­$i$å’Œ$j$ä¹‹é—´çš„æ¬§å‡ é‡Œå¾—è·ç¦»ï¼Œ$r_{c s}$æ˜¯å¹³æ»‘æˆªæ­¢å‚æ•°ã€‚é€šè¿‡å¼•å…¥$s\left(r_{j i}\right)$ï¼Œ$\tilde{\mathcal{R}}^i$ä¸­çš„åˆ†é‡ä»$r_{c s}$åˆ°$r_c$å¹³æ»‘åœ°å˜ä¸ºé›¶ã€‚ç„¶åï¼Œ$s\left(r_{j i}\right)$ï¼Œå³$\tilde{\mathcal{R}}^i$çš„ç¬¬ä¸€åˆ—ï¼Œé€šè¿‡åµŒå…¥ç¥ç»ç½‘ç»œæ˜ å°„åˆ°åµŒå…¥çŸ©é˜µ$\mathcal{G}^{i 2} \in \mathbb{R}^{N_i \times M_1}$ã€‚é€šè¿‡å–$\mathcal{G}^{i 2} \in \mathbb{R}^{N_i \times M_2}$çš„å‰$M_2\left(&lt;M_1\right)$åˆ—ï¼Œæˆ‘ä»¬å¾—åˆ°å¦ä¸€ä¸ªåµŒå…¥çŸ©é˜µ$\mathcal{G}^{i 2} \in \mathbb{R}^{N_i \times M_2}$ã€‚æœ€åï¼Œæˆ‘ä»¬å®šä¹‰åŸå­$i$çš„ç‰¹å¾çŸ©é˜µ$\mathcal{G}^{i 2} \in \mathbb{R}^{M_1 \times M_2}$ï¼š</p>
<p>$\mathcal{D}^i&#x3D;\left(\mathcal{G}^{i 1}\right)^T \tilde{\mathcal{R}}^i\left(\tilde{\mathcal{R}}^i\right)^T \mathcal{G}^{i 2},(7)$</p>
<p>åœ¨ç‰¹å¾çŸ©é˜µä¸­ï¼Œé€šè¿‡$\tilde{\mathcal{R}}^i\left(\tilde{\mathcal{R}}^i\right)^T$çš„çŸ©é˜µä¹˜ç§¯ä¿æŒå¹³ç§»å’Œæ—‹è½¬å¯¹ç§°æ€§ï¼Œå¹¶é€šè¿‡$\left(\mathcal{G}^i\right)^T \tilde{\mathcal{R}}^i$çš„çŸ©é˜µä¹˜ç§¯ä¿æŒæ’åˆ—å¯¹ç§°æ€§ã€‚æ¥ä¸‹æ¥ï¼Œæ¯ä¸ª$\mathcal{D}^i$é€šè¿‡æ‹Ÿåˆç½‘ç»œæ˜ å°„åˆ°å±€éƒ¨åŸå­èƒ½é‡$E_i$ã€‚</p>
<p>åµŒå…¥ç½‘ç»œ$\mathcal{N}^e$å’Œæ‹Ÿåˆç½‘ç»œ$\mathcal{N}^f$éƒ½æ˜¯åŒ…å«å‡ ä¸ªéšè—å±‚çš„å‰é¦ˆç¥ç»ç½‘ç»œã€‚ä»å‰ä¸€å±‚çš„è¾“å…¥æ•°æ®$d_l^{\text {in }}$åˆ°ä¸‹ä¸€å±‚çš„è¾“å‡ºæ•°æ®$d_k^{\text {out }}$çš„æ˜ å°„ç”±çº¿æ€§å’Œéçº¿æ€§å˜æ¢ç»„æˆã€‚</p>
<p>$d_k^{o u t}&#x3D;\varphi\left(\sum_{k l} w_{k l} d_l^{i n}+b_k\right),(8)$</p>
<p>åœ¨ç­‰å¼(8)ä¸­ï¼Œ$w_{k l}$æ˜¯è¿æ¥æƒé‡ï¼Œ$b_k$æ˜¯åç½®æƒé‡ï¼Œ$\varphi$æ˜¯éçº¿æ€§æ¿€æ´»å‡½æ•°ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåªåœ¨è¾“å‡ºèŠ‚ç‚¹åº”ç”¨çº¿æ€§å˜æ¢ã€‚åµŒå…¥å’Œæ‹Ÿåˆç½‘ç»œä¸­åŒ…å«çš„å‚æ•°æ˜¯é€šè¿‡æœ€å°åŒ–æŸå¤±å‡½æ•°$L$è·å¾—çš„ï¼š</p>
<p>$L\left(p_\epsilon, p_f, p_{\xi}\right)&#x3D;\frac{p_\epsilon}{N} \Delta \epsilon^2+\frac{p_f}{3 N} \sum_i\left|\Delta \boldsymbol{F}<em>i\right|^2+\frac{p</em>{\xi}}{9 N}|\Delta \xi|^2,(9)$</p>
<p>å…¶ä¸­$\Delta \epsilon, \Delta \boldsymbol{F}<em>i$, å’Œ $\Delta \xi$åˆ†åˆ«è¡¨ç¤ºèƒ½é‡ã€åŠ›å’Œåº”åŠ›çš„å‡æ–¹æ ¹è¯¯å·®ã€‚åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­ï¼Œå‰å› å­$p_\epsilon, p_f$, å’Œ $p</em>{\xi}$ç”±ä»¥ä¸‹å…¬å¼ç¡®å®š</p>
<p>$p(t)&#x3D;p^{\operatorname{limit}}\left[1-\frac{r_l(t)}{r_l^0}\right]+p^{\operatorname{start}}\left[\frac{r_l(t)}{r_l^0}\right]$</p>
<p>å…¶ä¸­$r_l(t)$å’Œ$r_l^0$åˆ†åˆ«æ˜¯è®­ç»ƒæ­¥éª¤$t$å’Œè®­ç»ƒæ­¥éª¤0çš„å­¦ä¹ ç‡ã€‚$r_l(t)$å®šä¹‰ä¸º</p>
<p>$r_l(t)&#x3D;r_l^0 \times d_r^{t &#x2F; d_s}$</p>
<p>å…¶ä¸­$d_r$å’Œ$d_s$åˆ†åˆ«æ˜¯è¡°å‡ç‡å’Œè¡°å‡æ­¥éª¤ã€‚è¡°å‡ç‡$d_r$éœ€è¦å°äº1ã€‚æœ‰å…³DeepPot-SE (DP)æ–¹æ³•çš„è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜…åŸå§‹è®ºæ–‡ã€‚</p>
<h4 id="åˆ†å­åŠ¨åŠ›å­¦"><a href="#åˆ†å­åŠ¨åŠ›å­¦" class="headerlink" title="åˆ†å­åŠ¨åŠ›å­¦"></a>åˆ†å­åŠ¨åŠ›å­¦</h4><p>åˆ†å­åŠ¨åŠ›å­¦æ¨¡æ‹Ÿæ˜¯ä¸€ç§ä»å¾®è§‚å‡ºå‘çš„æ¨¡æ‹Ÿæ‰‹æ®µï¼Œåœ¨ç§‘å­¦å‘ç°ï¼Œå·¥ç¨‹è®¾è®¡ç­‰é¢†åŸŸå…·æœ‰é‡è¦ä½œç”¨ã€‚</p>
<p>$\begin{aligned}<br>&amp; m_i \frac{d^2 \boldsymbol{r}_i}{d t^2}&#x3D;-\nabla_i E \<br>&amp; E&#x3D;E\left(\boldsymbol{r}_1, \boldsymbol{r}_2, \ldots, \boldsymbol{r}_N\right)<br>\end{aligned}$</p>
<ul>
<li>è®¡ç®—èƒ½é‡çš„å¸¸è§çš„æ–¹å¼</li>
</ul>
<table>
<thead>
<tr>
<th>æ–¹æ³•</th>
<th>ä¾‹å­</th>
<th>ä¼˜ç¼ºç‚¹</th>
</tr>
</thead>
<tbody><tr>
<td>ç¬¬ä¸€æ€§åŸç†è®¡ç®—å¯†åº¦æ³›å‡½ç†è®º(DFT)</td>
<td>å¯†åº¦æ³›å‡½ç†è®º(DFT)</td>
<td>ç²¾åº¦é«˜ï¼Œè®¡ç®—å¤æ‚åº¦é«˜</td>
</tr>
<tr>
<td>è®¡ç®—ç»éªŒåŠ›åœº</td>
<td>LJï¼ŒEAMï¼ŒMEAM</td>
<td>è®¡ç®—å¤æ‚åº¦ä½ï¼Œç²¾åº¦ä¸å¯é </td>
</tr>
</tbody></table>
<h4 id="DeePKSï¼ˆç”µå­ç»“æ„ï¼‰"><a href="#DeePKSï¼ˆç”µå­ç»“æ„ï¼‰" class="headerlink" title="DeePKSï¼ˆç”µå­ç»“æ„ï¼‰"></a>DeePKSï¼ˆç”µå­ç»“æ„ï¼‰</h4><p><img src="/../images/image-20230701173718442.png" alt="figure"></p>
<!-- <img src="../images/image-20230701173718442.png" alt="image-20230701173718442" style="zoom:67%;" /> -->

<p>æ»¡è¶³è¦æ±‚æ¯”è¾ƒå¥½çš„æ˜¯<code>å•ç”µå­çš„å¯†åº¦çŸ©é˜µ</code>ï¼Œ ç„¶åæŠŠæ³¢å‡½æ•°æŠ•å½±åˆ°ä¸€ç»„æ¯”è¾ƒå¥½çš„<code>å®Œå¤‡åŸº</code>ä¸Šã€‚<br><img src="/../images/image-20230701175149730.png" alt="figure"></p>
<!-- <img src="../images/image-20230701175149730.png" alt="image-20230701175149730" style="zoom:67%;" /> -->



<h4 id><a href="#" class="headerlink" title></a></h4><p><img src="/../images/image-20230701175739715.png" alt="figure"></p>
<!-- <img src="../images/image-20230701175739715.png" alt="image-20230701175739715" style="zoom:67%;" /> -->

<p>æ„å»ºè¿‡ç¨‹</p>
<p><img src="/../images/image-20230701143507583.png" alt="image-20230701143507583"></p>
<ol>
<li>ç»™å®šåŸå­åæ ‡ï¼Œ å†™å‡ºç”µå­ç»“æ„ï¼Œ åˆ©ç”¨DFTè®¡ç®—å¾—åˆ°èƒ½é‡ï¼Œ æ„å»ºåæ ‡èƒ½é‡å¯¹ï¼Œå…¸å‹çš„<code>ç›‘ç£å­¦ä¹ </code>ï¼Œ<code>å›å½’</code>é—®é¢˜ã€‚</li>
<li>åˆ©ç”¨DNNæ¥æ„å»º<code>ä½“ç³»åæ ‡</code>å’Œ<code>èƒ½é‡</code>çš„å…³ç³»ã€‚</li>
</ol>
<ul>
<li><p>å¸¸è§çš„é—®é¢˜ï¼š </p>
</li>
<li><ul>
<li>ç‰©ç†çº¦æŸï¼ˆæ—‹è½¬æ€§ï¼Œå¯¹ç§°æ€§ï¼Œ å¹³ç§»ï¼Œ äº¤æ¢â€¦ï¼‰</li>
</ul>
</li>
</ul>
<p><img src="/../images/image-20230701143814105.png" alt="figure"></p>
  <!-- <img src="../images/image-20230701143814105.png" alt="image-20230701143814105" style="zoom: 67%;" /> -->

<ul>
<li><p>å°åŸå­æ•°é‡è®­ç»ƒå¾—åˆ°çš„åœ¨å¤§ä½“ç³»ä¸Šæ˜¯å¦å­˜åœ¨é—®é¢˜ï¼Ÿ</p>
</li>
<li><p>æ·±åº¦åŠ¿èƒ½çš„æ„å»ºå…³ç³»<br>$<br>E&#x3D;\sum_i \mathcal{N}<em>{\alpha_i}\left(\mathcal{D}</em>{\alpha_i}\left(r_i,\left{r_j\right}_{j \in n(i)}\right)\right)<br>$</p>
</li>
</ul>
<p><img src="/../images/image-20230701144137434.png" alt="figure"></p>
<!-- <img src="../images/image-20230701144137434.png" alt="image-20230701144137434" style="zoom: 67%;" /> -->

<p>Function $f\left(x_1, x_2, \ldots x_N\right)$ is permutationally invariant if and only if there exist $\rho$ and $\phi$ such that $f\left(\left{x_i\right}\right)&#x3D;\rho\left(\sum_i \phi\left(x_i\right)\right)$<br>$<br>\mathcal{R}<em>i&#x3D;\left(\begin{array}{cccc}<br>1 &#x2F; r</em>{i 1} &amp; x_{i 1} &#x2F; r_{i 1}^2 &amp; y_{i 1} &#x2F; r_{i 1}^2 &amp; z_{i 1} &#x2F; r_{i 1}^2 \<br>1 &#x2F; r_{i 2} &amp; x_{i 2} &#x2F; r_{i 2}^2 &amp; y_{i 2} &#x2F; r_{i 2}^2 &amp; z_{i 2} &#x2F; r_{i 2}^2 \<br>1 &#x2F; r_{i 3} &amp; x_{i 3} &#x2F; r_{i 3}^2 &amp; y_{i 3} &#x2F; r_{i 3}^2 &amp; z_{i 3} &#x2F; r_{i 3}^2 \</p>
<p>\vdots &amp; \vdots &amp; \vdots &amp; \vdots<br>\end{array}\right) \<br>\mathcal{G}_i&#x3D;\left(\begin{array}{cccc}</p>
<p>G_1\left(r_{i 1}\right)  G_2\left(r_{i 1}\right) &amp; G_3\left(r_{i 1}\right) &amp; \cdots \<br>G_1\left(r_{i 2}\right) &amp; G_2\left(r_{i 2}\right) &amp; G_3\left(r_{i 2}\right) &amp; \cdots \<br>G_1\left(r_{i 3}\right) &amp; G_2\left(r_{i 3}\right) &amp; G_3\left(r_{i 3}\right) &amp; \cdots \<br>\vdots &amp; \vdots &amp; \vdots &amp; \ddots<br>\end{array}\right)<br>$</p>
<blockquote>
<p>Rï¼š ç¯å¢ƒçŸ©é˜µï¼Œ å¯¹äºæ¯ä¸€ä¸ªåŸå­æ¥è¯´çš„ï¼Œ å…ƒç´ æ˜¯åŸå­ä¹‹é—´çš„ç›¸å¯¹è·ç¦»ï¼Œæ‰€ä»¥æ»¡è¶³å¹³ç§»ç›¸å¯¹æ€§ï¼Œ </p>
<p>Gï¼š embedding matrixã€‚<br><img src="/../images/image-20230701144137434.png" alt="figure"></p>
</blockquote>
<!-- <img src="../images/image-20230701144805918.png" alt="image-20230701144805918" style="zoom:67%;" /> -->

<p>å‘¨æœŸä¸å˜ï¼š<br>$<br>\mathcal{D}_i&#x3D;\left(\mathcal{G}_i^{&lt;}\right)^T \mathcal{R}_i\left(\mathcal{R}_i\right)^T \mathcal{G}_i<br>$</p>
<p>æ—‹è½¬ä¸å˜ï¼š<br>$<br>\tilde{\mathcal{D}}_i&#x3D;\left(\mathcal{G}_i\right)^T\left(\mathcal{R}_i U\right)\left(\mathcal{R}_i U\right)^T \mathcal{G}_i&#x3D;\left(\mathcal{G}_i\right)^T \mathcal{R}_i U U^T \mathcal{R}_i \mathcal{G}_i&#x3D;\mathcal{D}_i<br>$</p>
<p>ç¥ç»ç½‘ç»œçš„æ„å»º:<br><img src="/../images/image-20230701144137434.png" alt="figure"></p>
<img src="../images/image-20230701145048547.png" alt="image-20230701145048547" style="zoom:67%;">



<h4 id="æ•°æ®é›†æ„å»º"><a href="#æ•°æ®é›†æ„å»º" class="headerlink" title="æ•°æ®é›†æ„å»º"></a>æ•°æ®é›†æ„å»º</h4><p><img src="/../images/image-20230701145823815.png" alt="image-20230701145823815"></p>
<p><img src="/../images/image-20230701150019764.png" alt="image-20230701150019764"></p>
<p><img src="/../images/image-20230701150243858.png" alt="image-20230701150243858"></p>
<blockquote>
<p>éœ€è¦ä¿è¯ï¼Œå¤§ä½“ç³»ç»“æ„ä¸­çš„å±€éƒ¨ä½“ç³»çš„ç»“æœéƒ½åœ¨æ•°æ®é›†é‡Œé¢æœ‰å®ç°ã€‚</p>
</blockquote>
<p><img src="/../images/image-20230701150513105.png" alt="image-20230701150513105"></p>
<h3 id="DeePMD-kit-çš„ä»£ç å®ç°"><a href="#DeePMD-kit-çš„ä»£ç å®ç°" class="headerlink" title="DeePMD-kit çš„ä»£ç å®ç°"></a>DeePMD-kit çš„ä»£ç å®ç°</h3><p><strong>ä»£ç ä¿®æ”¹</strong>ï¼š DeePMD-kit çš„ä»£ç å®ç°æ¶‰åŠåˆ°å‡ ä¸ªä¸»è¦éƒ¨åˆ†ï¼ŒåŒ…æ‹¬<code>trainer</code>ï¼Œ<code>model</code>ï¼Œ<code>embedding net</code> å’Œ <code>fitting net</code>ã€‚<code>trainer</code> éƒ¨åˆ†è§£æè¾“å…¥ JSON æ–‡ä»¶ä¸­çš„å‚æ•°ã€‚<code>model</code> éƒ¨åˆ†æ„å»ºæ“ä½œå›¾ï¼ŒåŒ…æ‹¬<code>type embed net</code>ï¼Œ<code>embedding net</code> å’Œ <code>fitting net</code>ã€‚<code>embedding net</code> æ¥æ”¶ç¯å¢ƒçŸ©é˜µ $ \mathcal{R} $ ä½œä¸ºè¾“å…¥ï¼Œå¹¶è¾“å‡ºçŸ©é˜µ $ \mathcal{G} $ã€‚<code>fitting net</code> æ¥æ”¶æè¿°ç¬¦å‘é‡ä½œä¸ºè¾“å…¥ï¼Œå¹¶è¾“å‡ºèƒ½é‡é¢„æµ‹ã€‚</p>
<p><strong>æ¨¡å‹è®­ç»ƒçš„ä»£ç </strong>ï¼š</p>
<pre><code class="python">class Trainer () :
    def __init__(self, jdata, run_opt):
        # åˆå§‹åŒ–å‡½æ•°ï¼Œè®¾ç½®è®­ç»ƒå‚æ•°å’Œè¿è¡Œé€‰é¡¹

    def build (self, stop_batch = 0) :
        # æ„å»ºè®­ç»ƒæ¨¡å‹

    def train (self, 
               stop_batch = 0,
               is_init = True, 
               print_iter = 100, 
               save_iter = 1000, 
               save_ckpt = True) :
        # è®­ç»ƒæ¨¡å‹çš„ä¸»è¦å‡½æ•°
        # stop_batch: åœæ­¢è®­ç»ƒçš„æ‰¹æ¬¡æ•°
        # is_init: æ˜¯å¦åˆå§‹åŒ–æ¨¡å‹
        # print_iter: æ‰“å°æ—¥å¿—çš„è¿­ä»£æ¬¡æ•°
        # save_iter: ä¿å­˜æ¨¡å‹çš„è¿­ä»£æ¬¡æ•°
        # save_ckpt: æ˜¯å¦ä¿å­˜æ£€æŸ¥ç‚¹

    def validate (self, 
                  tr_data, 
                  tr_pref) :
        # éªŒè¯æ¨¡å‹

    def get_feed_dict (self, 
                       batch,
                       is_training) :
        # è·å–è®­ç»ƒæ•°æ®çš„feedå­—å…¸

    def print_head (self) :
        # æ‰“å°è®­ç»ƒä¿¡æ¯çš„å¤´éƒ¨

    def print_info (self, 
                    cur_batch,
                    time,
                    data) :
        # æ‰“å°è®­ç»ƒä¿¡æ¯
</code></pre>
<h3 id="è®­ç»ƒå’ŒéªŒè¯"><a href="#è®­ç»ƒå’ŒéªŒè¯" class="headerlink" title="è®­ç»ƒå’ŒéªŒè¯"></a>è®­ç»ƒå’ŒéªŒè¯</h3><p>ä½¿ç”¨å¤§é‡çš„è®­ç»ƒæ•°æ®ï¼ˆåŸå­é…ç½®å’Œç›¸åº”çš„èƒ½é‡å’ŒåŠ›ï¼‰æ¥è®­ç»ƒ DeePMD-kit æ¨¡å‹çš„ç¥ç»ç½‘ç»œã€‚é€šè¿‡æœ€å°åŒ–æ¨¡å‹é¢„æµ‹å’Œå®é™…èƒ½é‡å’ŒåŠ›ä¹‹é—´çš„å·®å¼‚æ¥è°ƒæ•´ç½‘ç»œçš„æƒé‡ã€‚è®­ç»ƒå®Œæˆåï¼Œæ¨¡å‹éœ€è¦ä½¿ç”¨æ–°æ•°æ®è¿›è¡ŒéªŒè¯ï¼Œä»¥è¯„ä¼°å…¶æ€§èƒ½ã€‚è¿™æ¶‰åŠå°†æ¨¡å‹åœ¨è®­ç»ƒæœŸé—´æœªè§è¿‡çš„åŸå­é…ç½®è¾“å…¥ï¼Œå¹¶å°†æ¨¡å‹çš„é¢„æµ‹ä¸å®é™…èƒ½é‡å’ŒåŠ›è¿›è¡Œæ¯”è¾ƒã€‚</p>
<h3 id="æ¨¡æ‹Ÿ"><a href="#æ¨¡æ‹Ÿ" class="headerlink" title="æ¨¡æ‹Ÿ"></a>æ¨¡æ‹Ÿ</h3><p>ä¸€æ—¦æ¨¡å‹ç»è¿‡è®­ç»ƒå’ŒéªŒè¯ï¼Œå®ƒå°±å¯ä»¥ç”¨äºåˆ†å­åŠ¨åŠ›å­¦æ¨¡æ‹Ÿã€‚è¿™æ˜¯ä»¥ Markdown æ ¼å¼ä¹¦å†™çš„ DeePMD-kit çš„æ¦‚è¿°ã€‚è¿™æ®µå†…å®¹å¯ä»¥ç²˜è´´åˆ° Markdown ç¼–è¾‘å™¨æˆ–å…¼å®¹ Markdown çš„å¹³å°ï¼ˆå¦‚ GitHubã€Jupyter Notebookç­‰ï¼‰ä¸­ï¼Œå¹¶ä¼šè¢«æ¸²æŸ“æˆç»“æ„åŒ–çš„æ–‡æœ¬ï¼ŒåŒ…æ‹¬æ ‡é¢˜ã€åˆ—è¡¨å’Œå›¾ç‰‡ï¼ˆè¯·æ³¨æ„ï¼Œå›¾ç‰‡URLåº”è¯¥è¢«æ›¿æ¢ä¸ºå®é™…çš„å›¾ç‰‡é“¾æ¥ï¼‰ã€‚</p>
<div style="page-break-after: always;">
    <button>ä½ å¥½ </button>
</div>


<div style="page-break-after: always;"></div>

<h2 id="å›¾ç¥ç»ç½‘ç»œåœ¨-DeePMD-ä¸­çš„åº”ç”¨"><a href="#å›¾ç¥ç»ç½‘ç»œåœ¨-DeePMD-ä¸­çš„åº”ç”¨" class="headerlink" title="å›¾ç¥ç»ç½‘ç»œåœ¨ DeePMD ä¸­çš„åº”ç”¨"></a>å›¾ç¥ç»ç½‘ç»œåœ¨ DeePMD ä¸­çš„åº”ç”¨</h2><p>æ¢è®¨å¦‚ä½•ä½¿ç”¨å›¾ç¥ç»ç½‘ç»œæ¥æ”¹è¿› DeePMD-kit çš„æ€§èƒ½å’Œç²¾åº¦ã€‚</p>
<div style="page-break-after: always;"></div>

<h2 id="åº”ç”¨æ¡ˆä¾‹"><a href="#åº”ç”¨æ¡ˆä¾‹" class="headerlink" title="åº”ç”¨æ¡ˆä¾‹"></a>åº”ç”¨æ¡ˆä¾‹</h2><p>å±•ç¤º DeePMD-kit åœ¨å®é™…é—®é¢˜ä¸­çš„åº”ç”¨ï¼Œå¦‚ææ–™ç§‘å­¦å’Œç”Ÿç‰©åˆ†å­ã€‚</p>
<div style="page-break-after: always;"></div>

<h2 id="æ€§èƒ½è¯„ä¼°"><a href="#æ€§èƒ½è¯„ä¼°" class="headerlink" title="æ€§èƒ½è¯„ä¼°"></a>æ€§èƒ½è¯„ä¼°</h2><p>è¯„ä¼° DeePMD-kit çš„å‡†ç¡®æ€§å’Œæ•ˆç‡ã€‚</p>
<div style="page-break-after: always;"></div>

<h2 id="ä¸å…¶ä»–å·¥å…·çš„æ¯”è¾ƒ"><a href="#ä¸å…¶ä»–å·¥å…·çš„æ¯”è¾ƒ" class="headerlink" title="ä¸å…¶ä»–å·¥å…·çš„æ¯”è¾ƒ"></a>ä¸å…¶ä»–å·¥å…·çš„æ¯”è¾ƒ</h2><p>å°† DeePMD-kit ä¸å…¶ä»–åˆ†å­åŠ¨åŠ›å­¦æ¨¡æ‹Ÿå·¥å…·è¿›è¡Œæ¯”è¾ƒã€‚</p>
<div style="page-break-after: always;"></div>

<h2 id="ç¤¾åŒºå’Œèµ„æº"><a href="#ç¤¾åŒºå’Œèµ„æº" class="headerlink" title="ç¤¾åŒºå’Œèµ„æº"></a>ç¤¾åŒºå’Œèµ„æº</h2><p>ä»‹ç» DeePMD-kit çš„ç¤¾åŒºå’Œç›¸å…³èµ„æºï¼Œå¦‚æ–‡æ¡£å’Œæ•™ç¨‹ã€‚</p>
<div style="page-break-after: always;"></div>

<h2 id="æœªæ¥å±•æœ›"><a href="#æœªæ¥å±•æœ›" class="headerlink" title="æœªæ¥å±•æœ›"></a>æœªæ¥å±•æœ›</h2><p>æ¢è®¨ DeePMD-kit çš„æœªæ¥å‘å±•æ–¹å‘å’Œæ½œåœ¨æ”¹è¿›ã€‚</p>
<div style="page-break-after: always;"></div>

<h2 id="ç»“è®º"><a href="#ç»“è®º" class="headerlink" title="ç»“è®º"></a>ç»“è®º</h2><p>æ€»ç»“æŠ¥å‘Šçš„ä¸»è¦å‘ç°å’Œç»“è®ºã€‚</p>
<div style="page-break-after: always;"></div>

<h2 id="å‚è€ƒæ–‡çŒ®"><a href="#å‚è€ƒæ–‡çŒ®" class="headerlink" title="å‚è€ƒæ–‡çŒ®"></a>å‚è€ƒæ–‡çŒ®</h2><p>åˆ—å‡ºç”¨äºç¼–å†™æŠ¥å‘Šçš„å‚è€ƒæ–‡çŒ®ã€‚</p>

            
        </div>
    </div>
    <div class="post-tags">
        
        
    </div>
    <a href="/2023/07/02/DeepMD%E8%AF%A6%E7%BB%86%E5%86%85%E5%AE%B9%E4%BB%8B%E7%BB%8D/" class="go-post">é˜…è¯»å…¨æ–‡</a>
</div>

<div class="post">
    <a href="/2023/06/17/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E6%A1%86%E6%9E%B6/">
        <h2 class="post-title">æ·±åº¦å­¦ä¹ æ¡†æ¶</h2>
    </a>
    <div class="category-and-date">
        
        <span class="date">
            <span class="icon">
                <i class="fa-solid fa-calendar fa-fw"></i>
            </span>
            2023/6/17
        </span>
        
        
    </div>
    <div class="description">
        <div class="content" v-pre>
            
            
            
        </div>
    </div>
    <div class="post-tags">
        
        
    </div>
    <a href="/2023/06/17/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E6%A1%86%E6%9E%B6/" class="go-post">é˜…è¯»å…¨æ–‡</a>
</div>

<div class="post">
    <a href="/2023/06/15/%E7%BB%84%E4%BC%9A%E6%B1%87%E6%8A%A5-%E5%88%86%E5%AD%90%E5%B0%BA%E5%BA%A6%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/">
        <h2 class="post-title">ç»„ä¼šæ±‡æŠ¥-åˆ†å­å°ºåº¦æ·±åº¦å­¦ä¹ </h2>
    </a>
    <div class="category-and-date">
        
        <span class="date">
            <span class="icon">
                <i class="fa-solid fa-calendar fa-fw"></i>
            </span>
            2023/6/15
        </span>
        
        
    </div>
    <div class="description">
        <div class="content" v-pre>
            
            <h3 id="åŸºäºåŸå­å’Œç¥ç»ç½‘ç»œæ–¹æ³•çš„ç²¾ç¡®å’Œé«˜æ•ˆçš„è¿‡ç¨‹æ¨¡æ‹Ÿ"><a href="#åŸºäºåŸå­å’Œç¥ç»ç½‘ç»œæ–¹æ³•çš„ç²¾ç¡®å’Œé«˜æ•ˆçš„è¿‡ç¨‹æ¨¡æ‹Ÿ" class="headerlink" title="åŸºäºåŸå­å’Œç¥ç»ç½‘ç»œæ–¹æ³•çš„ç²¾ç¡®å’Œé«˜æ•ˆçš„è¿‡ç¨‹æ¨¡æ‹Ÿ"></a>åŸºäºåŸå­å’Œç¥ç»ç½‘ç»œæ–¹æ³•çš„ç²¾ç¡®å’Œé«˜æ•ˆçš„è¿‡ç¨‹æ¨¡æ‹Ÿ</h3><ul>
<li>ä½œè€…å•ä½ï¼šå°ç§¯ç”µ</li>
</ul>
<blockquote>
<p>è¿™ç¯‡è®ºæ–‡è®¨è®ºäº†ä¸€ç§æ–°çš„åŸºäºæœºå™¨å­¦ä¹ å’ŒåŸå­æ¨¡æ‹Ÿæ–¹æ³•çš„å¼ºå¤§ç ”ç©¶æ–¹æ³•ã€‚åˆ©ç”¨è¿™ç§æ–¹æ³•ï¼Œä½œè€…é¢„æµ‹äº†ä½¿ç”¨Si2H6ï¼ˆç¡…çƒ·ï¼‰å‰é©±ä½“è¿›è¡Œç¡…å¤–å»¶ç”Ÿé•¿çš„ä¸€ç§å…ˆå‰æœªè¢«å‘ç°çš„ååº”åºåˆ—ã€‚è¿™ä¸€å¤æ‚çš„è¡¨é¢ååº”æœºåˆ¶é€šè¿‡å…ƒåŠ¨åŠ›å­¦æ¨¡æ‹Ÿæ­ç¤ºå‡ºæ¥ï¼Œå®ƒæ¶‰åŠåˆ°å¯æ§çš„ä¸­é—´ä½“SiH2çš„å½¢æˆè¿‡ç¨‹ï¼Œè§£é‡Šäº†åœ¨H2è½½æ°”å­˜åœ¨ä¸‹è¿›è¡ŒSi2H6å¸é™„æ—¶ï¼Œå®éªŒæŠ¥å‘Šä¸­é•¿æœŸæœªè§£çš„ç”Ÿé•¿å¹³å°ç°è±¡ã€‚</p>
<p>ç”±äºå…¶å‡†ç¡®æ€§å’Œçµæ´»çš„è®¾è®¡ï¼Œè¿™ä¸ªå·¥ä½œæµæ¨¡å‹å¯ä»¥è¢«åº”ç”¨äºä»»ä½•æ²‰ç§¯å’Œèš€åˆ»è¿‡ç¨‹æ¡ä»¶çš„ä¼˜åŒ–ï¼Œä»¥æé«˜è–„è†œè´¨é‡ï¼Œå¹¶ä¸ºä¸‹ä¸€ä»£ç”µå­è®¾å¤‡ææ–™æä¾›äº§é‡æ”¹è¿›çš„é€”å¾„ã€‚</p>
</blockquote>
<h4 id="æ–¹æ³•"><a href="#æ–¹æ³•" class="headerlink" title="æ–¹æ³•"></a>æ–¹æ³•</h4><p><img src="/../images/image-20230616104936985.png" alt="image-20230616104936985"></p>
<p>åˆ©ç”¨<code>VASP</code>å’Œ<code>DeepMD</code>æ¥æ„å»ºæ·±åº¦å­¦ä¹ ï¼Œ å°±æ˜¯åˆ©ç”¨å‰è€…è®¡ç®—åŠ›åœºï¼Œåˆ©ç”¨åè€…æ‹Ÿåˆã€‚</p>
<h4 id="æ¨¡å‹è®­ç»ƒä¸éªŒè¯"><a href="#æ¨¡å‹è®­ç»ƒä¸éªŒè¯" class="headerlink" title="æ¨¡å‹è®­ç»ƒä¸éªŒè¯"></a>æ¨¡å‹è®­ç»ƒä¸éªŒè¯</h4><p><img src="/../images/image-20230616105632564.png" alt="image-20230616105632564"></p>
<ol>
<li><strong>DNNè®­ç»ƒæ•°æ®ç”Ÿæˆè¿‡ç¨‹</strong></li>
</ol>
<ul>
<li><p>FPMD</p>
<ul>
<li>ç”ŸæˆMDè½¨è¿¹</li>
</ul>
</li>
<li><p>DFT</p>
<ul>
<li>å¯¹åŸå­ä½ç½®å’Œæ™¶æ ¼å‘é‡è¿›è¡Œæ‰°åŠ¨</li>
</ul>
</li>
<li><p>ä½¿ç”¨æ‰°åŠ¨æ³•è¿›è¡Œç¬¬ä¸€ä¸ªè®­ç»ƒå‘¨æœŸ</p>
</li>
<li><p>ä¸»åŠ¨å­¦ä¹ MDæ–¹æ¡ˆ</p>
<ul>
<li>å¯¹å¤§è§„æ¨¡ã€è¡¨é¢å’Œå‰ä½“å¸é™„é…ç½®è¿›è¡Œå¤„ç†</li>
</ul>
</li>
<li><p>éªŒè¯</p>
<ul>
<li>è·Ÿè¸ªè®­ç»ƒä¸­çš„èƒ½é‡å’ŒåŠ›çš„è¯¯å·®</li>
<li>å¯¹ç¡…çš„ä½“ç§¯ç”µå­æ€§è´¨å’Œè¡¨é¢ç¨³å®šæ€§è¿›è¡ŒåŸºå‡†æµ‹è¯•</li>
</ul>
</li>
</ul>
<ol>
<li><strong>DNNæ¨¡å‹åŸºå‡†æµ‹è¯•è¿‡ç¨‹</strong></li>
</ol>
<ul>
<li><p>å£°å­ç‰¹æ€§</p>
<ul>
<li>åœ¨å£°å­è‰²æ•£å’Œæ€å¯†åº¦ä¸­æ•è·å…³é”®çš„å£°å­ç‰¹æ€§</li>
</ul>
</li>
<li><p>åŸå­ä½ç§»æ¼”åŒ–</p>
<ul>
<li>è·Ÿè¸ªé¡¶å±‚åŸå­çš„åŸå­ä½ç§»</li>
</ul>
</li>
<li><p>è¡¨é¢é‡æ„</p>
<ul>
<li>è¿›è¡Œè¡¨é¢é‡æ„</li>
</ul>
</li>
</ul>
<p>ç®€è€Œè¨€ä¹‹ï¼Œåˆ©ç”¨vaspè®¡ç®—åŸå­æ¨¡å‹å¾—åˆ°çš„èƒ½é‡&#x2F;å—åŠ›ï¼Œç„¶åæ‹Ÿåˆè¿™ä¸¤è€…å…³ç³»å¾—åˆ°åŠ›åœºã€‚</p>
<p><strong>VASPè®¡ç®—</strong></p>
<p>å®šä¹‰<code>INCAR(å®šä¹‰è®¡ç®—å†…å®¹ï¼Œ ç±»ä¼¼configï¼Œè®¡ç®—èƒ½é‡/å—åŠ›)</code>, <code>POSCAR(ç»™å‡ºåŸå­æ¨¡å‹)</code>ä¸¤ä¸ªæ–‡ä»¶ï¼Œ è‡ªåŠ¨ç”Ÿæˆ<code>POTCAR(pseudopotential)</code>ï¼Œ åŸºäºæ­¤ï¼Œè¿›è¡Œè®¡ç®—ï¼Œ ç»“æœä¿å­˜åœ¨<code>OUTCAR</code>é‡Œé¢ã€‚</p>
<ul>
<li>INCAR</li>
</ul>
<pre><code class="bASH">Collinear Magnetic Calculation
ISPIN      =  2        (Spin polarised DFT)
MAGMOM   =  -4 -4 -4 -4 -4 -4 -4 -4 4 4 4 4 4 4 4 4 4 4 2*4 2*4 2*4 31*0.5         (Set this parameters manually)
LASPH      = .TRUE.    (Non-spherical elements; d/f convergence)
GGA_COMPAT = .FALSE.   (Apply spherical cutoff on gradient field)
VOSKOWN    =  1        (Enhances the magnetic moments and the magnetic energies)
LMAXMIX    =  4        (For d elements increase LMAXMIX to 4, f: LMAXMIX = 6)
AMIX       =  0.2    (Mixing parameter to control SCF convergence)
BMIX       =  0.0001 (Mixing parameter to control SCF convergence)
AMIX_MAG   =  0.4    (Mixing parameter to control SCF convergence)
BMIX_MAG   =  0.0001 (Mixing parameter to control SCF convergence)

 
DFT+U Calculation
LDAU   = .TRUE.        (Activate DFT+U)
LDATYPE=  2            (Dudarev; only U-J matters)
LDAUL  =  2  2  2  2  -1       (Orbitals for each species)
LDAUU  =  4  4  4  4  0       (U for each species)
LDAUJ  =  0.5  0.5  0.5  0.5  0       (J for each species)
LMAXMIX=  4            (Mixing cut-off; 4-d, 6-f)

 
Global Parameters
ISTART =  1            (Read existing wavefunction; if there)
# ISPIN =  2           (Spin polarised DFT)
# ICHARG =  11         (Non-self-consistent: GGA/LDA band structures)
LREAL  = Auto          (Projection operators: automatic)
ENCUT  =  600        (Cut-off energy for plane wave basis set, in eV)
PREC   =  Normal       (Precision level)
LWAVE  = .TRUE.        (Write WAVECAR or not)
LCHARG = .TRUE.        (Write CHGCAR or not)
ADDGRID= .TRUE.        (Increase grid; helps GGA convergence)
# LVTOT  = .TRUE.      (Write total electrostatic potential into LOCPOT or not)
# LVHAR  = .TRUE.      (Write ionic + Hartree electrostatic potential into LOCPOT or not)
# NELECT =             (No. of electrons: charged cells; be careful)
# LPLANE = .TRUE.      (Real space distribution; supercells)
# NPAR   = 4           (Max is no. nodes; don&#39;t set for hybrids)
# NWRITE = 2           (Medium-level output)
# KPAR   = 2           (Divides k-grid into separate groups)
# NGX    = 500         (FFT grid mesh density for nice charge/potential plots)
# NGY    = 500         (FFT grid mesh density for nice charge/potential plots)
# NGZ    = 500         (FFT grid mesh density for nice charge/potential plots)

Electronic Relaxation
ISMEAR =  0            (Gaussian smearing; metals:1)
SIGMA  =  0.05         (Smearing value in eV; metals:0.2)
NELM   =  200           (Max electronic SCF steps)
#NELMIN =  6            (Min electronic SCF steps)
EDIFF  =  1E-04        (SCF energy convergence; in eV)
# GGA  =  PS           (PBEsol exchange-correlation)

Ionic Relaxation
NSW    =  200          (Max ionic steps)
IBRION =  2            (Algorithm: 0-MD; 1-Quasi-New; 2-CG)
ISIF   =  2            (Stress/relaxation: 2-Ions, 3-Shape/Ions/V, 4-Shape/Ions)
EDIFFG = -5E-02        (Ionic convergence; eV/AA)

Other Sets
#ISYM = 0
LORIBT = 11
LREAL = auto
LDIPOL = .TRUE.
IDIPOL = 3 
</code></pre>
<ul>
<li>POSCAR</li>
</ul>
<pre><code class="bash"> result1\(-1\0\0)\(2)                   
   1.00000000000000     
     8.4650001526000000    0.0000000000000000    0.0000000000000000
     0.0000000000000000    8.4650001526000000    0.0000000000000000
     0.0000000000000000    0.0000000000000000   22.4559993744000010
   Fe   Mn   Co   Ni   O 
    18     2     2     2    31
Selective dynamics
Direct
      0.91149922       0.93394451       0.30298449   T  T  T 
      0.54928124       0.56044684       0.29732690   T  T  T 
      0.00078665       0.50685843       0.14280074   T  T  T 
      0.50100867      -0.00087781       0.14336777   T  T  T 
      0.74966002       0.24499001       0.04966000   F  F  F 
      0.25306246       0.24622419       0.24308685   T  T  T 
      0.75646493       0.73886826       0.23682094   T  T  T 
      0.24959000       0.74254000       0.04955000   F  F  F 
      0.36362551       0.88939961       0.28422896   T  T  T 
      0.37275001       0.37446999       0.09679000   F  F  F 
      0.62655997       0.87489003       0.00145000   F  F  F 
      0.88892126       0.37871634       0.27967138   T  T  T 
      0.12474000       0.37724000       0.00286000   F  F  F 
      0.13537451       0.87019407       0.19315328   T  T  T 
      0.87775999       0.87234002       0.09593000   F  F  F 
      0.61822538       0.36499678       0.19073725   T  T  T 
      0.37485999       0.12455000       0.00229000   F  F  F 
      0.12609001       0.12396000       0.09679000   F  F  F 
      0.87503127       0.12539944       0.19149679   T  T  T 
      0.62344003       0.62557000       0.09738000   F  F  F 
      0.87712997       0.62597001       0.00195000   F  F  F 
      0.61720147       0.11961980       0.28503860   T  T  T 
      0.36775063       0.62527783       0.19060239   T  T  T 
      0.11978615       0.61702653       0.28201958   T  T  T 
      0.38083549       0.37785134       0.19095691   T  T  T 
      0.88235998       0.11405000       0.09627000   F  F  F 
      0.66019525       0.87924509       0.29268959   T  T  T 
      0.12107000       0.61469001       0.00023000   F  F  F 
      0.35538812       0.65701680       0.28963690   T  T  T 
      0.86782998       0.87575001       0.00517000   F  F  F 
      0.13143000       0.37704000       0.09430000   F  F  F 
      0.62352750       0.13241024       0.19208011   T  T  T 
      0.36914000       0.13489001       0.09718000   F  F  F 
      0.12902930       0.63325776       0.19266269   T  T  T 
      0.87686175       0.60810064       0.28978881   T  T  T 
      0.11830000       0.87140000       0.09951000   F  F  F 
      0.61862999       0.11504000       0.00147000   F  F  F 
      0.88683371       0.87465383       0.18953353   T  T  T 
      0.37419000       0.61343998       0.09935000   F  F  F 
      0.11465552       0.38072686       0.28473890   T  T  T 
      0.85682220       0.15173567       0.29227789   T  T  T 
      0.36780000       0.37867001       0.00566000   F  F  F 
      0.63459998       0.87900001       0.09384000   F  F  F 
      0.87550002       0.63556999       0.09510000   F  F  F 
      0.11433896       0.85777596       0.28410816   T  T  T 
      0.38352337       0.11589898       0.28979767   T  T  T 
      0.61631000       0.37123001       0.10025000   F  F  F 
      0.88268000       0.37531999       0.00032000   F  F  F 
      0.61149357       0.60937161       0.19422251   T  T  T 
      0.36969135       0.86804908       0.18981720   T  T  T 
      0.13167000       0.13587000       0.00198000   F  F  F 
      0.63001001       0.63647002       0.00231000   F  F  F 
      0.12931348       0.11474703       0.18829403   T  T  T 
      0.38371000       0.87102997       0.00000000   F  F  F 
      0.86592531       0.37820479       0.19126102   T  T  T 
</code></pre>
<p><img src="/../images/image-20230616111122830.png" alt="image-20230616111122830"></p>
<p><strong>DeepMDè®¡ç®—</strong></p>
<ul>
<li>åŸç†</li>
<li>åŸå­çš„èƒ½é‡å¯ä»¥æœ‰ä¸´è¿‘çš„ç¯å¢ƒå†³å®š(æˆªæ–­åŠå¾„$R_c$çš„å¤§å°ã€‚)</li>
</ul>
<p>$$<br>E &#x3D; \sum_{i} E_{i}<br>$$</p>
<ul>
<li>$E_i$ çš„æ„å»ºæ­¥éª¤ï¼š</li>
</ul>
<ol>
<li>é¦–å…ˆæ„é€ ä¸€ä¸ªæ–°çš„åæ ‡ç³»ç”¨äºä¿æŒç¯å¢ƒçš„å¹³ç§»ã€æ—‹è½¬å’Œç½®æ¢å¯¹ç§°ï¼š</li>
</ol>
<p><img src="/../images/image-20230617144548185.png" alt="image-20230617144548185"></p>
<ol start="2">
<li>æ–°åæ ‡ç³»çš„$D_{ij}$ ä½œä¸ºDNNç¥ç»ç½‘ç»œçš„è¾“å…¥ç”¨äºæ±‚è§£$E_i$, è¿™é‡Œé‡‡ç”¨çš„æ˜¯<code>MLP</code>ç¥ç»ç½‘ç»œ</li>
</ol>
<p><img src="/../images/image-20230617144909939.png" alt="image-20230617144909939"></p>
<ol start="3">
<li>åŸºäº<code>Adam</code>ä¼˜åŒ–ç®—æ³•æ¥è¿›è¡Œä¼˜åŒ–ï¼Œ å®šä¹‰æŸå¤±å‡½æ•°å¦‚ä¸‹ï¼š</li>
</ol>
<p>$$<br>L\left(p_\epsilon, p_f, p_{\xi}\right)&#x3D;p_\epsilon \Delta \epsilon^2+\frac{p_f}{3 N} \sum_i\left|\Delta \boldsymbol{F}<em>i\right|^2+\frac{p</em>{\xi}}{9}|\Delta \xi|^2<br>$$</p>
<blockquote>
<p>$\Delta$ï¼šè¿™ä¸ªè¡¨ç¤ºDPMDï¼ˆDeep Potential Molecular Dynamicsï¼‰é¢„æµ‹ä¸è®­ç»ƒæ•°æ®ä¹‹é—´çš„å·®å¼‚ã€‚è¿™ä¸ªå·®å¼‚å¯èƒ½ä¼šè¢«ç”¨æ¥è®¡ç®—æ¨¡å‹çš„æŸå¤±å‡½æ•°ï¼Œä»¥ä¾¿åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­è°ƒæ•´æ¨¡å‹çš„å‚æ•°ã€‚</p>
<p>$N$ï¼šè¿™ä¸ªè¡¨ç¤ºåŸå­çš„æ•°é‡ã€‚åœ¨ç‰©ç†å’ŒåŒ–å­¦çš„æ¨¡æ‹Ÿä¸­ï¼Œè¿™ä¸ªå‚æ•°é€šå¸¸ç”¨æ¥è¡¨ç¤ºç³»ç»Ÿçš„å¤§å°æˆ–å¤æ‚æ€§ã€‚</p>
<p>$\epsilon$ï¼šè¿™ä¸ªè¡¨ç¤ºæ¯ä¸ªåŸå­çš„èƒ½é‡ã€‚åœ¨ç‰©ç†å’ŒåŒ–å­¦çš„æ¨¡æ‹Ÿä¸­ï¼Œè¿™ä¸ªå‚æ•°é€šå¸¸ç”¨æ¥è¡¨ç¤ºç³»ç»Ÿçš„æ€»èƒ½é‡æˆ–è€…èƒ½é‡åˆ†å¸ƒã€‚</p>
<p>$\boldsymbol{F}_i$ï¼šè¿™ä¸ªè¡¨ç¤ºä½œç”¨åœ¨ç¬¬$i$ä¸ªåŸå­ä¸Šçš„åŠ›ã€‚åœ¨åˆ†å­åŠ¨åŠ›å­¦æ¨¡æ‹Ÿä¸­ï¼Œè¿™ä¸ªå‚æ•°é€šå¸¸ç”¨æ¥è®¡ç®—åŸå­çš„è¿åŠ¨ã€‚</p>
<p>$\xi$ï¼šè¿™ä¸ªè¡¨ç¤ºå•ä½åŸå­çš„â€virial tensorâ€ï¼ˆæˆ–ç§°ä¸ºâ€ç»´é‡Œå¼ é‡â€ï¼‰ï¼Œå®ƒå®šä¹‰ä¸º$\Xi&#x3D;-\frac{1}{2} \sum_i \boldsymbol{R}_i \otimes \boldsymbol{F}_i$ï¼Œç„¶åé™¤ä»¥åŸå­çš„æ•°é‡$N$ã€‚ç»´é‡Œå¼ é‡æ˜¯ä¸€ä¸ªæè¿°ç³»ç»Ÿå‹åŠ›å’Œä½“ç§¯å˜åŒ–å…³ç³»çš„ç‰©ç†é‡ã€‚</p>
<p>$p_\epsilon, p_f$, å’Œ $p_{\xi}$ï¼šè¿™äº›æ˜¯å¯è°ƒçš„é¢„å› å­ï¼ˆprefactorsï¼‰ï¼Œå®ƒä»¬å¯ä»¥åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­è°ƒæ•´ï¼Œä»¥è¾¾åˆ°æœ€å°åŒ–æŸå¤±å‡½æ•°çš„ç›®æ ‡ã€‚å½“æ•°æ®ä¸­ç¼ºå°‘virialä¿¡æ¯æ—¶ï¼Œæˆ‘ä»¬è®¾å®š$p_{\xi}&#x3D;0$ã€‚åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬é€æ¸å¢å¤§$p_\epsilon$å’Œ$p_{\xi}$ï¼ŒåŒæ—¶å‡å°$p_f$ï¼Œä»¥ç¡®ä¿åœ¨è®­ç»ƒå¼€å§‹æ—¶ï¼ŒåŠ›çš„é¡¹å ä¸»å¯¼ï¼Œè€Œåœ¨è®­ç»ƒç»“æŸæ—¶ï¼Œèƒ½é‡å’Œvirialé¡¹å˜å¾—é‡è¦ã€‚</p>
</blockquote>
<p>åŸºäºå‰é¢<code>VASP</code> è®¡ç®—å¾—åˆ°çš„æ•°æ®ï¼Œä¾¿å¯ä»¥å¼€å§‹è®­ç»ƒåŠ›åœºäº†ã€‚</p>
<p><img src="/../images/image-20230616115654284.png" alt="image-20230616115654284"></p>
<p>ä¹‹å‰é…ç½®çš„å†…å®¹ï¼š</p>
<pre><code class="python">&#123;
    &quot;model&quot;: &#123;
        &quot;type_map&quot;:                [&quot;Ca&quot;,&quot;Si&quot;,&quot;O&quot;,&quot;H&quot;],
        &quot;descriptor&quot; :&#123;
            &quot;type&quot;:                &quot;se_a&quot;,
            &quot;sel&quot;:                 [30,30,90,70],
            &quot;rcut_smth&quot;:           6.80,
            &quot;rcut&quot;:                7.00,
            &quot;neuron&quot;:              [25, 50, 100],
            &quot;resnet_dt&quot;:           false,
            &quot;axis_neuron&quot;:         16,
            &quot;seed&quot;:                1
        &#125;,
        &quot;fitting_net&quot; : &#123;
            &quot;neuron&quot;:              [40,40,40],
            &quot;resnet_dt&quot;:           true,
            &quot;coord_norm&quot;:          true,
            &quot;type_fitting_net&quot;:    false,
            &quot;seed&quot;:                1
        &#125;
    &#125;,
    &quot;loss&quot;: &#123;
        &quot;start_pref_e&quot;:            0.02,
        &quot;limit_pref_e&quot;:            1,
        &quot;start_pref_f&quot;:            1000,
        &quot;limit_pref_f&quot;:            1,
        &quot;start_pref_v&quot;:            0,
        &quot;limit_pref_v&quot;:            0
    &#125;,
    &quot;learning_rate&quot;: &#123;
        &quot;type&quot;:                    &quot;exp&quot;,
        &quot;decay_steps&quot;:             5000,
        &quot;start_lr&quot;:                0.001,
        &quot;stop_lr&quot;:                 3.51e-9
    &#125;,
    &quot;training&quot;: &#123;
        &quot;systems&quot;:                 [æ•°æ®é›†è·¯å¾„],
        &quot;set_prefix&quot;:              &quot;set&quot;,
        &quot;stop_batch&quot;:              500000,
        &quot;batch_size&quot;:              1,
        &quot;seed&quot;:                    1,
        &quot;_comment&quot;:                &quot;frequencies counted in batch&quot;,
        &quot;disp_file&quot;:               &quot;lcurve.out&quot;,
        &quot;disp_freq&quot;:               100,
        &quot;numb_test&quot;:               50,
        &quot;save_freq&quot;:               1000,
        &quot;save_ckpt&quot;:               &quot;model.ckpt&quot;,
        &quot;load_ckpt&quot;:               &quot;model.ckpt&quot;,
        &quot;disp_training&quot;:           true,
        &quot;time_training&quot;:           true,
        &quot;profiling&quot;:               false,
        &quot;profiling_file&quot;:          &quot;timeline.json&quot;
    &#125;
&#125;
</code></pre>
<p>![320_320_320_lcurve](F:&#x2F;æ·±åº¦åŠ¿èƒ½&#x2F;fitting Network&#x2F;all_lcurve_data&#x2F;320_320_320_lcurve.jpg)</p>
<p>![ç¥ç»å…ƒä¸è®­ç»ƒè¯¯å·®çš„å…³ç³»](F:&#x2F;æ·±åº¦åŠ¿èƒ½&#x2F;fitting Network&#x2F;all_lcurve_data&#x2F;ç¥ç»å…ƒä¸è®­ç»ƒè¯¯å·®çš„å…³ç³».png)</p>
<h4 id="ç»“æœè®¨è®º"><a href="#ç»“æœè®¨è®º" class="headerlink" title="ç»“æœè®¨è®º"></a>ç»“æœè®¨è®º</h4><ul>
<li>SiH$_4$å’ŒSi$_2$H$_6$å¸é™„çš„ååº”åŠ¨åŠ›å­¦ã€‚</li>
</ul>
<p><img src="/../images/image-20230616111449593.png" alt="image-20230616111449593"></p>
<ol>
<li><strong>è‡ªç”±èƒ½è¡¨é¢ï¼ˆFESï¼‰è®¡ç®—</strong>ï¼šè¯¥è¡¨é¢æè¿°äº†åŒ–å­¦ååº”çš„ç©ºé—´ã€‚å®ƒæ˜¯é€šè¿‡ä½¿ç”¨å…ƒåŠ¨åŠ›å­¦æ¨¡æ‹Ÿå’Œå¢å¼ºé‡‡æ ·æ–¹æ³•æ¥è®¡ç®—çš„ã€‚å…ƒåŠ¨åŠ›å­¦æ¨¡æ‹Ÿæ˜¯ä¸€ç§è®¡ç®—æ–¹æ³•ï¼Œå¯ä»¥å¸®åŠ©ç ”ç©¶è€…å¯¹å¤æ‚ç³»ç»Ÿçš„è‡ªç”±èƒ½è¡¨é¢è¿›è¡Œå»ºæ¨¡å’Œåˆ†æã€‚</li>
<li><strong>é«˜æ–¯å±±ï¼ˆGaussian hillsï¼‰</strong>ï¼šæ•´ä¸ªåŠ¿èƒ½è¡¨é¢æ˜¯é€šè¿‡éšæœºæ·»åŠ æ½œåœ¨èƒ½é‡ï¼ˆâ€œé«˜æ–¯å±±â€ï¼‰æ¥é‡‡æ ·çš„ã€‚é«˜æ–¯å±±æ˜¯å…ƒåŠ¨åŠ›å­¦æ¨¡æ‹Ÿä¸­çš„ä¸€ä¸ªé‡è¦æ¦‚å¿µï¼Œç”¨äºæ”¹å˜åŠ¿èƒ½è¡¨é¢ï¼Œä»¥æé«˜æ¢ç´¢ç‡å¹¶é¿å…é™·å…¥å±€éƒ¨æœ€å°å€¼ã€‚</li>
<li><strong>é›†ä½“å˜é‡ï¼ˆCVsï¼‰é€‰æ‹©</strong>ï¼šé€‰æ‹©é›†ä½“å˜é‡æ˜¯ä¸€ä¸ªå…³é”®çš„å†³ç­–æ­¥éª¤ï¼Œå®ƒéœ€è¦ç¡®ä¿å¯¹æ•´ä¸ªå‰ä½“å¸é™„è¿‡ç¨‹çš„å‡†ç¡®å’Œæœ‰æ•ˆçš„ç‰©ç†é¢„æµ‹ã€‚é›†ä½“å˜é‡æ˜¯å…ƒåŠ¨åŠ›å­¦æ¨¡æ‹Ÿä¸­çš„ä¸€ä¸ªé‡è¦æ¦‚å¿µï¼Œå®ƒè¡¨ç¤ºç³»ç»Ÿä¸­é‡è¦çš„ã€å¯å˜çš„å‚æ•°ã€‚</li>
<li><strong>SiH4å¸é™„</strong>ï¼šæ–‡æœ¬æè¿°äº†SiH4å¸é™„è¿‡ç¨‹ä¸­çš„å…³é”®ååº”ä¸­é—´ä½“å’Œæ¿€æ´»èƒ½ã€‚è¿™äº›ç»“æœä¸ä¹‹å‰çš„æ¨¡æ‹Ÿç»“æœç›¸ç¬¦ã€‚</li>
<li><strong>Si2H6å¸é™„</strong>ï¼šåœ¨æ¸©åº¦ä½äº700Kæ—¶ï¼ŒSi2H6å¸é™„çš„é€Ÿç‡é™åˆ¶æ­¥éª¤æ˜¯ç¬¬ä¸€ä¸ªååº”*H + Si2H5ï¼Œå…¶ä¸­ä¸€ä¸ªæ°¢è¢«è½¬ç§»åˆ°è¡¨é¢ï¼Œæ¿€æ´»èƒ½ä¸º0.34 eVã€‚</li>
<li><strong>Si2H6æ°”ç›¸åˆ†è§£</strong>ï¼šåœ¨æ¸©åº¦é«˜äº700Kæ—¶ï¼ŒSi2H6çš„åˆ†è§£è¿‡ç¨‹åŒ…æ‹¬ç”ŸæˆSiH2å’ŒSiH4çš„ä¸­é—´äº§å“ä»¥åŠSi2H4å’ŒH2æ°”ä½“ï¼Œå®ƒä»¬çš„æ¿€æ´»èƒ½éƒ½çº¦ä¸º2 eVã€‚å®éªŒè¡¨æ˜ï¼ŒSiH2äº§å“å®¹æ˜“åœ¨36.5 Torrå’Œ720 Kçš„æ¡ä»¶ä¸‹åœ¨è¡¨é¢ä¸Šå¸é™„ã€‚</li>
</ol>
<h3 id="ç¡…ç”Ÿé•¿çš„æ–°ååº”æœºåˆ¶æ­ç¤º"><a href="#ç¡…ç”Ÿé•¿çš„æ–°ååº”æœºåˆ¶æ­ç¤º" class="headerlink" title="ç¡…ç”Ÿé•¿çš„æ–°ååº”æœºåˆ¶æ­ç¤º"></a>ç¡…ç”Ÿé•¿çš„æ–°ååº”æœºåˆ¶æ­ç¤º</h3><p><strong>æ°¢è„±é™„çš„å¯èƒ½çš„å…¶ä»–çš„ååº”é€”å¾„</strong></p>
<ul>
<li><strong>æ°¢è§£å¸çš„æ›¿ä»£ååº”è·¯å¾„</strong>ï¼šè¿™ä¸ªæ›¿ä»£ååº”è·¯å¾„åœ¨å›¾10ä¸­ä»¥ç¤ºæ„å›¾çš„å½¢å¼æç»˜ã€‚è§£å¸æ˜¯å¸é™„è¿‡ç¨‹çš„é€†è¿‡ç¨‹ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå¸é™„åˆ°ç‰©è´¨è¡¨é¢çš„ç²’å­ç¦»å¼€è¡¨é¢å¹¶å›åˆ°æ°”ç›¸ã€‚</li>
</ul>
<p><img src="/../images/image-20230616112412823.png" alt="image-20230616112412823"></p>
<ul>
<li><strong>æ–‡çŒ®ä¸­çš„æ°¢è§£å¸è·¯å¾„</strong>ï¼šé€šå¸¸æ–‡çŒ®ä¸­è®¨è®ºçš„æ°¢è§£å¸è·¯å¾„æ¶‰åŠåˆ°ä¸¤ä¸ªè¡¨é¢æ°¢ï¼ˆsurface Hï¼‰ã€‚è¡¨é¢æ°¢æ˜¯æŒ‡å·²ç»å¸é™„åœ¨ç‰©è´¨è¡¨é¢ä¸Šçš„æ°¢åŸå­ã€‚</li>
<li><strong>è¡¨é¢æ°¢å’Œå‰é©±ä½“æ°¢çš„ç›¸äº’ä½œç”¨</strong>ï¼šç„¶è€Œï¼Œè¡¨é¢æ°¢ä¸å‰é©±ä½“æ°¢çš„ç›¸äº’ä½œç”¨äº§ç”Ÿäº†æ›´ä½çš„æ´»åŒ–èƒ½ã€‚è¿™ä¸ªè¿‡ç¨‹åœ¨å›¾11ä¸­å±•ç¤ºã€‚æ´»åŒ–èƒ½æ˜¯ä¸€ç§ååº”éœ€è¦çš„èƒ½é‡ï¼Œæ›´ä½çš„æ´»åŒ–èƒ½æ„å‘³ç€ååº”æ›´å®¹æ˜“è¿›è¡Œã€‚</li>
</ul>
<p><img src="/../images/image-20230616112437013.png" alt="image-20230616112437013"></p>
<ul>
<li><strong>å½±å“å› ç´ </strong>ï¼šå½“å‰é©±ä½“æˆ–è½½æ°”æµé‡å¢åŠ æ—¶ï¼Œè¿™ä¸ªå…·æœ‰è¾ƒä½æ´»åŒ–èƒ½çš„è¿‡ç¨‹å¯èƒ½æ›´å®¹æ˜“å‘ç”Ÿã€‚è¿™æ„å‘³ç€ï¼Œé€šè¿‡æ”¹å˜å‰é©±ä½“æˆ–è½½æ°”çš„æµé‡ï¼Œå¯ä»¥å½±å“è¿™ä¸ªååº”è¿‡ç¨‹ã€‚</li>
</ul>
<p>åˆ†è§£äº§ç‰©SiH2çš„å¸é™„</p>
<ol>
<li><strong>SiH2çš„å¸é™„</strong>ï¼šé€šè¿‡DPMDç ”ç©¶é¢„æµ‹ï¼ŒSiH2å¯ä»¥åœ¨æ— é˜»åŠ›çš„è¿‡ç¨‹ä¸­è‡ªå‘åœ°å¸é™„åœ¨Siè¡¨é¢ï¼ˆå›¾9ï¼Œå…¬å¼4ï¼‰ã€‚å½“æ´»åŒ–èƒ½Ea&#x3D; 0 eVæ—¶ï¼Œæ ¹æ®é˜¿ä¼¦å°¼ä¹Œæ–¯æ–¹ç¨‹ï¼ŒSiH2åœ¨å¤§äº700 Kçš„æ¸©åº¦èŒƒå›´å†…çš„å¸é™„é€Ÿåº¦æ˜¯å¸¸æ•°ï¼Œè¿™å¯¼è‡´ç”Ÿé•¿é€Ÿç‡å‘ˆç°å‡ºä¸€ä¸ªå¹³å°é˜¶æ®µã€‚</li>
</ol>
<p><img src="/../images/image-20230616113051079.png" alt="image-20230616113051079"></p>
<ol>
<li><strong>Siçš„ç”Ÿé•¿è¿‡ç¨‹</strong>ï¼šä¸ºäº†å…¨é¢äº†è§£ä»ä½æ¸©åˆ°é«˜æ¸©çš„Siç”Ÿé•¿è¿‡ç¨‹ï¼Œè®¡ç®—äº†æ‰€æœ‰å¯èƒ½çš„è¡¨é¢ååº”ä½œä¸ºè¡¨é¢æ°¢è¦†ç›–ç‡çš„å‡½æ•°ï¼ˆå›¾11ï¼‰ã€‚ååº”é€Ÿç‡åœ¨SiH4ã€Si2H6å’ŒSiH2å¸é™„ï¼ŒH2å¸é™„å’Œæ‰€æœ‰å·²çŸ¥Hè§£å¸è·¯å¾„ä¸­è¢«æå–å‡ºæ¥ï¼ˆå›¾12ï¼‰ã€‚ç”±äºSiH2çš„å¸é™„æ²¡æœ‰æ´»åŒ–éšœç¢ï¼Œå…¶æ•°æ®è¢«æ”¾ç½®åœ¨æ°´å¹³è½´ä¸Šã€‚</li>
</ol>
<p><img src="/../images/image-20230616113136130.png" alt="image-20230616113136130"></p>
<ol>
<li><strong>Siç”Ÿé•¿çš„æ¨¡æ‹Ÿ</strong>ï¼šæ¨¡æ‹Ÿäº†é€šè¿‡Si2H6æ²‰ç§¯ç”Ÿé•¿Siçš„è¿‡ç¨‹ï¼Œè¿™ä¹Ÿæ”¯æŒäº†ä¹‹å‰æå‡ºçš„åœ¨ä½æ¸©å’Œé«˜æ¸©åŒºé—´å­˜åœ¨æ˜æ˜¾åˆ†ç•Œçº¿çš„è§‚ç‚¹ï¼ˆå›¾13ï¼‰ã€‚åœ¨ä½æ¸©åŒºï¼Œæ ¹æ®å›¾11å’Œå›¾12ï¼ŒHçš„è§£å¸è¢«è¯å®ä¸ºé€Ÿç‡é™åˆ¶æ­¥éª¤ã€‚å½“æ¸©åº¦é€‚åº¦å¢åŠ æ—¶ï¼ŒHè¡¨é¢è¦†ç›–ç‡ç•¥æœ‰é™ä½ï¼Œè€Œå¯ä¾›å‰é©±ä½“å¸é™„çš„Siè¡¨é¢ç§¯å¢åŠ ï¼Œå› æ­¤Siçš„ç”Ÿé•¿é€Ÿç‡éšæ¸©åº¦çš„å‡é«˜è€Œå¢åŠ ã€‚</li>
</ol>
<p><img src="/../images/image-20230616113146211.png" alt="image-20230616113146211"></p>
<ol>
<li><strong>é«˜æ¸©åŒºçš„ç‰¹æ€§</strong>ï¼šåœ¨çº¦700 Kï¼ŒSi2H6åœ¨æ°”ç›¸ä¸­å¼€å§‹åˆ†è§£ï¼Œç”ŸæˆSiH2å’ŒSiH4ã€‚å› ä¸ºSiH2åœ¨Siè¡¨é¢çš„å¸é™„æ˜¯æ— é˜»åŠ›çš„è¿‡ç¨‹ï¼Œæ‰€ä»¥å®ƒåœ¨ä¸­æ¸©å’Œé«˜æ¸©åŒºåŸŸå ä¸»å¯¼ï¼Œå¼•èµ·äº†ç”Ÿé•¿é€Ÿç‡çš„â€œæ’å®šâ€å¹¶å®šä¹‰äº†ä½æ¸©å’Œé«˜æ¸©æœºåˆ¶ä¹‹é—´çš„â€œäº¤å‰ç‚¹â€ï¼ˆå›¾13ï¼‰ã€‚æ­¤å¤–ï¼ŒSiH2å¸é™„äº§ç”Ÿè¡¨é¢SiHé”®ï¼ŒSiHï¼ˆ0.7 eVï¼‰æˆ–Hï¼ˆ0.5 eVï¼‰çš„å°è¡¨é¢æ‰©æ•£éšœç¢åœ¨å¤§äº700 Kå¯çƒ­åŠ›å­¦ä¸Šå®ç°ï¼Œä¿ƒè¿›äº†è¡¨é¢é‡æ’å’ŒåŠ é€Ÿäº†H2çš„è§£å¸ï¼ˆå›¾14ï¼‰ã€‚</li>
</ol>
<p><img src="/../images/image-20230616113202942.png" alt="image-20230616113202942"></p>
<ol>
<li><strong>æ›´é«˜æ¸©åº¦ä¸‹çš„è¡Œä¸º</strong>ï¼šåœ¨å¤§çº¦840 Kçš„é«˜æ¸©å¼€å§‹ï¼Œè¡¨é¢Hè¦†ç›–ç‡æ˜¾è‘—é™ä½ï¼Œä»»ä½•å‰é©±ä½“æˆ–äº§å“ï¼ˆSiH4ï¼ŒSi2H6ï¼Œæˆ–SiH2ï¼‰éƒ½å¯ä»¥ç›´æ¥åœ¨è¡¨é¢æ²‰ç§¯ï¼Œç›´åˆ°çº¦1100 Kç”Ÿé•¿é€Ÿç‡â€œé¥±å’Œâ€ï¼Œç³»ç»Ÿè¿›å…¥ç”±å‰é©±ä½“æµé€Ÿé™åˆ¶çš„é˜¶æ®µã€‚</li>
</ol>
<h4 id="æ€»ä½“ç ”ç©¶æ­¥éª¤"><a href="#æ€»ä½“ç ”ç©¶æ­¥éª¤" class="headerlink" title="æ€»ä½“ç ”ç©¶æ­¥éª¤"></a>æ€»ä½“ç ”ç©¶æ­¥éª¤</h4><ol>
<li><p><strong>å»ºç«‹ååº”æ¨¡å‹</strong>ï¼šç ”ç©¶è€…é¦–å…ˆå®šä¹‰äº†ä¸€ä¸ªåŒ…å«SiH4ç­‰åˆ†å­çš„ç³»ç»Ÿã€‚è¿™ä¸ªç³»ç»Ÿå¯èƒ½åŒ…æ‹¬äº†æ‰€æœ‰å¯èƒ½çš„ååº”å‚ä¸è€…å’Œç¯å¢ƒæ¡ä»¶ã€‚</p>
</li>
<li><p><strong>æ‹ŸåˆåŠ¿èƒ½é¢</strong>ï¼šDeepMDæ˜¯ä¸€ç§åŸºäºæ·±åº¦å­¦ä¹ çš„åŠ¿èƒ½é¢æ‹Ÿåˆæ–¹æ³•ã€‚è¿™ä¸ªæ¨¡å‹ä½¿ç”¨ä¸€ç»„ä»é‡å­åŠ›å­¦è®¡ç®—å¾—åˆ°çš„æ•°æ®ä½œä¸ºè®­ç»ƒé›†ï¼Œè¿™äº›æ•°æ®å¯èƒ½åŒ…æ‹¬åŸå­é—´çš„è·ç¦»ã€è§’åº¦ã€èƒ½é‡ç­‰ä¿¡æ¯ã€‚DeepMDæ¨¡å‹é€šè¿‡è®­ç»ƒå­¦ä¹ è¿™äº›æ•°æ®çš„ç‰¹å¾ï¼Œæ‹Ÿåˆå‡ºæ•´ä¸ªååº”ç³»ç»Ÿçš„åŠ¿èƒ½é¢ã€‚åœ¨æ‹Ÿåˆè¿‡ç¨‹ä¸­ï¼ŒDeepMDæ¨¡å‹èƒ½å¤Ÿå­¦ä¹ åˆ°å„ç§åŸå­é—´çš„ç›¸äº’ä½œç”¨ï¼Œä»è€Œç²¾ç¡®åœ°æ¨¡æ‹Ÿå¤æ‚çš„ååº”è¿‡ç¨‹ã€‚</p>
</li>
<li><p><strong>æœç´¢ååº”è·¯å¾„</strong>ï¼šåœ¨å¾—åˆ°åŠ¿èƒ½é¢åï¼Œç ”ç©¶è€…å°±å¯ä»¥åœ¨è¿™ä¸ªåŠ¿èƒ½é¢ä¸Šæœç´¢ååº”è·¯å¾„ã€‚è¿™é€šå¸¸æ˜¯é€šè¿‡å¯åŠ¨åˆ†å­åŠ¨åŠ›å­¦æ¨¡æ‹Ÿæ¥å®Œæˆçš„ã€‚æ¨¡æ‹Ÿè¿‡ç¨‹ä¸­ï¼Œç³»ç»Ÿä¼šåœ¨åŠ¿èƒ½é¢ä¸Šè¿›è¡Œæ¼”åŒ–ï¼Œå¯»æ‰¾ä»ååº”ç‰©åˆ°äº§ç‰©çš„æœ€ä½èƒ½é‡è·¯å¾„ã€‚è¿™ä¸ªè¿‡ç¨‹å¯ä»¥æ­ç¤ºååº”çš„è¿‡æ¸¡æ€ï¼ˆTransition Stateï¼‰ï¼Œä¹Ÿå°±æ˜¯ååº”è·¯å¾„ä¸Šçš„èƒ½é‡æœ€å¤§ç‚¹ã€‚</p>
<ul>
<li><p><strong>åŠ›åœºï¼ˆåŠ¿èƒ½é¢ï¼‰çš„å»ºç«‹</strong>ï¼šåœ¨é‡å­åŠ›å­¦çº§åˆ«ä¸Šè¿›è¡Œé«˜ç²¾åº¦çš„åŠ›åœºå‚æ•°åŒ–ï¼Œä½¿ç”¨æ·±åº¦å­¦ä¹ ç®—æ³•ï¼ˆå¦‚DeepMDï¼‰è®­ç»ƒå¹¶æ‹Ÿåˆå‡ºæè¿°åˆ†å­å†…éƒ¨å’Œåˆ†å­é—´ç›¸äº’ä½œç”¨çš„åŠ¿èƒ½é¢ã€‚è¿™ä¸ªè¿‡ç¨‹éœ€è¦å¤§é‡çš„é‡å­åŠ›å­¦è®¡ç®—æ•°æ®ï¼ŒåŒ…æ‹¬ä¸åŒåŸå­æ„å‹ä¸‹çš„èƒ½é‡ã€åŠ›ç­‰ã€‚ç»è¿‡è®­ç»ƒï¼ŒDeepMDæ¨¡å‹å°†èƒ½å¤Ÿå¯¹æ–°çš„åŸå­æ„å‹ç»™å‡ºç›¸åº”çš„åŠ¿èƒ½å’ŒåŠ›çš„é¢„æµ‹ã€‚</p>
</li>
<li><p><strong>åˆ†å­åŠ¨åŠ›å­¦æ¨¡æ‹Ÿ</strong>ï¼šåˆ©ç”¨ä¸Šä¸€æ­¥æ‹Ÿåˆå¾—åˆ°çš„åŠ¿èƒ½é¢ï¼ˆåŠ›åœºï¼‰ï¼Œè¿›è¡Œåˆ†å­åŠ¨åŠ›å­¦æ¨¡æ‹Ÿã€‚è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œåˆ†å­åœ¨åŠ›åœºçš„é©±åŠ¨ä¸‹è¿›è¡Œè¿åŠ¨ï¼Œç»è¿‡ä¸€æ®µæ—¶é—´åï¼Œå¯ä»¥è·å¾—ååº”çš„åŠ¨æ€è¿‡ç¨‹ã€‚é€šè¿‡åˆ†ææ¨¡æ‹Ÿå¾—åˆ°çš„è½¨è¿¹ï¼Œå¯ä»¥æ‰¾åˆ°ååº”çš„è¿‡æ¸¡æ€ã€ä¸­é—´äº§ç‰©ï¼Œä»¥åŠååº”é€Ÿç‡ç­‰ä¿¡æ¯ï¼Œä»è€Œæ­ç¤ºååº”çš„è¯¦ç»†æœºç†ã€‚</p>
</li>
</ul>
</li>
<li><p><strong>æ­ç¤ºååº”æœºç†</strong>ï¼šé€šè¿‡å¯¹ååº”è·¯å¾„çš„åˆ†æï¼Œç ”ç©¶è€…å¯ä»¥æ­ç¤ºååº”çš„è¯¦ç»†æœºç†ã€‚è¿™å¯èƒ½åŒ…æ‹¬ååº”çš„ä¸­é—´æ€ã€è¿‡æ¸¡æ€ä»¥åŠååº”çš„é€Ÿç‡å¸¸æ•°ç­‰ä¿¡æ¯ã€‚ä¾‹å¦‚ï¼ŒSiH4åˆ†å­åœ¨ååº”è¿‡ç¨‹ä¸­å¯èƒ½ä¼šç»å†ä¸€ç³»åˆ—çš„æ–­è£‚å’Œå½¢æˆï¼Œé€šè¿‡åˆ†æè¿™äº›ä¿¡æ¯ï¼Œç ”ç©¶è€…å¯ä»¥å¾—å‡ºSiH4åˆ†å­åœ¨ååº”è¿‡ç¨‹ä¸­çš„è¯¦ç»†è¡Œä¸ºï¼Œä»è€Œäº†è§£å…¶ååº”æœºç†ã€‚</p>
</li>
</ol>

            
        </div>
    </div>
    <div class="post-tags">
        
        <span class="icon">
            <i class="fa-solid fa-tags fa-fw"></i>
        </span>
        
        
        <span class="tag">
            
            <a href="/tags/%E5%88%86%E5%AD%90%E5%B0%BA%E5%BA%A6%EF%BC%8C-%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/" style="color: #00bcd4">åˆ†å­å°ºåº¦ï¼Œ æ·±åº¦å­¦ä¹ </a>
        </span>
        
    </div>
    <a href="/2023/06/15/%E7%BB%84%E4%BC%9A%E6%B1%87%E6%8A%A5-%E5%88%86%E5%AD%90%E5%B0%BA%E5%BA%A6%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/" class="go-post">é˜…è¯»å…¨æ–‡</a>
</div>


        <div class="page-current">
    <div class="prev">
        
    </div>
    <div class="page-index">
        
        <span class="current">1</span>
        
        <span>
            <a class="page-num" href="/page/2/">2</a>
            
            
        </span>
        
    </div>
    <div class="next">
        
        <a class="page-num" href="/page/2/">
            <i class="fa-solid fa-caret-right fa-fw"></i>
        </a>
        
    </div>
</div>

    </div>
    
    <div id="home-card">
        <div id="card-div">
    <div class="card-style">
        <div class="avatar">
            <img src="/images/avatar.gif" alt="avatar" />
        </div>
        <div class="name">Ding Li</div>
        <div class="description">
            <p>Description<br>ä½ å¥½ï¼Œ è¿™é‡Œæ˜¯Linkedlist771çš„ä¸ªäººåšå®¢ï¼Œä¸»è¦è®°å½•ä¸€äº›å­¦ä¹ ç¬”è®°ï¼Œè°¢è°¢ä½ çš„è®¿é—®ï¼</p>

        </div>
        
        <div class="icon-links">
            
            <span class="icon-link">
                <a target="_blank" rel="noopener" href="https://github.com/linkedlist771">
                    <i
                        class="fa-brands fa-github fa-fw"
                    ></i>
                </a>
            </span>
            
            <span class="icon-link">
                <a href="/null">
                    <i
                        class="fa-brands fa-twitter fa-fw"
                    ></i>
                </a>
            </span>
            
            <span class="icon-link">
                <a target="_blank" rel="noopener" href="http://wpa.qq.com/msgrd?v=3&uin=2317431442&site=qq&menu=yes">
                    <i
                        class="fa-brands fa-qq fa-fw"
                    ></i>
                </a>
            </span>
            
            <span class="icon-link">
                <a href="mailto:213193509seu@gmail.com">
                    <i
                        class="fa-solid fa-envelope fa-fw"
                    ></i>
                </a>
            </span>
            
        </div>
        
        
        <div class="friend-links">
            
            <div class="friend-link">
                <a target="_blank" rel="noopener" href="https://argvchs.github.io">Argvchs</a>
            </div>
            
            <div class="friend-link">
                <a href="/www.803366.xyz">Stmoonar</a>
            </div>
            
        </div>
        
    </div>
</div>

    </div>
    
</div>

                    <footer id="footer">
    <div id="footer-wrap">
        <div>
            &copy;
            2022 - 2023 LinkedList&#39;s Blog
            <span id="footer-icon">
                <i class="fa-solid fa-font-awesome fa-fw"></i>
            </span>
            &commat;Ding Li
        </div>
        <div>
            Based on the <a target="_blank" rel="noopener" href="https://hexo.io">Hexo Engine</a> &amp;
            <a target="_blank" rel="noopener" href="https://github.com/theme-particlex/hexo-theme-particlex">ParticleX Theme</a>
        </div>
        
    </div>
</footer>

                </div>
            </transition>
            
            <transition name="fade">
                <div id="preview" ref="preview" v-show="previewShow">
                    <img id="preview-content" ref="previewContent" />
                </div>
            </transition>
            
        </div>
        <script src="/js/main.js"></script>
        
    </body>
</html>
