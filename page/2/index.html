
<!DOCTYPE html>
<html lang="zh-CN">
    <head>
        <meta charset="utf-8" />
        <title>LinkedList&#39;s Blog</title>
        <meta name="author" content="Ding Li" />
        <meta name="description" content="This is blog for Linkedlist771, mainly record some learning notes, thank you for your visit!" />
        <meta name="keywords" content="" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
        <link rel="icon" href="/images/favicon.png" />
        <script src="https://cdn.staticfile.org/vue/3.2.47/vue.global.prod.min.js"></script>
<link rel="stylesheet" href="https://cdn.staticfile.org/font-awesome/6.3.0/css/all.min.css" />
<link rel="stylesheet" href="/css/fonts.min.css" />
<script> const mixins = {}; </script>

<script src="https://polyfill.io/v3/polyfill.min.js?features=default"></script>


<script src="https://cdn.staticfile.org/highlight.js/11.7.0/highlight.min.js"></script>
<link
    rel="stylesheet"
    href="https://cdn.staticfile.org/highlight.js/11.7.0/styles/github.min.css"
/>
<script src="/js/lib/highlight.js"></script>


<script src="https://cdn.staticfile.org/KaTeX/0.16.4/katex.min.js"></script>
<script src="https://cdn.staticfile.org/KaTeX/0.16.4/contrib/auto-render.min.js"></script>
<link rel="stylesheet" href="https://cdn.staticfile.org/KaTeX/0.16.4/katex.min.css" />
<script src="/js/lib/math.js"></script>


<script src="/js/lib/preview.js"></script>





<script src="/js/lib/home.js"></script>

<link rel="stylesheet" href="/css/main.css" />

    <meta name="generator" content="Hexo 6.3.0"></head>
    <body>
        <div id="layout">
            <transition name="fade">
                <div id="loading" v-show="loading">
                    <div id="loading-circle">
                        <h2>LOADING</h2>
                        <p>åŠ è½½è¿‡æ…¢è¯·å¼€å¯ç¼“å­˜ æµè§ˆå™¨é»˜è®¤å¼€å¯</p>
                        <img src="/images/loading.gif" />
                    </div>
                </div>
            </transition>
            <nav id="menu" :class="{ hidden: hiddenMenu, 'menu-color': menuColor}">
    <div id="desktop-menu">
        <a class="title" href="/">
            <span>LINKEDLIST&#39;S BLOG</span>
        </a>
        
        <a href="/">
            <i class="fa-solid fa-house fa-fw"></i>
            <span>&ensp;Home</span>
        </a>
        
        <a href="/about">
            <i class="fa-solid fa-id-card fa-fw"></i>
            <span>&ensp;About</span>
        </a>
        
        <a href="/archives">
            <i class="fa-solid fa-box-archive fa-fw"></i>
            <span>&ensp;Archives</span>
        </a>
        
        <a href="/categories">
            <i class="fa-solid fa-bookmark fa-fw"></i>
            <span>&ensp;Categories</span>
        </a>
        
        <a href="/tags">
            <i class="fa-solid fa-tags fa-fw"></i>
            <span>&ensp;Tags</span>
        </a>
        
    </div>
    <div id="mobile-menu">
        <div class="title" @click="showMenuItems = !showMenuItems">
            <i class="fa-solid fa-bars fa-fw"></i>
            <span>&emsp;LINKEDLIST&#39;S BLOG</span>
        </div>
        <transition name="slide">
            <div class="items" v-show="showMenuItems">
                
                <a href="/">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-house fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">Home</div>
                    </div>
                </a>
                
                <a href="/about">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-id-card fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">About</div>
                    </div>
                </a>
                
                <a href="/archives">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-box-archive fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">Archives</div>
                    </div>
                </a>
                
                <a href="/categories">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-bookmark fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">Categories</div>
                    </div>
                </a>
                
                <a href="/tags">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-tags fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">Tags</div>
                    </div>
                </a>
                
            </div>
        </transition>
    </div>
</nav>
<transition name="fade">
    <div id="menu-curtain" @click="showMenuItems = !showMenuItems" v-show="showMenuItems"></div>
</transition>

            <transition name="into">
                <div id="main" v-show="!loading">
                    <div id="home-head">
    <div id="home-background" ref="homeBackground" data-images="/images/background1.jpg"></div>
    <div id="home-info" @click="homeClick">
        <span class="loop"></span>
        <span class="loop"></span>
        <span class="loop"></span>
        <span class="loop"></span>
        <span class="info">
            <div class="wrap">
                <h1>LinkedList&#39;s Blog</h1>
                <h3>Learning notes</h3>
                <h5>This is blog for Linkedlist771, mainly record some learning notes, thank you for your visit!</h5>
            </div>
        </span>
    </div>
</div>
<div id="home-posts-wrap"  ref="homePostsWrap">
    <div id="home-posts">
        

<div class="post">
    <a href="/2023/06/10/%E5%9F%BA%E4%BA%8EGPTPlus%E8%B4%A6%E5%8F%B7%E9%83%A8%E7%BD%B2API/">
        <h2 class="post-title">åŸºäºGPTPlusè´¦å·éƒ¨ç½²API</h2>
    </a>
    <div class="category-and-date">
        
        <span class="date">
            <span class="icon">
                <i class="fa-solid fa-calendar fa-fw"></i>
            </span>
            2023/6/10
        </span>
        
        
    </div>
    <div class="description">
        <div class="content" v-pre>
            
            <blockquote>
<p>è¿™ä¸ªåšå®¢ä¸»è¦ä»‹ç»å¦‚ä½•åŸºäº<code>GPT - Plus</code>ç”¨æˆ·çš„è´¦å·æ¥éƒ¨ç½²<code>API</code>ã€‚</p>
</blockquote>
<p>æ•´ä¸ªé¡¹ç›®æ˜¯å¯¹<a target="_blank" rel="noopener" href="https://github.com/linkedlist771/infiniteGPT4">linkedlist771&#x2F;infiniteGPT4: åŸºäºrevChatGPTå’ŒIOSæ–°æ¨å‡ºçš„æ— é™æ¬¡GPT4ä½¿ç”¨å®ç°GPT4æ— é™æ¬¡æ•°ä½¿ç”¨çš„API (github.com)</a> çš„ä¸€ä¸ªå»¶ä¼¸ï¼Œ åœ¨ä¹‹å‰çš„é¡¹ç›®ä¸­æ²¡æœ‰è§£å†³å¾ˆé‡è¦çš„é—®é¢˜ï¼Œ å°±æ˜¯åä»£æœåŠ¡å™¨åˆ©ç”¨çš„æ˜¯ä½œè€…éƒ¨ç½²çš„å…¬ç½‘æœåŠ¡å™¨ã€‚å¦‚æœè¦è‡ªå·±ä½¿ç”¨çš„è¯ï¼Œæœ€å¥½èƒ½å¤ŸåŸºäºè‡ªå·±çš„æœåŠ¡å™¨å®ç°ä¸€ä¸ªã€‚æ‰€ä»¥ç¬¬ä¸€æ­¥æˆ‘ä»¬éœ€è¦æ„å»ºä¸€ä¸ªåä»£æœåŠ¡ã€‚</p>
<h3 id="ChatGPTåä»£æœåŠ¡æ„å»º"><a href="#ChatGPTåä»£æœåŠ¡æ„å»º" class="headerlink" title="ChatGPTåä»£æœåŠ¡æ„å»º"></a>ChatGPTåä»£æœåŠ¡æ„å»º</h3><p>åä»£æœåŠ¡å™¨çš„æ­å»ºï¼Œå¯ä»¥å‚è€ƒï¼š<a target="_blank" rel="noopener" href="https://github.com/acheong08/ChatGPT-Proxy-V4">acheong08&#x2F;ChatGPT-Proxy-V4: Simple Cloudflare bypass for ChatGPT (github.com)</a>ã€‚ </p>
<p>é¦–å…ˆéœ€è¦ä¸‹è½½è¿™ä¸ªé¡¹ç›®ï¼š</p>
<pre><code class="bash">git clone git@github.com:acheong08/ChatGPT-Proxy-V4.git
</code></pre>
<p>ç¬”è€…ä½¿ç”¨çš„æœåŠ¡å™¨ä¸º<code>centos</code>ï¼Œ åŸºäºä½ ä½¿ç”¨çš„æœåŠ¡å™¨çš„ç±»å‹ï¼Œä¸åŒçš„å‘½ä»¤å¯èƒ½ç¨æœ‰ä¸åŒï¼Œç¨ä½œè°ƒæ•´å³å¯ã€‚ä¸»è¦åˆ†ä¸ºä»¥ä¸‹å‡ æ­¥:</p>
<ol>
<li><strong>å®‰è£…Goç¯å¢ƒï¼š</strong></li>
</ol>
<p>Goçš„å®‰è£…åŒ…å¯ä»¥ä»<a target="_blank" rel="noopener" href="https://golang.org/dl/">Goå®˜ç½‘</a>ä¸Šæ‰¾åˆ°ï¼Œé€‰æ‹©ä¸€ä¸ªåˆé€‚çš„ç‰ˆæœ¬ä¸‹è½½åˆ°ä½ çš„CentOSæœåŠ¡å™¨ã€‚ä¾‹å¦‚ï¼Œå¦‚æœæˆ‘ä»¬è¦ä¸‹è½½Go 1.16.4ç‰ˆæœ¬ï¼Œå¯ä»¥ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤ï¼š</p>
<pre><code class="bash">
wget https://golang.org/dl/go1.16.4.linux-amd64.tar.gz
</code></pre>
<p>ç„¶åï¼Œè§£å‹è¿™ä¸ªæ–‡ä»¶åˆ°<code>/usr/local</code>ï¼š</p>
<pre><code class="bash">tar -C /usr/local -xzf go1.16.4.linux-amd64.tar.gz
</code></pre>
<p>å°†Goçš„äºŒè¿›åˆ¶æ–‡ä»¶æ·»åŠ åˆ°<code>PATH</code>ä¸­ï¼š</p>
<pre><code class="bash">echo &quot;export PATH=$PATH:/usr/local/go/bin&quot; &gt;&gt; ~/.bash_profile
source ~/.bash_profile
</code></pre>
<p>ä½ å¯ä»¥ä½¿ç”¨<code>go version</code>å‘½ä»¤æ¥éªŒè¯Goæ˜¯å¦å®‰è£…æˆåŠŸã€‚</p>
<p> <img src="/../../../../../AppData/Roaming/Typora/typora-user-images/image-20230610174001359.png" alt="image-20230610174001359"></p>
<p>æˆ‘è¿™é‡Œæµ‹è¯•æ˜¯æˆåŠŸçš„ã€‚</p>
<ol start="2">
<li><strong>è®¾ç½®ç¯å¢ƒå˜é‡ï¼š</strong></li>
</ol>
<p>ä½ éœ€è¦ä¸€ä¸ªChatGPT Plusè´¦å·çš„PUIDæ¥è®¾ç½®ç¯å¢ƒå˜é‡ã€‚ä½ å¯ä»¥ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤å°†PUIDæ·»åŠ åˆ°ç¯å¢ƒå˜é‡ä¸­ï¼š</p>
<pre><code>bashCopy codeecho &quot;export PUID=\&quot;user-...\&quot;&quot; &gt;&gt; ~/.bash_profile
source ~/.bash_profile
</code></pre>
<p>è®°å¾—å°†â€user-â€¦â€æ›¿æ¢ä¸ºä½ çš„å®é™…PUIDã€‚</p>
<p>å…¶ä¸­<code>PUID</code>æ„æ€ä¸º<code>Plus UID</code> ä¹Ÿå°±æ˜¯ä½ çš„è´¦æˆ·çš„IDï¼Œ å¯ä»¥åœ¨è¿™é‡Œæ‰¾åˆ°ï¼š<a target="_blank" rel="noopener" href="https://chat.openai.com/api/auth/session">chat.openai.com&#x2F;api&#x2F;auth&#x2F;session</a>ï¼Œ </p>
<ol start="3">
<li><strong>æ„å»ºå’Œè¿è¡Œé¡¹ç›®ï¼š</strong></li>
</ol>
<p>é¦–å…ˆï¼Œä½ éœ€è¦æŠŠé¡¹ç›®ä»£ç å¤åˆ¶åˆ°ä½ çš„æœåŠ¡å™¨ä¸Šã€‚ä½ å¯ä»¥ä½¿ç”¨<code>git clone</code>å‘½ä»¤æ¥å®Œæˆè¿™ä¸ªæ­¥éª¤ï¼Œå¦‚æœé¡¹ç›®ä»£ç æ‰˜ç®¡åœ¨ä¸€ä¸ªgitä»“åº“ä¸Šçš„è¯ã€‚</p>
<p>åœ¨é¡¹ç›®çš„æ ¹ç›®å½•ä¸‹ï¼Œä½¿ç”¨<code>go build</code>å‘½ä»¤æ„å»ºé¡¹ç›®ï¼š</p>
<pre><code class="bash">go build
</code></pre>
<p>å°†ä¼šè¾“å‡ºä¸€ä¸‹å†…å®¹ï¼š</p>
<pre><code class="bash">go build
go: downloading github.com/acheong08/endless v0.0.0-20230522010333-1359fd84c836
go: downloading github.com/bogdanfinn/fhttp v0.5.22
go: downloading github.com/bogdanfinn/tls-client v1.3.12
go: downloading github.com/gin-gonic/gin v1.9.0
go: downloading github.com/andybalholm/brotli v1.0.5
go: downloading github.com/bogdanfinn/utls v1.5.16
go: downloading golang.org/x/net v0.10.0
go: downloading github.com/tam7t/hpkp v0.0.0-20160821193359-2b70b4024ed5
go: downloading github.com/gin-contrib/sse v0.1.0
go: downloading github.com/mattn/go-isatty v0.0.19
go: downloading github.com/klauspost/compress v1.16.5
go: downloading golang.org/x/crypto v0.9.0
go: downloading golang.org/x/text v0.9.0
go: downloading github.com/go-playground/validator/v10 v10.14.0
go: downloading github.com/pelletier/go-toml/v2 v2.0.8
go: downloading github.com/ugorji/go/codec v1.2.11
go: downloading google.golang.org/protobuf v1.30.0
go: downloading gopkg.in/yaml.v3 v3.0.1
go: downloading golang.org/x/sys v0.8.0
go: downloading github.com/gabriel-vasile/mimetype v1.4.2
go: downloading github.com/go-playground/universal-translator v0.18.1
go: downloading github.com/leodido/go-urn v1.2.4
...
</code></pre>
<p>ç°åœ¨ï¼Œä½ åº”è¯¥å¯ä»¥åœ¨é¡¹ç›®çš„æ ¹ç›®å½•ä¸‹çœ‹åˆ°ä¸€ä¸ªå«åš<code>ChatGPT-Proxy-V4</code>çš„å¯æ‰§è¡Œæ–‡ä»¶ã€‚ä½ å¯ä»¥ç›´æ¥è¿è¡Œè¿™ä¸ªæ–‡ä»¶æ¥å¯åŠ¨é¡¹ç›®ï¼š</p>
<p>è¿™æ˜¯æˆ‘çš„ç›®å½•ï¼š</p>
<pre><code class="bash">ChatGPT-Proxy-V4  docker-compose.yml  Dockerfile  go1.20.5.linux-amd64.tar.gz  go.mod  go.sum  LICENSE  main.go  README.md
</code></pre>
<p>è¿è¡Œåï¼Œ ä½ è®²çœ‹åˆ°ä»¥ä¸‹è¾“å‡ºï¼š</p>
<pre><code class="bash">[GIN-debug] [WARNING] Creating an Engine instance with the Logger and Recovery middleware already attached.

[GIN-debug] [WARNING] Running in &quot;debug&quot; mode. Switch to &quot;release&quot; mode in production.
 - using env:   export GIN_MODE=release
 - using code:  gin.SetMode(gin.ReleaseMode)

[GIN-debug] GET    /ping                     --&gt; main.main.func1 (3 handlers)
[GIN-debug] PATCH  /admin/puid               --&gt; main.main.func2 (4 handlers)
[GIN-debug] PATCH  /admin/password           --&gt; main.main.func3 (4 handlers)
[GIN-debug] GET    /api/*path                --&gt; main.proxy (3 handlers)
[GIN-debug] POST   /api/*path                --&gt; main.proxy (3 handlers)
[GIN-debug] PUT    /api/*path                --&gt; main.proxy (3 handlers)
[GIN-debug] PATCH  /api/*path                --&gt; main.proxy (3 handlers)
[GIN-debug] HEAD   /api/*path                --&gt; main.proxy (3 handlers)
[GIN-debug] OPTIONS /api/*path                --&gt; main.proxy (3 handlers)
[GIN-debug] DELETE /api/*path                --&gt; main.proxy (3 handlers)
[GIN-debug] CONNECT /api/*path                --&gt; main.proxy (3 handlers)
[GIN-debug] TRACE  /api/*path                --&gt; main.proxy (3 handlers)
2023/06/10 05:54:46 1878014 :9090
</code></pre>
<p>ç›®å‰ï¼Œæˆ‘ä»¬å°±éƒ¨ç½²å®Œæ¯•äº†ã€‚ æ³¨æ„ï¼Œè¿™é‡Œä½ éœ€è¦æ‰“å¼€<code>9090</code>ç«¯å£çš„é˜²ç«å¢™ï¼Œä¸ç„¶çš„è¯åä»£æ— æ³•å‘æŒ¥ä½œç”¨ã€‚</p>
<pre><code class="bash">sudo firewall-cmd --permanent --add-port=9090/tcp
sudo firewall-cmd --reload
</code></pre>

            
        </div>
    </div>
    <div class="post-tags">
        
        <span class="icon">
            <i class="fa-solid fa-tags fa-fw"></i>
        </span>
        
        
        <span class="tag">
            
            <a href="/tags/GPTPlus-GPT4-API%E9%83%A8%E7%BD%B2/" style="color: #00a596">GPTPlus, GPT4 APIéƒ¨ç½²</a>
        </span>
        
    </div>
    <a href="/2023/06/10/%E5%9F%BA%E4%BA%8EGPTPlus%E8%B4%A6%E5%8F%B7%E9%83%A8%E7%BD%B2API/" class="go-post">é˜…è¯»å…¨æ–‡</a>
</div>

<div class="post">
    <a href="/2023/06/06/%E7%89%88%E5%9B%BE%E8%AE%BE%E8%AE%A1%E4%BB%8B%E7%BB%8D/">
        <h2 class="post-title">ç‰ˆå›¾è®¾è®¡ä»‹ç»</h2>
    </a>
    <div class="category-and-date">
        
        <span class="date">
            <span class="icon">
                <i class="fa-solid fa-calendar fa-fw"></i>
            </span>
            2023/6/6
        </span>
        
        
    </div>
    <div class="description">
        <div class="content" v-pre>
            
            <h3 id="ç‰ˆå›¾ä»‹ç»"><a href="#ç‰ˆå›¾ä»‹ç»" class="headerlink" title="ç‰ˆå›¾ä»‹ç»"></a>ç‰ˆå›¾ä»‹ç»</h3><blockquote>
<p><a target="_blank" rel="noopener" href="https://www.youtube.com/watch?v=1ed0ZL_Eg58">è§†é¢‘æ¥æºä»‹ç»</a></p>
</blockquote>
<p>ç‰ˆå›¾(lay out)ï¼Œ å®šä¹‰äº†åœ¨åˆ¶é€ ä¸­çš„æ©è†œçš„å‡ ä½•å›¾å½¢ã€‚å¤šå±‚æ¬¡çš„ä¸€ä¸ªç»˜åˆ¶ï¼Œ å› ä¸ºæ¯ä¸€å¼ maskéƒ½å¯¹åº”ä¸€å¼ layoutã€‚</p>
<p><img src="/../../../../../AppData/Roaming/Typora/typora-user-images/image-20230606232859683.png" alt="image-20230606232859683"></p>
<p>ä¸åŒçš„é¢œè‰²ä»£è¡¨ä¸åŒçš„å±‚æ¬¡ï¼Œ foundry(ä»£å·¥å‚)ï¼Œ ä¸åŒçš„å±‚æ¬¡æ˜¯ä¸åŒçš„æ©è†œç‰ˆï¼Œå¯¹äºèŠ¯ç‰‡çš„æ¯ä¸€ä¸ªå±‚ï¼Œå¯¹åº”ä¸€ä¸ªç‰ˆå›¾ã€‚</p>
<p><img src="/../../../../../AppData/Roaming/Typora/typora-user-images/image-20230606232829685.png" alt="image-20230606232829685"></p>
<p>æ•°å­—ç”µè·¯çš„ç‰ˆå›¾ä¸»è¦æ˜¯å½±å“é€Ÿåº¦ï¼ˆé™ä½å»¶æ—¶å’Œé¢ç§¯ï¼‰ï¼Œ æ¨¡æ‹Ÿç‰ˆå›¾ä¸»è¦å½±å“é€Ÿåº¦å’Œç²¾åº¦ï¼Œï¼ˆå¯¹ç§°æ€§ï¼Œå™¨ä»¶åŒ¹é…ï¼Œé™ä½å¯„ç”Ÿï¼Œ é¿å…ä¸²æ‰°ï¼Œä¼˜åŒ–äº’è”çº¿ï¼Œçœ‹èµ·æ¥å¥½çœ‹ï¼‰ã€‚</p>
<p><img src="/../../../../../AppData/Roaming/Typora/typora-user-images/image-20230606234139272.png" alt="image-20230606234139272"></p>
<p>æ•°å­—ç‰ˆå›¾æ‚ä¹±æ— ç« ï¼Œ æœ€å°åŒ–é¢ç§¯ã€‚ </p>
<h3 id="Tapeout-Flow-æµç‰‡"><a href="#Tapeout-Flow-æµç‰‡" class="headerlink" title="Tapeout Flow(æµç‰‡)"></a>Tapeout Flow(æµç‰‡)</h3><p><img src="/../../../../../AppData/Roaming/Typora/typora-user-images/image-20230606234543501.png" alt="image-20230606234543501"></p>
<p>ä¸¤è€…äº¤äº’åˆ©ç”¨çš„æ˜¯<code>GDSII</code>æ–‡ä»¶ï¼Œ  </p>
<ul>
<li><code>OPC</code>(optical proximity correctionï¼Œ å…‰å­¦é‚»è¿‘çŸ«æ­£)</li>
</ul>
<p>æ©è†œç‰ˆçš„å›¾æ¡ˆéƒ½æ˜¯å¾ˆå°çš„ï¼Œ æ¥åŠ å·¥<code>wafer</code>ï¼ˆæ™¶åœ†ä¸Šçš„å›¾åƒï¼‰ï¼Œ ç”±äºè¡å°„å’Œå…‰å­¦ç³»ç»Ÿçš„é—®é¢˜ï¼Œ é€šè¿‡æ©è†œç‰ˆå»å…‰åˆ»ï¼Œ </p>
<p>ä¼šå¯¼è‡´<code>å…‰åˆ»èƒ¶çš„å›¾å½¢å’Œæ©è†œç‰ˆå¹¶ä¸æ˜¯å®Œå…¨ä¸€è‡´çš„</code> ï¼Œ ç„¶åé€šè¿‡å…¶ä»–å·¥è‰ºå°†å…‰åˆ»èƒ¶å›¾åƒè½¬ç§»åˆ°waferä¸Šã€‚</p>
<p><em>Design Pattern</em> -&gt; <em>å…‰åˆ»èƒ¶çš„å›¾å½¢</em></p>
<p><img src="/../../../../../AppData/Roaming/Typora/typora-user-images/image-20230606235916759.png" alt="image-20230606235916759"></p>
<p>å¦‚æœè¿›è¡ŒOPCçŸ«æ­£åï¼š</p>
<p><img src="/../../../../../AppData/Roaming/Typora/typora-user-images/image-20230607000141480.png" alt="image-20230607000141480"></p>
<p><img src="/../../../../../AppData/Roaming/Typora/typora-user-images/image-20230607000150023.png" alt="image-20230607000150023"></p>
<ul>
<li>æ•°å­—èŠ¯ç‰‡ç”µè·¯è®¾è®¡æµç¨‹</li>
</ul>
<p><img src="/../../../../../AppData/Roaming/Typora/typora-user-images/image-20230607000330248.png" alt="image-20230607000330248"></p>
<ul>
<li><ul>
<li>Logic Design -&gt; Verilogæè¿°</li>
<li>Logic Synthesis -&gt; æ„å»ºé—¨çº§ç½‘è¡¨</li>
<li>Floorplan -&gt; å¸ƒå±€</li>
<li>Place &amp; Route Tools -&gt; æ„å»ºç‰ˆå›¾é›å½¢ï¼ˆå¸ƒå±€å¸ƒçº¿ï¼‰</li>
<li>ç”ŸæˆGDSIIï¼ˆæ·»åŠ Digital Librariesï¼‰</li>
<li>DRC + LVS æ£€æŸ¥</li>
<li>Final GDSII</li>
</ul>
</li>
<li><p>æ¨¡æ‹Ÿé›†æˆç”µè·¯è®¾è®¡æµç¨‹</p>
</li>
</ul>
<p><img src="/../../../../../AppData/Roaming/Typora/typora-user-images/image-20230607001029421.png" alt="image-20230607001029421"></p>
<ul>
<li><ul>
<li>Circuit Design ï¼š ç”¨åŸºæœ¬å…ƒå™¨ä»¶å®ç°ã€‚</li>
<li>Simulation ï¼š é¢‘åŸŸä»¿çœŸ&#x2F;æ—¶åŸŸä»¿çœŸ</li>
<li>Layout ï¼š æ‰‹å·¥ç»˜åˆ¶æ¨¡æ‹Ÿç”µè·¯ç‰ˆå›¾</li>
<li>DRC LVS æ£€æµ‹ï¼š è®¾è®¡æ˜¯å¦æ»¡è¶³foundryè¦æ±‚ï¼Œ æ£€æµ‹å™¨ä»¶é“¾æ¥å…³ç³»æ˜¯å¦ä¸€ç›´</li>
<li>Parasitic Extraction ï¼š å¯„ç”Ÿå‚æ•°æå– -&gt; ç”Ÿæˆæ–°çš„netlist -&gt; post simulationï¼ˆåä»¿çœŸï¼‰</li>
</ul>
</li>
</ul>
<p><strong>Layoutä¸æ˜¯ç»˜åˆ¶å›¾å½¢ï¼Œæ›´é‡è¦çš„æ˜¯å‰æœŸçš„è§„åˆ’ã€‚</strong></p>
<ul>
<li><p>CMOS æ™¶ä½“ç®¡å‚æ•°ï¼š</p>
</li>
<li><ul>
<li><code>Finger</code>ï¼šè®©å™¨ä»¶çš„æºæå’Œæ¼çº§äº¤å‰å‡ºç°ï¼Œ æˆªæˆå‡ æ®µå°±æ˜¯å‡ ä¸ª<code>Finger</code>ï¼Œ ä¸‹é¢çš„æ˜¯3(3ä¸ªè“è‰²)ã€‚</li>
</ul>
<p><img src="/../../../../../AppData/Roaming/Typora/typora-user-images/image-20230607175254574.png" alt="image-20230607175254574"></p>
</li>
<li><ul>
<li><code>Multiplier</code>ï¼šå¤åˆ¶å‡ å€</li>
</ul>
<p><img src="/../../../../../AppData/Roaming/Typora/typora-user-images/image-20230607175412729.png" alt="image-20230607175412729"></p>
</li>
<li><ul>
<li><code>W</code>:å®½åº¦ï¼Œ <code>L</code> ï¼šé•¿åº¦</li>
</ul>
</li>
</ul>
<p>æ€»çš„å®½é•¿æ¯”è®¡ç®—å…¬å¼ï¼š</p>
<p>$Total \quad W&#x2F;L &#x3D; W&#x2F;L \times Finger \times Multiplier$</p>
<h3 id="ICçš„æ¨ªæˆªé¢"><a href="#ICçš„æ¨ªæˆªé¢" class="headerlink" title="ICçš„æ¨ªæˆªé¢"></a>ICçš„æ¨ªæˆªé¢</h3><p><img src="/../../../../../AppData/Roaming/Typora/typora-user-images/image-20230607175752145.png" alt="image-20230607175752145"></p>
<p><code>1P4M</code> ï¼š 1 poly 4 metal ï¼Œä¸€å±‚å¤šæ™¶ç¡…ï¼Œ å››å±‚é‡‘å±ã€‚ </p>
<p><code>ACT(active)</code> ï¼š è¡¬åº•ï¼Œæœ‰æºåŒºã€‚</p>
<p><code>CT(contact)</code>ï¼š æ¥è§¦å­”ï¼Œ æœ‰æºåŒºå’ŒM1çš„é€šå­”</p>
<p><code>M1,M2,M3,M4</code>: é‡‘å±</p>
<p><code>MT(metal TOP)</code>: æœ€ä¸Šå±‚é‡‘å±</p>
<p><code>180nm</code>ï¼š æŒ‡çš„æ˜¯ï¼Œæ™¶ä½“ç®¡çš„æœ€å°æ²Ÿé“é•¿åº¦æ˜¯<code>180nm</code>ã€‚</p>
<p>Mé‡‘å±ä¹‹é—´æ˜¯ç”±ä»‹è´¨éš”ç¦»çš„ï¼Œ  ç»ç¼˜ï¼Œ è¿æ¥é‡‘å±ä½¿ç”¨<code>Via(é€šå­”)</code>ï¼Œ é“¾æ¥M1å’ŒM2æ˜¯<code>Via1</code>ã€‚</p>
<p><img src="/../../../../../AppData/Roaming/Typora/typora-user-images/image-20230607180242248.png" alt="image-20230607180242248"></p>
<p><strong>ä¸¤ä¸ªé‡‘å±çº¿ä¹‹é—´æ˜¯å­˜åœ¨å¯„ç”Ÿç”µå®¹çš„ã€‚</strong></p>
<h3 id="CMOSåˆ¶å¤‡æµç¨‹å›¾ï¼š"><a href="#CMOSåˆ¶å¤‡æµç¨‹å›¾ï¼š" class="headerlink" title="CMOSåˆ¶å¤‡æµç¨‹å›¾ï¼š"></a>CMOSåˆ¶å¤‡æµç¨‹å›¾ï¼š</h3><p><img src="/../../../../../AppData/Roaming/Typora/typora-user-images/image-20230607180600966.png" alt="image-20230607180600966"></p>
<p><code>1:Grow field oxide</code>ï¼š ç”Ÿé•¿åœºæ°§ï¼Œ ä½œç”¨æ˜¯å™¨ä»¶éš”ç¦»ï¼Œ$0.35\mu m$ å·¥è‰ºä»¥ä¸Šç”¨çš„ã€‚ $0.35\mu m$ å·¥è‰ºä»¥ä¸‹ç”¨ <code>STI</code>éš”ç¦»ã€‚</p>
<p><code>2ï¼š </code> åˆ»èš€</p>
<p><code>3:æ³¨å…¥Näº•</code></p>
<p><code>4:å†åˆ»èš€å¾—åˆ°çš„å°±æ˜¯activeåŒºåŸŸã€‚</code></p>
<p><code>5ï¼šç”Ÿæˆæ …æ°§</code></p>
<p><code>6ï¼šæ²‰æ·€éƒ­é‡‘è´µã€‚</code></p>
<p><code>7:åˆ»èš€</code></p>
<p><code>8ï¼šæ³¨å…¥</code></p>
<p><code>9:ç”Ÿé•¿æ°®åŒ–ç‰©</code>â€¦â€¦..</p>
<p><img src="/../../../../../AppData/Roaming/Typora/typora-user-images/image-20230607181030747.png" alt="image-20230607181030747"></p>
<p><code>Mask</code>çš„ç»„æˆä¸»è¦æ˜¯é‡‘å±ï¼ˆCrï¼‰å’Œ å’Œç»ç’ƒï¼ˆé€å…‰çš„ï¼‰ï¼Œ å°†Cré•€åœ¨ç»ç’ƒä¸Šï¼Œ é‡‘å±ä¸Šæœ‰å„ç§å›¾åƒ(Layoutå®šä¹‰çš„)ã€‚ </p>
<p><code>Clear Tone</code>ï¼š å¤§éƒ¨åˆ†åŒºåŸŸæ˜¯è¢«æ¶‚ä¸Šé‡‘å±çš„ï¼Œ åªæœ‰å°‘éƒ¨åˆ†æ˜¯é•‚ç©ºçš„ï¼Œ è¿™æ ·çš„æ©è†œç‰ˆå«åš<code>æš—åœº</code>ã€‚ åœ°ä¸‹çš„çº¢è‰²çš„å°±æ˜¯å…‰åˆ»èƒ¶ï¼Œ æ˜¯åœ¨waferä¸Šé¢çš„ã€‚</p>
<p>Layoutä¸Šå®šä¹‰çš„æ˜¯é•‚ç©ºçš„ã€‚</p>
<p><img src="/../../../../../AppData/Roaming/Typora/typora-user-images/image-20230607181823904.png" alt="image-20230607181823904"></p>
<p><code>æ­£èƒ¶</code>ï¼š æœ‰å…‰ç…§çš„åœ°æ–¹ä¼šå˜æ€§ï¼Œç”¨æ˜¾å½±æ¶²å¯ä»¥å»æ‰ã€‚ <strong>æŒ–ç©ºæŒ–æ´çš„ä¸€èˆ¬éƒ½æ˜¯clear tone</strong></p>
<p><code>Dark Tone</code>: äº®åœºï¼Œå¤§éƒ¨åˆ†åœ°æ–¹æ²¡æœ‰é‡‘å±ï¼Œåªæœ‰å°‘éƒ¨åˆ†åœ°æ–¹æœ‰é‡‘å±ï¼Œ <strong>è¦ä¿ç•™çš„å°±æ˜¯dark tone</strong></p>
<p><img src="/../../../../../AppData/Roaming/Typora/typora-user-images/image-20230607182220028.png" alt="image-20230607182220028"></p>
<p><img src="/../../../../../AppData/Roaming/Typora/typora-user-images/image-20230607182641437.png" alt="image-20230607182641437"></p>
<p><img src="/../../../../../AppData/Roaming/Typora/typora-user-images/image-20230607182857765.png" alt="image-20230607182857765"></p>
<p>Näº•æ³¨å…¥ï¼Œå¼€ä¸ªå­”ï¼Œè¿›è¡Œæ³¨å…¥ã€‚</p>
<p><img src="/../../../../../AppData/Roaming/Typora/typora-user-images/image-20230607182954092.png" alt="image-20230607182954092"></p>
<p>å½¢æˆä¸€ä¸ªNäº•çš„åŒºåŸŸã€‚ å…ˆå…‰åˆ»åˆ»èš€æ‰å…‰åˆ»èƒ¶ï¼Œå†åˆ»èš€æ°§åŒ–ç¡…ï¼ˆå¯èƒ½ç”¨HFåˆ»èš€ï¼‰ï¼Œ å†æ²‰ç§¯é‡‘å±åã€‚ æœ€åå¾—åˆ°çš„æ•ˆæœ</p>
<p><img src="/../../../../../AppData/Roaming/Typora/typora-user-images/image-20230607183855256.png" alt="image-20230607183855256"></p>
<h3 id="Design-Rules"><a href="#Design-Rules" class="headerlink" title="Design Rules"></a>Design Rules</h3><p><img src="/../../../../../AppData/Roaming/Typora/typora-user-images/image-20230607184358426.png" alt="image-20230607184358426"></p>
<p><code>width</code>ï¼š<strong>è‡³å°‘æ˜¯è¿™ä¸ªå€¼</strong></p>
<p><code>size</code>çš„å½¢çŠ¶ï¼Œ ä¸€å®šæ˜¯æ­£æ–¹å½¢ï¼Œ è¡¨ç¤ºçš„æ˜¯æ­£æ–¹å½¢çš„è¾¹é•¿ã€‚ <strong>è¦æ˜¯è¿™ä¸ªå€¼</strong></p>
<p><code>enclosure</code>ï¼š AåŒ…å«Bï¼Œ åŒ…è£¹çš„è·ç¦»æ˜¯<code>enclosure </code></p>
<p><code>extension</code> ï¼š æœ‰ä¸€ä¸ªè¾¹è¶…è¿‡å°±è¡Œäº†ã€‚</p>
<p><code>overlap</code>ï¼š é‡å ï¼Œä¸¤ä¸ªå›¾åƒçš„é‡å ã€‚</p>
<p><img src="/../../../../../AppData/Roaming/Typora/typora-user-images/image-20230607185012751.png" alt="image-20230607185012751"></p>
<h3 id="DRC-Design-Rule-Check"><a href="#DRC-Design-Rule-Check" class="headerlink" title="DRC:(Design Rule Check)"></a>DRC:(Design Rule Check)</h3><p><img src="/../../../../../AppData/Roaming/Typora/typora-user-images/image-20230607185325355.png" alt="image-20230607185325355"></p>
<h3 id="LVS-Layout-Versus-Schematic"><a href="#LVS-Layout-Versus-Schematic" class="headerlink" title="LVS:(Layout Versus Schematic)"></a>LVS:(Layout Versus Schematic)</h3><p><img src="/../../../../../AppData/Roaming/Typora/typora-user-images/image-20230607185545088.png" alt="image-20230607185545088"></p>
<p><img src="/../../../../../AppData/Roaming/Typora/typora-user-images/image-20230607185750166.png" alt="image-20230607185750166"></p>
<h2 id="åä»¿çœŸï¼š"><a href="#åä»¿çœŸï¼š" class="headerlink" title="åä»¿çœŸï¼š"></a>åä»¿çœŸï¼š</h2><h3 id="å¯„ç”Ÿå‚æ•°æŠ½å–ï¼š"><a href="#å¯„ç”Ÿå‚æ•°æŠ½å–ï¼š" class="headerlink" title="å¯„ç”Ÿå‚æ•°æŠ½å–ï¼š"></a>å¯„ç”Ÿå‚æ•°æŠ½å–ï¼š</h3><p><img src="/../../../../../AppData/Roaming/Typora/typora-user-images/image-20230607185941176.png" alt="image-20230607185941176"></p>
<h3 id="Layout-é‡Œé¢å¸¸ç”¨çš„å·¥å…·ï¼š"><a href="#Layout-é‡Œé¢å¸¸ç”¨çš„å·¥å…·ï¼š" class="headerlink" title="Layout é‡Œé¢å¸¸ç”¨çš„å·¥å…·ï¼š"></a>Layout é‡Œé¢å¸¸ç”¨çš„å·¥å…·ï¼š</h3><p><img src="/../../../../../AppData/Roaming/Typora/typora-user-images/image-20230607190219993.png" alt="image-20230607190219993"></p>
<p><strong>å¯åŠ¨Calibre WorkBenchè¿›è¡ŒLTO</strong>ï¼š</p>
<pre><code class="bash">calibrewb
</code></pre>
<h3 id="å¯¼å…¥æ•°æ®"><a href="#å¯¼å…¥æ•°æ®" class="headerlink" title="å¯¼å…¥æ•°æ®"></a>å¯¼å…¥æ•°æ®</h3><p><img src="/../../../../../AppData/Roaming/Typora/typora-user-images/image-20230614211959737.png" alt="image-20230614211959737"></p>
<ul>
<li>åˆ†åˆ«é€‰æ‹©<code>LEF</code>å’Œ<code>DEF</code>æ–‡ä»¶å³å¯</li>
</ul>
<p><img src="/../../../../../AppData/Roaming/Typora/typora-user-images/image-20230614212030241.png" alt="image-20230614212030241"></p>
<h3 id="å­˜åœ¨çš„é—®é¢˜ï¼š"><a href="#å­˜åœ¨çš„é—®é¢˜ï¼š" class="headerlink" title="å­˜åœ¨çš„é—®é¢˜ï¼š"></a>å­˜åœ¨çš„é—®é¢˜ï¼š</h3><ul>
<li>é—®é¢˜1ï¼š ä¸çŸ¥é“OPCæ¨¡æ‹Ÿçš„å‚æ•°è®¾ç½®ï¼ˆç°åœ¨é‡‡ç”¨çš„æ˜¯é»˜è®¤çš„OPCå‚æ•°è®¾ç½®ï¼Œ å…³äºæ¨¡å‹å‚æ•°ï¼Œ è¿­ä»£æ¬¡æ•°ï¼‰ï¼š</li>
<li><ul>
<li>åŸå§‹çš„ç‰ˆå›¾</li>
</ul>
</li>
</ul>
<p><img src="/../../../../../AppData/Roaming/Typora/typora-user-images/image-20230607203724041.png" alt="image-20230607203724041"></p>
<ul>
<li><ul>
<li>OPCçŸ«æ­£åçš„ç‰ˆå›¾ï¼š</li>
</ul>
<p><img src="/../../../../../AppData/Roaming/Typora/typora-user-images/image-20230607203829141.png" alt="image-20230607203829141"></p>
</li>
<li><p>é—®é¢˜2ï¼š ä¸çŸ¥é“å¯¹äºè¿™ä¸ªç‰ˆå›¾æ–‡ä»¶è¿›è¡ŒOPCå…‰åˆ»çŸ«æ­£æ˜¯æ€ä¹ˆæ“ä½œï¼Œæ˜¯å¯¹æ¯ä¸€å±‚layoutè¿›è¡ŒçŸ«æ­£éƒ½ç”Ÿæˆè¿˜æ˜¯æ€ä¹ˆæ ·ï¼ˆä¸å¤ªæ‡‚è¿™ä¸ªç‰ˆå›¾æ–‡ä»¶çš„å±‚æ•°æ˜¯æ€ä¹ˆå®šä¹‰çš„ï¼‰ï¼Œç›®å‰æ˜¯é‡‡ç”¨GUIæ¥æ“ä½œçš„ï¼Œå¦‚æœæ˜¯å¯¹å…¨éƒ¨æ•°æ®é›†è¿›è¡ŒOPCæ“ä½œçš„è¯å¦‚ä½•é€šè¿‡è„šæœ¬åŒ–æ“ä½œå®ç°ã€‚</p>
</li>
<li><p>é—®é¢˜3ï¼š SARFæ’å…¥ä¸ä¼šç›®å‰ä¸ä¼šæ“ä½œï¼Œ ä»¥åŠå¯¹äºæœ€åçš„å›¾åƒå¯¼å‡ºæ˜¯æ€ä¹ˆæ ·çš„ï¼Ÿ æ˜¯ä¸€å±‚ä¸€å±‚ç‰ˆå›¾çš„å¯¼å‡ºè¿˜æ˜¯æ€ä¹ˆæ ·ï¼Œ é¢œè‰²æ€ä¹ˆå®šä¹‰ï¼Œ ã€‚</p>
</li>
<li><p>é—®é¢˜4ï¼šä¸å¤ªç†è§£è¿™ä¸ªç‰ˆå›¾é‡Œé¢çš„è¿™äº›å†…å®¹æ˜¯ä»€ä¹ˆï¼Œ é¡ºä¾¿ä¸å¤ªç†è§£æ¯ä¸€å±‚layoutæ˜¯ä»€ä¹ˆï¼Œ å…·ä½“æ€»ç»“å°±æ˜¯æ€ä¹ˆç”Ÿæˆæ•°æ®é›†ï¼š</p>
</li>
</ul>
<p><img src="/../../../../../AppData/Roaming/Typora/typora-user-images/image-20230607204554631.png" alt="image-20230607204554631"></p>
<p><img src="/../../../../../AppData/Roaming/Typora/typora-user-images/image-20230607204707453.png" alt="image-20230607204707453"></p>

            
        </div>
    </div>
    <div class="post-tags">
        
        <span class="icon">
            <i class="fa-solid fa-tags fa-fw"></i>
        </span>
        
        
        <span class="tag">
            
            <a href="/tags/%E7%89%88%E5%9B%BE%E8%AE%BE%E8%AE%A1%E4%BB%8B%E7%BB%8D%EF%BC%8C-%E5%AE%B9%E5%99%AA%E5%A3%B0/" style="color: #ff7d73">ç‰ˆå›¾è®¾è®¡ä»‹ç»ï¼Œ å®¹å™ªå£°</a>
        </span>
        
    </div>
    <a href="/2023/06/06/%E7%89%88%E5%9B%BE%E8%AE%BE%E8%AE%A1%E4%BB%8B%E7%BB%8D/" class="go-post">é˜…è¯»å…¨æ–‡</a>
</div>

<div class="post">
    <a href="/2023/06/01/DeepLearningSystem/">
        <h2 class="post-title">DeepLearningSystem</h2>
    </a>
    <div class="category-and-date">
        
        <span class="date">
            <span class="icon">
                <i class="fa-solid fa-calendar fa-fw"></i>
            </span>
            2023/6/1
        </span>
        
        
    </div>
    <div class="description">
        <div class="content" v-pre>
            
            <h2 id="é¡¹ç›®ä»‹ç»"><a href="#é¡¹ç›®ä»‹ç»" class="headerlink" title="é¡¹ç›®ä»‹ç»"></a>é¡¹ç›®ä»‹ç»</h2><p>æ·±åº¦å­¦ä¹ ç³»ç»Ÿï¼Œä¸»è¦æ˜¯å®ç°ä¸€ä¸ªç±»ä¼¼pytorchçš„æ·±åº¦å­¦ä¹ æ¡†æ¶ï¼ŒåŒ…æ‹¬è®¡ç®—å›¾ä¼ æ’­å’ŒGPUåŠ é€Ÿ.</p>
<ul>
<li>githubé“¾æ¥:<a target="_blank" rel="noopener" href="https://github.com/linkedlist771/DeepLearningSystem">linkedlist771&#x2F;DeepLearningSystem: æ·±åº¦å­¦ä¹ ç³»ç»Ÿï¼Œä¸»è¦æ˜¯å®ç°ä¸€ä¸ªç±»ä¼¼pytorchçš„æ·±åº¦å­¦ä¹ æ¡†æ¶ï¼ŒåŒ…æ‹¬è®¡ç®—å›¾ä¼ æ’­å’ŒGPUåŠ é€Ÿ (github.com)</a></li>
</ul>
<h3 id="è¸©è¿‡çš„å‘"><a href="#è¸©è¿‡çš„å‘" class="headerlink" title="è¸©è¿‡çš„å‘"></a>è¸©è¿‡çš„å‘</h3><ul>
<li><code>Linear</code> å±‚ç¥ç»ç½‘ç»œå‰å‘ä¼ æ’­ï¼Œ ä»£ç å¦‚ä¸‹ï¼š</li>
</ul>
<pre><code class="Python">class Linear(Module):
    def __init__(self, in_features, out_features, bias=True, device=None, dtype=&quot;float32&quot;):
        super().__init__()
        self.in_features = in_features
        self.out_features = out_features
        ### BEGIN YOUR SOLUTION
        #self.bias = bias
        self.device = device
        self.dtype = dtype
        # å¦‚æœæœ‰åç½®çš„è¯
        weight = init.kaiming_uniform(in_features, out_features, nonlinearity=&quot;relu&quot;, device=device, dtype=dtype)
        self.weight = Tensor(weight)
        if bias:
            # ç„¶è€Œï¼Œå¦‚æœä½ çš„ä»£ç ä¸­æŸäº›åœ°æ–¹å‡å®šåç½®æ˜¯ä¸€ä¸ªäºŒç»´å¼ é‡ï¼Œè€Œä¸”ç¬¬ä¸€ä¸ªç»´åº¦ä¸º1ï¼Œé‚£ä¹ˆreshapeå°±æ˜¯å¿…é¡»çš„ã€‚
            # è¿™å¯èƒ½æ˜¯ä¸ºäº†ä¿æŒä¸ç‰¹å®šæ“ä½œçš„å…¼å®¹æ€§ï¼Œä¾‹å¦‚å¹¿æ’­æˆ–çŸ©é˜µä¹˜æ³•ã€‚
            # å¦å¤–ä¸€ç§å¯èƒ½çš„åŸå› æ˜¯ï¼Œåœ¨ä½¿ç”¨Kaimingåˆå§‹åŒ–æ—¶ï¼Œfan_inå’Œfan_outå‚æ•°çš„é¡ºåºå¯èƒ½ä¼šå½±å“åˆ°åˆå§‹åŒ–çš„ç»“æœã€‚
            # åœ¨ä½ çš„ä»£ç ä¸­ï¼Œå¯èƒ½ä½œè€…æƒ³è¦ä½¿ç”¨out_featuresä½œä¸ºfan_inæ¥è¿›è¡Œåˆå§‹åŒ–ã€‚ç„¶åï¼Œé€šè¿‡reshapeæ“ä½œå°†åç½®è°ƒæ•´ä¸ºæ­£ç¡®çš„å½¢çŠ¶ã€‚
            # ä¸è¿‡åœ¨åç½®åˆå§‹åŒ–ä¸­ï¼Œä¸€èˆ¬ä¸éœ€è¦è¿™æ ·åšï¼Œå› ä¸ºåç½®é€šå¸¸éƒ½è¢«åˆå§‹åŒ–ä¸ºé›¶æˆ–è€…æ¥è¿‘é›¶çš„å°å€¼ã€‚
            self.bias = init.kaiming_uniform(out_features, 1, dtype=dtype).reshape((1, out_features))
            # self.bias = init.kaiming_uniform(1, out_features, nonlinearity=&quot;relu&quot;, device=device, dtype=dtype)
        else:
            self.bias = None
        # raise NotImplementedError()
        ### END YOUR SOLUTION

    def forward(self, X: Tensor) -&gt; Tensor:
        ### BEGIN YOUR SOLUTION
        if self.bias:
            # å¦‚æœæœ‰åç½®çš„è¯
            a_l = ops.matmul(X, self.weight)
            return a_l + self.bias
        else:
            return ops.matmul(X, self.weight)
        # raise NotImplementedError()
        ## END YOUR SOLUTION
</code></pre>
<p>è¸©å‘ç‚¹ï¼šå¦‚æœå«æœ‰åç½®biasçš„æƒ…å†µä¸‹ï¼Œç”±äº<code>out_features</code>å¯èƒ½ä¸æ˜¯ä¸€ç»´çš„ï¼Œé»˜è®¤ç”Ÿæˆ(1,out_features) å½¢çŠ¶çš„å¼ é‡ï¼Œ åœ¨å¤šç»´æƒ…å†µå°†å‡ºç°é”™è¯¯ï¼Œæ‰€ä»¥éœ€è¦<code>init.kaiming_uniform(out_features, 1, dtype=dtype).reshape((1, out_features))</code>å…ˆç”Ÿæˆè¿™ç§å½¢çŠ¶çš„Tensorç„¶åè¿›è¡Œreshapeä¿æŒå…¼å®¹æ€§ã€‚</p>
<h2 id="ä¸€ä¸ªä¸¤å±‚çš„ç¥ç»ç½‘ç»œ"><a href="#ä¸€ä¸ªä¸¤å±‚çš„ç¥ç»ç½‘ç»œ" class="headerlink" title="ä¸€ä¸ªä¸¤å±‚çš„ç¥ç»ç½‘ç»œ"></a>ä¸€ä¸ªä¸¤å±‚çš„ç¥ç»ç½‘ç»œ</h2><p><img src="/../../../../../AppData/Roaming/Typora/typora-user-images/image-20230617174413453.png" alt="image-20230617174413453"></p>
<h2 id="æ¢¯åº¦ä¸‹é™æ±‚å¯¼"><a href="#æ¢¯åº¦ä¸‹é™æ±‚å¯¼" class="headerlink" title="æ¢¯åº¦ä¸‹é™æ±‚å¯¼"></a>æ¢¯åº¦ä¸‹é™æ±‚å¯¼</h2><p><img src="/../../../../../AppData/Roaming/Typora/typora-user-images/image-20230617174451412.png" alt="image-20230617174451412"></p>

            
        </div>
    </div>
    <div class="post-tags">
        
        <span class="icon">
            <i class="fa-solid fa-tags fa-fw"></i>
        </span>
        
        
        <span class="tag">
            
            <a href="/tags/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E7%B3%BB%E7%BB%9F%EF%BC%8C-DeepLearning-system/" style="color: #00bcd4">æ·±åº¦å­¦ä¹ ç³»ç»Ÿï¼Œ DeepLearning system</a>
        </span>
        
    </div>
    <a href="/2023/06/01/DeepLearningSystem/" class="go-post">é˜…è¯»å…¨æ–‡</a>
</div>

<div class="post">
    <a href="/2023/06/01/GN%E6%9C%BA%E5%99%A8%E4%BA%BA%E4%B8%8B%E8%BD%BD%E9%93%BE%E6%8E%A5/">
        <h2 class="post-title">GNæœºå™¨äººä¸‹è½½é“¾æ¥</h2>
    </a>
    <div class="category-and-date">
        
        <span class="date">
            <span class="icon">
                <i class="fa-solid fa-calendar fa-fw"></i>
            </span>
            2023/6/1
        </span>
        
        
    </div>
    <div class="description">
        <div class="content" v-pre>
            
            <p>ä¹‹å‰åˆ¶ä½œçš„ChatGPTç§»åŠ¨ç‰ˆæœ¬ï¼ˆwindows+å®‰å“çš„apiå·²è€—å°½ï¼Œè¯·ä¸‹è½½æ–°ç‰ˆæœ¬ï¼Œ PSï¼Œ ç†Ÿæ‚‰è½¯ä»¶çƒ­æ›´æ–°çš„å°ä¼™ä¼´å¯ä»¥è”ç³»æˆ‘å¸®å¿™ä¼˜åŒ–æ), <code>ä¸‹è½½é“¾æ¥</code>æ›´æ–°ä¸ºï¼š</p>
<ul>
<li><a target="_blank" rel="noopener" href="http://101.132.169.133:5000/file/download/chatgpt%E7%A7%BB%E5%8A%A8%E7%89%88%28GN%E5%88%B6%E4%BD%9C%29V0.6.apk">å®‰å“ç‰ˆæœ¬</a></li>
<li><a target="_blank" rel="noopener" href="http://101.132.169.133:5000/file/download/Win%E7%B3%BB%E7%BB%9Fchatgpt%E7%A7%BB%E5%8A%A8%E7%89%88(GN%E5%88%B6%E4%BD%9C)V0.6.zip">Windowsç‰ˆæœ¬</a></li>
</ul>
<p>å¦‚æœè¿˜æœ‰é—®é¢˜ï¼Œè¯·è”ç³»<code>QQ:2317431442</code></p>
<p>å¦‚æœè§‰å¾—ä¸é”™ç»™æˆ‘ä¹°æ¯å¯ä¹æï¼š</p>
<p><img src="/../images/wechat.png" alt="wechat"></p>

            
        </div>
    </div>
    <div class="post-tags">
        
        
    </div>
    <a href="/2023/06/01/GN%E6%9C%BA%E5%99%A8%E4%BA%BA%E4%B8%8B%E8%BD%BD%E9%93%BE%E6%8E%A5/" class="go-post">é˜…è¯»å…¨æ–‡</a>
</div>

<div class="post">
    <a href="/2023/05/30/%E5%88%A9%E7%94%A8ChatGLM%E5%88%A9%E7%94%A8QQ%E6%95%B0%E6%8D%AE%E9%9B%86%E6%9E%84%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E6%95%B0%E5%AD%97%E5%AD%AA%E7%94%9F/">
        <h2 class="post-title">åˆ©ç”¨ChatGLMåˆ©ç”¨QQæ•°æ®é›†æ„å»ºè‡ªå·±çš„æ•°å­—å­ªç”Ÿ</h2>
    </a>
    <div class="category-and-date">
        
        <span class="date">
            <span class="icon">
                <i class="fa-solid fa-calendar fa-fw"></i>
            </span>
            2023/5/30
        </span>
        
        
    </div>
    <div class="description">
        <div class="content" v-pre>
            
            <h3 id="é¡¹ç›®ç®€ä»‹ï¼š"><a href="#é¡¹ç›®ç®€ä»‹ï¼š" class="headerlink" title="é¡¹ç›®ç®€ä»‹ï¼š"></a>é¡¹ç›®ç®€ä»‹ï¼š</h3><p>æœ¬é¡¹ç›®æºè‡ª<a target="_blank" rel="noopener" href="https://github.com/kcxain/CloneLLM">kcxain</a>, æœ¬äººåªæ˜¯å°†å…¶åœ¨æœ¬åœ°éƒ¨ç½²å®Œæˆï¼Œ ä½œè€…ä½¿ç”¨äº†<code>NVIDIA A100 80GB</code> å¹¶ä¸æ˜¯æ¯ä¸ªäººéƒ½æ‹¥æœ‰çš„ã€‚ä¹Ÿä¸æ˜¯æ¯ä¸€ä¸ªäººéƒ½æ‹¥æœ‰<code>Linux</code>ç³»ç»Ÿè¿›è¡Œéƒ¨ç½²ï¼Œå¹¶ä¸”å¯¹äº<code>ChatGLM</code>çš„éƒ¨ç½²ï¼Œä½œè€…æ²¡æœ‰è¯´çš„å¾ˆæ˜ç™½ã€‚æ‰€ä»¥è¿™ä¸ªé¡¹ç›®å°†åˆ†ä¸ºä¸¤ä¸ªéƒ¨åˆ†ï¼š</p>
<ol>
<li><code>ChatGLM</code>çš„éƒ¨ç½²</li>
<li>åŸºäºè¯¥é¡¹ç›®çš„è‡ªæˆ‘æ•°æ®é›†çš„è®­ç»ƒ</li>
</ol>
<h3 id="ChatGLMéƒ¨ç½²"><a href="#ChatGLMéƒ¨ç½²" class="headerlink" title="ChatGLMéƒ¨ç½²"></a>ChatGLMéƒ¨ç½²</h3><ul>
<li>ChatGLM-6B æ˜¯ä¸€ä¸ªå¼€æºçš„ã€æ”¯æŒä¸­è‹±åŒè¯­çš„å¯¹è¯è¯­è¨€æ¨¡å‹ï¼ŒåŸºäº General Language Model (GLM) æ¶æ„ï¼Œå…·æœ‰ 62 äº¿å‚æ•°<a target="_blank" rel="noopener" href="https://github.com/THUDM/ChatGLM-6B">1</a>ã€‚</li>
<li>ç»“åˆæ¨¡å‹é‡åŒ–æŠ€æœ¯ï¼Œç”¨æˆ·å¯ä»¥åœ¨æ¶ˆè´¹çº§çš„æ˜¾å¡ä¸Šè¿›è¡Œæœ¬åœ°éƒ¨ç½²ï¼ˆINT4 é‡åŒ–çº§åˆ«ä¸‹æœ€ä½åªéœ€ 6GB æ˜¾å­˜ï¼‰<a target="_blank" rel="noopener" href="https://github.com/THUDM/ChatGLM-6B">1</a>ã€‚</li>
<li>ChatGLM-6B ä½¿ç”¨äº†å’Œ ChatGPT ç›¸ä¼¼çš„æŠ€æœ¯ï¼Œé’ˆå¯¹ä¸­æ–‡é—®ç­”å’Œå¯¹è¯è¿›è¡Œäº†ä¼˜åŒ–<a target="_blank" rel="noopener" href="https://github.com/THUDM/ChatGLM-6B">1</a>ã€‚</li>
<li>ç»è¿‡çº¦ 1T æ ‡è¯†ç¬¦çš„ä¸­è‹±åŒè¯­è®­ç»ƒï¼Œè¾…ä»¥ç›‘ç£å¾®è°ƒã€åé¦ˆè‡ªåŠ©ã€äººç±»åé¦ˆå¼ºåŒ–å­¦ä¹ ç­‰æŠ€æœ¯çš„åŠ æŒï¼Œ62 äº¿å‚æ•°çš„ ChatGLM-6B å·²ç»èƒ½ç”Ÿæˆç›¸å½“ç¬¦åˆäººç±»åå¥½çš„å›ç­”<a target="_blank" rel="noopener" href="https://github.com/THUDM/ChatGLM-6B">1</a>ã€‚</li>
<li>ä¸ºäº†æ–¹ä¾¿ä¸‹æ¸¸å¼€å‘è€…é’ˆå¯¹è‡ªå·±çš„åº”ç”¨åœºæ™¯å®šåˆ¶æ¨¡å‹ï¼Œä»–ä»¬åŒæ—¶å®ç°äº†åŸºäº P-Tuning v2 çš„é«˜æ•ˆå‚æ•°å¾®è°ƒæ–¹æ³• (ä½¿ç”¨æŒ‡å—) ï¼ŒINT4 é‡åŒ–çº§åˆ«ä¸‹æœ€ä½åªéœ€ 7GB æ˜¾å­˜å³å¯å¯åŠ¨å¾®è°ƒ<a target="_blank" rel="noopener" href="https://github.com/THUDM/ChatGLM-6B">1</a>ã€‚</li>
<li>ChatGLM-6B å¼€æºæ¨¡å‹æ—¨åœ¨ä¸å¼€æºç¤¾åŒºä¸€èµ·æ¨åŠ¨å¤§æ¨¡å‹æŠ€æœ¯å‘å±•ï¼Œæ³è¯·å¼€å‘è€…å’Œå¤§å®¶éµå®ˆå¼€æºåè®®ï¼Œå‹¿å°†å¼€æºæ¨¡å‹å’Œä»£ç åŠåŸºäºå¼€æºé¡¹ç›®äº§ç”Ÿçš„è¡ç”Ÿç‰©ç”¨äºä»»ä½•å¯èƒ½ç»™å›½å®¶å’Œç¤¾ä¼šå¸¦æ¥å±å®³çš„ç”¨é€”ä»¥åŠç”¨äºä»»ä½•æœªç»è¿‡å®‰å…¨è¯„ä¼°å’Œå¤‡æ¡ˆçš„æœåŠ¡<a target="_blank" rel="noopener" href="https://github.com/THUDM/ChatGLM-6B">1</a>ã€‚</li>
</ul>
<p>æ¸…åçš„ ChatGLM é¡¹ç›®åœ¨ 2023 å¹´ä¹Ÿå‘å¸ƒäº†ä¸€äº›é‡è¦çš„æ›´æ–°ï¼š</p>
<ul>
<li>2023 å¹´ 5 æœˆ 17 æ—¥ï¼Œä»–ä»¬å‘å¸ƒäº† VisualGLM-6Bï¼Œä¸€ä¸ªæ”¯æŒå›¾åƒç†è§£çš„å¤šæ¨¡æ€å¯¹è¯è¯­è¨€æ¨¡å‹<a target="_blank" rel="noopener" href="https://github.com/THUDM/ChatGLM-6B">1</a>ã€‚</li>
<li>2023 å¹´ 5 æœˆ 15 æ—¥ï¼Œä»–ä»¬æ›´æ–°äº† v1.1 ç‰ˆæœ¬ checkpointï¼Œè®­ç»ƒæ•°æ®å¢åŠ è‹±æ–‡æŒ‡ä»¤å¾®è°ƒæ•°æ®ä»¥å¹³è¡¡ä¸­è‹±æ–‡æ•°æ®æ¯”ä¾‹ï¼Œè§£å†³è‹±æ–‡å›ç­”ä¸­å¤¹æ‚ä¸­æ–‡è¯è¯­çš„ç°è±¡<a target="_blank" rel="noopener" href="https://github.com/THUDM/ChatGLM-6B">1</a>ã€‚</li>
</ul>
<h4 id="éƒ¨ç½²ChatGLM"><a href="#éƒ¨ç½²ChatGLM" class="headerlink" title="éƒ¨ç½²ChatGLM"></a>éƒ¨ç½²ChatGLM</h4><ol>
<li><p>è¿›å…¥<a target="_blank" rel="noopener" href="https://github.com/THUDM/ChatGLM-6B">ChatGLM</a> ä¸»é¡µï¼Œæ‰¾åˆ°gité“¾æ¥ï¼Œgitåˆ°æœ¬åœ°å³å¯:</p>
<p><img src="/../images/image-20230530173507682.png" alt="image-20230530173507682"></p>
<p>ç„¶åä½¿ç”¨git å‘½ä»¤ä¸‹è½½åˆ°æœ¬åœ°å³å¯ï¼š</p>
<pre><code class="bash">git clone git@github.com:THUDM/ChatGLM-6B.git
</code></pre>
<p>å¦‚æœä¸ç†Ÿæ‚‰gitï¼Œ ä¹Ÿå¯ä»¥ç‚¹å‡»ä¸»é¡µçš„ä¸‹è½½æŒ‰é’®ä¸‹è½½zipæ–‡ä»¶è¿›è¡Œè§£å‹ã€‚</p>
<p><img src="/../images/image-20230530173631415.png" alt="image-20230530173631415"></p>
</li>
<li><p>ä¸‹è½½å®ŒChatGLMä¸»é¡µç¨‹åºåï¼Œç°åœ¨éœ€è¦ä¸‹è½½æ¨¡å‹çš„æƒé‡æ–‡ä»¶ã€‚è¿›å…¥ChatGLMçš„<a target="_blank" rel="noopener" href="https://huggingface.co/THUDM/chatglm-6b">hugging face hub</a></p>
<p>åˆ©ç”¨æŒ‰ç…§ä¸»é¡µæ•™ç¨‹åˆ©ç”¨git lsf è¿›è¡Œä¸‹è½½å³å¯ã€‚ </p>
<p>å¦‚æœè¿™ä¸€æ­¥ä¹Ÿå­˜åœ¨é—®é¢˜ï¼Œä¹Ÿå¯ä»¥å…ˆä¸‹è½½é¡¹ç›®æ–‡ä»¶ï¼Œ å°†æƒé‡æ–‡ä»¶ä¸‹è½½å¹¶ä¿å­˜è¿™ä¸ªæ–‡ä»¶é‡Œé¢çš„å…¶ä»–çš„æ–‡ä»¶åˆ°chatglm-6bæ–‡ä»¶å¤¹ï¼ˆ<code>æ³¨æ„ï¼Œè¯¥æ–‡ä»¶å¤¹è¦åœ¨ä¹‹å‰çš„ChatGLMæ–‡ä»¶å¤¹ä¸‹</code>ï¼‰ï¼š</p>
<p><img src="/../images/image-20230530174240127.png" alt="image-20230530174240127"></p>
</li>
<li><p>ä¸‹è½½å®Œæ¯•åï¼Œæˆ‘ä»¬ä¾¿å¯ä»¥è¯•ç€è¿è¡Œä¸€ä¸‹é¢„è®­ç»ƒçš„<code>ChatGLM</code>äº†ï¼Œ æ³¨æ„ï¼Œè¿™é‡Œæ ¹æ®ä½ ç”µè„‘çš„æ˜¾å­˜ä¸åŒé‡‡ç”¨çš„é‡åŒ–è§„åˆ™ä¹Ÿä¸å¤ªç›¸åŒï¼Œ å®˜ç½‘çš„å»ºè®®å¦‚ä¸‹ï¼š</p>
</li>
</ol>
<table>
<thead>
<tr>
<th><strong>é‡åŒ–ç­‰çº§</strong></th>
<th><strong>æœ€ä½ GPU æ˜¾å­˜</strong>ï¼ˆæ¨ç†ï¼‰</th>
<th><strong>æœ€ä½ GPU æ˜¾å­˜</strong>ï¼ˆé«˜æ•ˆå‚æ•°å¾®è°ƒï¼‰</th>
</tr>
</thead>
<tbody><tr>
<td>FP16ï¼ˆæ— é‡åŒ–ï¼‰</td>
<td>13 GB</td>
<td>14 GB</td>
</tr>
<tr>
<td>INT8</td>
<td>8 GB</td>
<td>9 GB</td>
</tr>
<tr>
<td>INT4</td>
<td>6 GB</td>
<td>7 GB</td>
</tr>
</tbody></table>
<p>â€‹       å¦‚æœä½ çš„ç”µè„‘æ˜¯8Gæ˜¾å­˜ï¼Œ æœ¬äººå®æµ‹ä¹Ÿåªèƒ½é€‰æ‹©<code>INT4</code> é‡åŒ–ï¼Œ å¯¹äº6Gä»¥ä¸‹æ˜¾å­˜çš„ç”¨æˆ·ä¸å¤ªå‹å¥½ï¼Œä½ è¿™é‡Œå¯ä»¥å°è¯•<a target="_blank" rel="noopener" href="https://github.com/Jittor/JittorLLMs">æ¸…åçš„å¦ä¸€ä¸ªé¡¹ç›®</a> , åŸºäº<code>åŠ¨æ€è®¡ç®—å›¾</code>çš„<code>ç¡¬ç›˜ï¼Œå†…å­˜ï¼Œæ˜¾å­˜</code>åŠ¨æ€äº¤æ¢é‡åŒ–çš„æ–¹å¼è¿›è¡Œè¿è¡Œã€‚ç¬”è€…çš„æ˜¾å¡ä¸º<code>NVIDIA RTX 3070Ti-Laptop</code>ï¼Œ æ˜¾å­˜ä¸º8Gï¼Œé€‰æ‹©ä¸º<code>INT4</code>é‡åŒ–ã€‚</p>
<p>â€‹       ç°åœ¨æˆ‘ä»¬å·²ç»å®Œæˆäº†æ‰€æœ‰çš„é¢„è®¾æ­¥éª¤å•¦ï¼Œç°åœ¨å¯ä»¥éƒ¨ç½²å®éªŒäº†ï¼Œ é€‰æ‹©è¿™ä¸ªæ–‡ä»¶ï¼š</p>
<p><img src="/../images/image-20230530175109292.png" alt="image-20230530175109292"></p>
<p>å°†ç¬¬7-8è¡Œçš„ä»£ç ä¿®æ”¹ä¸ºï¼š</p>
<p><code>INT4é‡åŒ–</code>ï¼š</p>
<pre><code class="python">tokenizer = AutoTokenizer.from_pretrained(&quot;chatglm-6b&quot;, trust_remote_code=True)
model = AutoModel.from_pretrained(&quot;chatglm-6b&quot;, trust_remote_code=True).quantize(4).half().cuda()
</code></pre>
<p>æˆ–è€…<code>INT8é‡åŒ–</code>:</p>
<pre><code class="python">tokenizer = AutoTokenizer.from_pretrained(&quot;chatglm-6b&quot;, trust_remote_code=True)
model = AutoModel.from_pretrained(&quot;chatglm-6b&quot;, trust_remote_code=True).quantize(8).half().cuda()
</code></pre>
<p>ç„¶åè¿›è¡Œè¿è¡Œå³å¯ï¼Œç°åœ¨æˆ‘ä»¬å°±å¯ä»¥ç»™ä»–æé—®äº†ï¼Œå–å†³äºä½ çš„æ˜¾å¡çš„æ˜¾å­˜å’Œç®—åŠ›ï¼Œå›å¤é€Ÿåº¦å¯èƒ½å­˜åœ¨å·®è·ã€‚</p>
<p><img src="/../images/image-20230530183000569.png" alt="image-20230530183000569"></p>
<p><img src="/../images/image-20230530183459075.png" alt="image-20230530183459075"></p>
<h4 id="åŸºäºè‡ªå·±çš„QQæ•°æ®é›†çš„P-tuning"><a href="#åŸºäºè‡ªå·±çš„QQæ•°æ®é›†çš„P-tuning" class="headerlink" title="åŸºäºè‡ªå·±çš„QQæ•°æ®é›†çš„P-tuning"></a>åŸºäºè‡ªå·±çš„QQæ•°æ®é›†çš„P-tuning</h4><p>å‚è€ƒ<a target="_blank" rel="noopener" href="https://github.com/kcxain/CloneLLM">kcxain</a>,çš„ä»‹ç»ï¼Œä½ ç°åœ¨åº”è¯¥èƒ½å¤Ÿå®Œæˆæ•°æ®é›†çš„æ„å»ºï¼Œç„¶åæˆ‘ä»¬å°±å¯ä»¥å¼€å§‹è®­ç»ƒäº†ï¼Œ è¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä½œè€…ä½¿ç”¨çš„æ˜¯<code>Linux</code>ç³»ç»Ÿç¼–å†™çš„è®­ç»ƒè„šæœ¬ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦åœ¨<code>windows</code>ä¸‹è¿›è¡Œè®­ç»ƒéœ€è¦è¿›è¡Œä¿®æ”¹ã€‚</p>
<p>è¿™é‡Œæˆ‘ä»¬é€‰æ‹©<code>P-tuning</code>ä¸‹é¢çš„<code>main.py</code>æ–‡ä»¶</p>
<p><img src="/../images/image-20230530175722861.png" alt="image-20230530175722861"></p>
<p>åœ¨pycharmä¸­æˆ‘ä»¬å¯ä»¥åœ¨è¿™é‡Œè®¾ç½®å‚æ•°</p>
<p><img src="/../images/image-20230530175742124.png" alt="image-20230530175742124"></p>
<p>åœ¨è¿™é‡Œè¾“å…¥å‚æ•°ï¼š</p>
<p><img src="/../images/image-20230530175804152.png" alt="image-20230530175804152"></p>
<p>æˆ‘è¿™é‡Œé€‰æ‹©çš„å‚æ•°ä¸ºï¼š</p>
<pre><code class="bash">--quantization_bit
4
--do_train
--train_file
æˆ‘çš„å¥½å‹.txt.json
--prompt_column
prompt
--response_column
response
--history_column
history
--overwrite_cache
--model_name_or_path
..\chatglm-6b
--output_dir
chatglm_qq
--overwrite_output_dir
--max_source_length
128
--max_target_length
128
--per_device_train_batch_size
4
--per_device_eval_batch_size
1
--gradient_accumulation_steps
2
--predict_with_generate
--max_steps
10000
--logging_steps
10
--save_steps
1000
--learning_rate
0.002
--pre_seq_len
128
</code></pre>
<p>è¿™é‡Œéœ€è¦è¯´æ˜ä¸€ä¸‹ï¼Œæ ¹æ®ä½ çš„æ˜¾å¡çš„æ˜¾å­˜å¤§å°ï¼Œå¯ä»¥é€‚å½“è°ƒæ•´<code>batch_size</code>,<code>max_source_length</code>,<code>max_target_length  </code>ä»è€Œå‡å°ä½ çš„æ˜¾å­˜æ¶ˆè€—ï¼Œè¿™é‡Œæˆ‘è®¾ç½®çš„å‚æ•°çš„æ˜¾å­˜å ç”¨ä¸º<code>7.8/8G</code>, åŸºæœ¬ä¸Šåƒæ»¡äº†ã€‚</p>
<p><img src="/../images/image-20230530180019282.png" alt="image-20230530180019282"></p>
<p>ç„¶åæˆ‘ä»¬è¿è¡Œåä¾¿å¯ä»¥çœ‹åˆ°è®­ç»ƒçš„logè¾“å‡ºäº†ã€‚</p>
<p><img src="/../images/image-20230530180052355.png" alt="image-20230530180052355"></p>
<p>è¿™é‡Œæˆ‘è®¾ç½®çš„æ¯éš”1000ä¸ªepochè¿›è¡Œä¸€ä¸ªä¿å­˜ï¼Œåœ¨è®­ç»ƒ1000ä¸ªepochåï¼Œæˆ‘ç»ˆæ­¢äº†ã€‚è¿™æ˜¯ç›®å‰çš„å¯¹è¯æ•ˆæœï¼š</p>
<p>æŒ‰ç…§åšä¸»çš„ä»‹ç»ï¼Œè¿™é‡Œæˆ‘ä»¬æ³¨æ„ä¸€ä¸‹ï¼Œä¼ å…¥çš„å‚æ•°æ˜¯åœ¨pyç¨‹åºä¸­</p>
<pre><code class="BASH">--model_name_or_path
..\chatglm-6b
--pre_seq_len
128
--ptuning_checkpoint
chatglm_qq/checkpoint-1000
</code></pre>
<p><img src="/../images/image-20230530185103745.png" alt="image-20230530185103745"></p>
<p>å¥½å§ï¼Œçœ‹æ¥æˆ‘å’ŒQQç¾¤å‹ä¸»è¦çš„è®¨è®ºå†…å®¹è¿˜æ˜¯å…³äºæ–‡ä»¶æ¥å—&#x2F;ä¼ è¾“çš„ï¼Œ å¤ªå°´å°¬äº†ï¼Œåé¢å‡†å¤‡æ‹¿QQç¾¤èŠæ•°æ®è®­ç»ƒä¸€ä¸‹ ï¼Œæ¯•ç«Ÿæˆ‘çš„æ´»è·ƒä¸»è¦æ˜¯åœ¨QQç¾¤èŠç«‹é©¬ğŸ¤£ã€‚ </p>
<p>ç¬”è€…åˆè¿›è¡Œäº†è®­ç»ƒï¼Œå¾—åˆ°å¦‚ä¸‹æ•ˆæœï¼š</p>
<p><img src="/../images/image-20230530201939083.png" alt="image-20230530201939083"></p>
<p>æ€ä¹ˆè¯´å‘¢ï¼Œå·®å¼ºäººæ„å§ï¼Œ å¯èƒ½è¿˜æ˜¯é¢„æ–™æ•°æ®é›†è´¨é‡è¾ƒå·®ã€‚</p>
<h3 id="æ„å»ºè‡ªå·±çš„æ•°å­—å­ªç”Ÿ"><a href="#æ„å»ºè‡ªå·±çš„æ•°å­—å­ªç”Ÿ" class="headerlink" title="æ„å»ºè‡ªå·±çš„æ•°å­—å­ªç”Ÿ"></a>æ„å»ºè‡ªå·±çš„æ•°å­—å­ªç”Ÿ</h3><p>åœ¨å‰æ–‡ä¸­ï¼Œæˆ‘ä»¬å®Œæˆäº†åŸºäºè‡ªå·±çš„QQæ•°æ®é›†çš„<code>P-tuning</code>å¾—åˆ°çš„è‡ªå·±çš„å¯¹è¯æ¨¡å‹ï¼Œç°åœ¨æˆ‘ä»¬å¯ä»¥éƒ¨ç½²äº†ï¼Œè¿™é‡Œæˆ‘é‡‡ç”¨çš„æ˜¯ä¸€ä¸ªå¸¸ç”¨çš„è§£å†³æ–¹æ¡ˆ<code>cqhttp+nonebot</code>, ç„¶åé€‰æ‹©åŸºäºå·²æœ‰æ’ä»¶è¿›è¡Œä¿®æ”¹å¾—åˆ°ã€‚<code>nonebot</code>æ˜¯ä¸€ä¸ªåŸºäºå¼‚æ­¥æ¶æ„æ­å»ºçš„ï¼Œ åŸºäºæ­¤ï¼Œæˆ‘ä»¬åŸºäº<code>fast api</code>æ­å»ºä¸€ä¸ªå¼‚æ­¥è·¯ç”±æ„å»ºè‡ªå·±çš„æ•°å­—å­ªç”Ÿã€‚å€ŸåŠ©<code>GPT4</code>ï¼Œç®€å•æè¿°éœ€æ±‚åä¾¿å¯ä»¥å¾—åˆ°æ‰€éœ€è¦çš„ä»£ç ï¼š</p>
<pre><code class="python">from fastapi import FastAPI, HTTPException
from pydantic import BaseModel
from transformers import (
    AutoConfig,
    AutoModel,
    AutoTokenizer,
)
from arguments import ModelArguments, DataTrainingArguments
import torch
import os

app = FastAPI()

model = None
tokenizer = None


class Prompt(BaseModel):
    text: str

@app.on_event(&quot;startup&quot;)
async def load_model():
    global model, tokenizer

    model_args = ModelArguments(
        model_name_or_path=&quot;..\\chatglm-6b&quot;,
        ptuning_checkpoint=&quot;chatglm_qq/checkpoint-600&quot;,
        pre_seq_len=128,
        prefix_projection=False,
        quantization_bit=8,
    )

    tokenizer = AutoTokenizer.from_pretrained(model_args.model_name_or_path,
                                              trust_remote_code=True)
    config = AutoConfig.from_pretrained(model_args.model_name_or_path,
                                        trust_remote_code=True)

    config.pre_seq_len = model_args.pre_seq_len
    config.prefix_projection = model_args.prefix_projection

    if model_args.ptuning_checkpoint is not None:
        print(
            f&quot;Loading prefix_encoder weight from &#123;model_args.ptuning_checkpoint&#125;&quot;
        )
        model = AutoModel.from_pretrained(model_args.model_name_or_path,
                                          config=config,
                                          trust_remote_code=True).quantize(4).half().cuda()
        prefix_state_dict = torch.load(
            os.path.join(model_args.ptuning_checkpoint, &quot;pytorch_model.bin&quot;))
        new_prefix_state_dict = &#123;&#125;
        for k, v in prefix_state_dict.items():
            if k.startswith(&quot;transformer.prefix_encoder.&quot;):
                new_prefix_state_dict[
                    k[len(&quot;transformer.prefix_encoder.&quot;):]] = v
        model.transformer.prefix_encoder.load_state_dict(new_prefix_state_dict)
    else:
        model = AutoModel.from_pretrained(model_args.model_name_or_path,
                                          config=config,
                                          trust_remote_code=True)

    if model_args.quantization_bit is not None:
        print(f&quot;Quantized to &#123;model_args.quantization_bit&#125; bit&quot;)
        model = model.quantize(model_args.quantization_bit)

    if model_args.pre_seq_len is not None:
        # P-tuning v2
        model = model.half().cuda()
        model.transformer.prefix_encoder.float().cuda()

    model = model.eval()
    print(f&quot;æ¨¡å‹åŠ è½½æˆåŠŸ&quot;)


@app.post(&quot;/chatglm/qq/ask&quot;)
async def ask(prompt: Prompt):
    global model, tokenizer
    if model is None or tokenizer is None:
        raise HTTPException(status_code=503, detail=&quot;Model not loaded&quot;)

    # ç°åœ¨ä½ éœ€è¦ä½¿ç”¨modelå’Œtokenizerå¤„ç†promptå¹¶ç”Ÿæˆresponse
    # response = model.chat(prompt)
    # è°ƒç”¨æ¨¡å‹çš„ chat æ–¹æ³•
    history = []
    response, history = model.chat(
        tokenizer,
        prompt.text,
        history=history,
    )

    return &#123;&quot;response&quot;: response&#125;



async def main():
    await load_model()
    while True:
        prompt = input(&quot;è¯·è¾“å…¥ï¼š&quot;)
        response = await ask(Prompt(text=prompt))
        print(response)


if __name__ == &quot;__main__&quot;:
    import asyncio
    asyncio.run(main())
</code></pre>
<p>å¯åŠ¨ä»£ç ä¸ºï¼š</p>
<pre><code class="bash"> uvicorn qq_chat_app:app --host 0.0.0.0 --port 1414 --reload
</code></pre>
<p>ç®€å•ç¼–å†™æµ‹è¯•ä»£ç æµ‹è¯•ç«¯å£ï¼š</p>
<pre><code class="python">import requests
def get_chatglm(prompt):
    url = &#39;http://localhost:1414/chatglm/qq/ask&#39;
    data = &#123;
        &#39;text&#39;: prompt
    &#125;
    response = requests.post(url, json=data)

    print(response.json()[&quot;response&quot;])

get_chatglm(&quot;ä½ æ˜¯è°ï¼Ÿ ä½ èƒ½å¹²ä»€ä¹ˆï¼Ÿ ä»Šå¤©æ™šä¸Šä»€ä¹ˆåƒä»€ä¹ˆï¼Ÿ&quot;)
</code></pre>
<p>å¾—åˆ°ç»“æœ:</p>
<pre><code class="bash">æˆ‘æ˜¯ä¸€ä¸ªåä¸º ChatGPT çš„äººå·¥æ™ºèƒ½åŠ©æ‰‹ï¼Œæˆ‘å¯ä»¥é€šè¿‡è‡ªç„¶è¯­è¨€å¤„ç†æŠ€æœ¯ï¼Œå›ç­”æ‚¨çš„é—®é¢˜å’Œæä¾›ä¿¡æ¯ã€‚
</code></pre>
<p>æˆåŠŸæµ‹è¯•é€šæ¥å£ï¼Œæš‚æ—¶åŸºäº<code>nonebot2</code>æ­å»ºäº†ä¸€ä¸ªç®€å•çš„å›å¤æ¡†æ¶ï¼Œæ•ˆæœå¦‚ä¸‹ï¼š</p>
<p><img src="/../images/image-20230530214355521.png" alt="image-20230530214355521"></p>
<p><img src="/../images/image-20230530214405417.png" alt="image-20230530214405417"></p>
<p><img src="/../images/image-20230530214524635.png" alt="image-20230530214524635"></p>
<p>ç”±äºç›®å‰<code>tx</code>å¯¹QQæœºå™¨äººé£æ§ä¸¥é‡ï¼Œå›å¤äº†å‡ æ¬¡å°±ä¸è¡Œäº†ï¼Œè€Œä¸”å›å¤æ•ˆæœåªèƒ½ç®—ä¸€èˆ¬å§ã€‚</p>
<h1 id="Todo-List"><a href="#Todo-List" class="headerlink" title="Todo List"></a>Todo List</h1><ul>
<li><input disabled type="checkbox"> ä¼˜åŒ–æ•°æ®é›†æ„å»ºï¼Œ æé«˜å¯¹è¯è´¨é‡ï¼Œå¢å¼ºæ¨¡å‹è®­ç»ƒã€‚</li>
<li><input disabled type="checkbox"> å°è¯•æ³¨å…¥<code>RWKV</code>, <code>LLM</code>ç­‰æ¨¡å‹è¿›è¡Œæ„å»ºã€‚</li>
<li><input disabled type="checkbox"> æš‚æ—¶è¿˜æ²¡æƒ³å¥½ã€‚</li>
</ul>

            
        </div>
    </div>
    <div class="post-tags">
        
        <span class="icon">
            <i class="fa-solid fa-tags fa-fw"></i>
        </span>
        
        
        <span class="tag">
            
            <a href="/tags/ChatGLM%EF%BC%8C-%E6%95%B0%E5%AD%97%E5%AD%AA%E7%94%9F%EF%BC%8C-QQ%E6%95%B0%E6%8D%AE%E9%9B%86/" style="color: #00bcd4">ChatGLMï¼Œ æ•°å­—å­ªç”Ÿï¼Œ QQæ•°æ®é›†</a>
        </span>
        
    </div>
    <a href="/2023/05/30/%E5%88%A9%E7%94%A8ChatGLM%E5%88%A9%E7%94%A8QQ%E6%95%B0%E6%8D%AE%E9%9B%86%E6%9E%84%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E6%95%B0%E5%AD%97%E5%AD%AA%E7%94%9F/" class="go-post">é˜…è¯»å…¨æ–‡</a>
</div>

<div class="post">
    <a href="/2023/05/30/paper-reading-DAMO/">
        <h2 class="post-title">DAMO(Deep Agile Mask Optimization for Full-Chip Scale, ç”¨äºå…¨èŠ¯ç‰‡è§„æ¨¡çš„æ·±åº¦å­¦ä¹ æ•æ·æ©è†œä¼˜åŒ–ï¼‰</h2>
    </a>
    <div class="category-and-date">
        
        <span class="date">
            <span class="icon">
                <i class="fa-solid fa-calendar fa-fw"></i>
            </span>
            2023/5/30
        </span>
        
        
    </div>
    <div class="description">
        <div class="content" v-pre>
            
            <h2 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h2><ul>
<li><strong>ä½œè€…</strong>ï¼šHaoyu Yangã€Zongyi Liã€Kumara Sastryã€Saumyadip Mukhopadhyayã€Mark Kilgardã€Anima Anandkumarã€Brucek Khailanyã€Vivek Singhã€Haoxing Ren</li>
<li><strong>å‘å¸ƒæ—¶é—´</strong>ï¼šï¼ˆå‘è¡¨æ—¥æœŸï¼‰</li>
<li><strong>æ¥æº</strong>ï¼šï¼ˆæœŸåˆŠã€ä¼šè®®ç­‰ï¼‰</li>
<li><strong>å…³é”®è¯</strong>ï¼šå…‰åˆ»å»ºæ¨¡ï¼Œç¥ç»ç½‘ç»œï¼ŒåŒæ³¢æ®µï¼Œå…‰å­¦å¯å‘</li>
</ul>
<h2 id="ç›®çš„ä¸åŠ¨æœº"><a href="#ç›®çš„ä¸åŠ¨æœº" class="headerlink" title="ç›®çš„ä¸åŠ¨æœº"></a>ç›®çš„ä¸åŠ¨æœº</h2><ul>
<li>å…‰å­¦è¿‘æ¥æ ¡æ­£ï¼ˆOPCï¼‰åœ¨ä¼ ç»Ÿè®¾è®¡æµç¨‹ä¸­è¢«å¹¿æ³›åº”ç”¨äºå¯åˆ¶é€ æ€§ä¼˜åŒ–ã€‚</li>
<li>ä¼ ç»Ÿæ–¹æ³•ä½¿ç”¨å…‰åˆ»æ¨¡å‹è¿›è¡Œ OPCï¼Œä½†å¯èƒ½ä¼šé‡åˆ°è¿‡é«˜çš„è®¡ç®—å¼€é”€ã€‚</li>
<li>å¤§éƒ¨åˆ†æ–¹æ³•å…³æ³¨ä¼˜åŒ–å•ä¸ªå±€éƒ¨å‰ªè¾‘ï¼Œè€Œæ²¡æœ‰è§£å†³å¦‚ä½•å¤„ç†å…¨èŠ¯ç‰‡çº§åˆ«çš„é—®é¢˜ã€‚</li>
</ul>
<h2 id="æ–¹æ³•"><a href="#æ–¹æ³•" class="headerlink" title="æ–¹æ³•"></a>æ–¹æ³•</h2><ul>
<li>æœ¬æ–‡æå‡ºäº†ä¸€ç§åä¸º DAMO çš„é«˜æ€§èƒ½ã€å¯æ‰©å±•çš„æ·±åº¦å­¦ä¹ æ”¯æŒçš„å…¨èŠ¯ç‰‡çº§ OPC ç³»ç»Ÿã€‚</li>
<li>DAMO æ˜¯ä¸€ç§ç«¯åˆ°ç«¯çš„æ©æ¨¡ä¼˜åŒ–èŒƒå¼ï¼ŒåŒ…æ‹¬ä¸€ä¸ªæ·±åº¦å…‰åˆ»æ¨¡æ‹Ÿå™¨ï¼ˆDLSï¼‰ç”¨äºå…‰åˆ»å»ºæ¨¡ï¼Œä»¥åŠä¸€ä¸ªæ·±åº¦æ©æ¨¡ç”Ÿæˆå™¨ï¼ˆDMGï¼‰ç”¨äºæ©æ¨¡å›¾æ¡ˆç”Ÿæˆã€‚</li>
<li>æå‡ºäº†ä¸€ç§ä¸“é—¨ä¸º DAMO è®¾è®¡çš„æ–°å‹å¸ƒå±€åˆ†å‰²ç®—æ³•ï¼Œç”± DBSCAN èšç±»å’Œ KMeans++ èšç±»ç»„æˆï¼Œç”¨äºå¤„ç†å…¨èŠ¯ç‰‡ OPC é—®é¢˜ã€‚</li>
</ul>
<h4 id="ç»†èŠ‚"><a href="#ç»†èŠ‚" class="headerlink" title="ç»†èŠ‚"></a>ç»†èŠ‚</h4><ul>
<li><p>optical proximity correction (OPCï¼Œ å…‰å­¦æ¥è¿‘çŸ«æ­£)è¶…å¤§è§„æ¨¡é›†æˆç”µè·¯(VLSI)ç³»ç»Ÿçš„ä¸æ–­ç¼©å°å¸¦æ¥äº†ä¸å¯é¿å…çš„å…‰åˆ»é‚»è¿‘æ•ˆåº”ï¼Œå¯¼è‡´åˆ¶é€ è‰¯ç‡ä¸‹é™ã€‚ </p>
<p>ä¸»æµçš„OPCçš„æŠ€æœ¯åŒ…æ‹¬ï¼š</p>
<ul>
<li></li>
</ul>
</li>
</ul>
<h3 id="ç›®å‰å…‰åˆ»OPCçš„ç¼ºç‚¹"><a href="#ç›®å‰å…‰åˆ»OPCçš„ç¼ºç‚¹" class="headerlink" title="ç›®å‰å…‰åˆ»OPCçš„ç¼ºç‚¹"></a>ç›®å‰å…‰åˆ»OPCçš„ç¼ºç‚¹</h3><ol>
<li><p>è€—æ—¶ï¼šæ¨¡å‹é©±åŠ¨&#x2F;ILTæ–¹æ³•éœ€è¦å¤§é‡å…‰åˆ»æ¨¡æ‹Ÿå’Œæ©æ¨¡ä¼˜åŒ–è°ƒç”¨ã€‚</p>
</li>
<li><p>ä½åˆ†è¾¨ç‡ï¼šåŸºäºæœºå™¨å­¦ä¹ çš„ OPC å·¥ä½œå±€é™äºä½åˆ†è¾¨ç‡å›¾åƒã€‚</p>
</li>
<li><p>æ— æ³•å®¹å¿åˆ†è¾¨ç‡æŸå¤±ï¼šä¼ ç»Ÿ OPC å¼•æ“ä»éœ€å¤„ç†ä½åˆ†è¾¨ç‡é™åˆ¶ã€‚</p>
</li>
<li><p>å•å‰ªè¾‘ OPC ä¸å®ç”¨ï¼šåŸºäºæœºå™¨å­¦ä¹ çš„æ–¹æ³•å±€é™æ€§è¾ƒå¤§ã€‚</p>
</li>
<li><p>é’ˆå¯¹å…¨ç‰‡å°ºåº¦é—®é¢˜ï¼šå°‘æœ‰è®¨è®ºå¦‚ä½•ä»å…¨ç‰‡å°ºåº¦è§£å†³ OPC é—®é¢˜ã€‚</p>
</li>
<li><p>è¿è¡Œæ—¶å¼€é”€å¤§ï¼šä¼ ç»Ÿæ–¹æ³•åœ¨å…¨ç‰‡ OPC ä»»åŠ¡ä¸­é¢ä¸´è¿è¡Œæ—¶å¼€é”€éš¾é¢˜ã€‚</p>
</li>
<li><p>èµ„æºæ¶ˆè€—ï¼šD2S ç­‰æ–¹æ³•åœ¨ç¡¬ä»¶å’Œè½¯ä»¶ä¸Šæ¶ˆè€—å¤§é‡èµ„æºã€‚</p>
</li>
<li><p>æ•°æ®é›†é™åˆ¶ï¼šåŸºäºå­¦ä¹ çš„æ–¹æ³•åœ¨å…¨ç‰‡æ©æ¨¡ä¼˜åŒ–æ–¹é¢å—é™äºæ•°æ®é›†å’Œä½æ™¶åœ†å›¾æ¡ˆä¿çœŸåº¦ã€‚</p>
<h1 id="æœ¬æ–‡å®Œæˆçš„å†…å®¹"><a href="#æœ¬æ–‡å®Œæˆçš„å†…å®¹" class="headerlink" title="æœ¬æ–‡å®Œæˆçš„å†…å®¹"></a>æœ¬æ–‡å®Œæˆçš„å†…å®¹</h1><ol>
<li>è®¾è®¡äº† DCGAN-HDï¼Œé€šè¿‡é‡æ–°è®¾è®¡ DCGAN çš„ç”Ÿæˆå™¨å’Œåˆ¤åˆ«å™¨ï¼Œå®ç°äº†å…·æœ‰ç«äº‰åŠ›çš„é«˜åˆ†è¾¨ç‡ç‰¹å¾æå–å™¨ï¼ˆ1024 Ã— 1024ï¼‰ã€‚</li>
<li>åŸºäº DCGAN-HD æ„å»ºäº† DLS å’Œ DMGã€‚DLS èƒ½è¿›è¡Œé«˜åˆ†è¾¨ç‡å…‰åˆ»æ¨¡æ‹Ÿï¼Œé€šè¿‡ä¸ DLS çš„é€†æ ¡æ­£ä¸€èµ·è®­ç»ƒï¼ŒDMG å¯ç›´æ¥ç”Ÿæˆé«˜è´¨é‡æ©æ¨¡ã€‚</li>
<li>å¼€å‘äº†ä¸€ç§é«˜æ•ˆçš„æ— ç¼å…¨ç‰‡åˆ†å‰²ç®—æ³•ï¼Œç”± DBSCAN å’Œ KMeans++ èšç±»ç®—æ³•ç»„æˆï¼Œä½¿ DAMO å¯ä»¥åº”ç”¨äºä»»æ„å¤§å°çš„å¸ƒå±€ã€‚</li>
<li>æå‡ºä½¿ç”¨åŸºäºå›¾çš„è®¡ç®—æŠ€æœ¯å’Œå¹¶è¡ŒæŠ€æœ¯åˆ†åˆ«åŠ é€Ÿ DBSCAN å’Œ KMeans++ åœ¨ GPU ä¸Šçš„è®¡ç®—ã€‚æ­¤å¤–ï¼Œè¿˜ä½¿ç”¨ TensorRT éƒ¨ç½²äº†æ‰€æå‡ºçš„ DCGAN-HDï¼Œä»è€Œå®ç°æ›´å¿«çš„æ¨ç†ã€‚</li>
<li>å°†æå‡ºçš„æ¡†æ¶ä¸æœ€å…ˆè¿›çš„å•†ä¸šå·¥å…· Calibre è¿›è¡Œäº†æ¯”è¾ƒï¼šåœ¨å•å‰ªè¾‘ OPC ä»»åŠ¡ä¸­åŠ é€Ÿ 5 å€ï¼Œå…¨ç‰‡ OPC ä»»åŠ¡ä¸­åŠ é€Ÿ 1.3 å€ï¼ŒåŒæ—¶ä¿æŒæ›´å¥½çš„è§£å†³æ–¹æ¡ˆè´¨é‡ã€‚</li>
</ol>
<h3 id="å‰ç½®æ¡ä»¶"><a href="#å‰ç½®æ¡ä»¶" class="headerlink" title="å‰ç½®æ¡ä»¶"></a>å‰ç½®æ¡ä»¶</h3><ul>
<li><strong>cGANåŸºç¡€</strong></li>
</ul>
<p>cGANï¼ˆConditional Generative Adversarial Networksï¼Œæ¡ä»¶ç”Ÿæˆå¯¹æŠ—ç½‘ç»œï¼‰[18]ï¼Œ[19] æ˜¯ä¸€ç§ç±»ä¼¼äºç»å…¸ GANï¼ˆGenerative Adversarial Networksï¼Œç”Ÿæˆå¯¹æŠ—ç½‘ç»œï¼‰[20] çš„æ¨¡å‹ï¼Œç”±ä¸€ä¸ªç”Ÿæˆå™¨å’Œä¸€ä¸ªåˆ¤åˆ«å™¨ç»„æˆã€‚ç”Ÿæˆå™¨è¢«è®­ç»ƒä»¥ç”Ÿæˆéµå¾ªæŸç§åˆ†å¸ƒçš„æ ·æœ¬ï¼Œä½¿å¾—åˆ¤åˆ«å™¨æ— æ³•è¯†åˆ«è¿™äº›æ•°æ®æ˜¯æ¥è‡ªç”Ÿæˆå™¨è¿˜æ˜¯æ¥è‡ªè®­ç»ƒæ•°æ®é›†ã€‚cGAN ä¸ GAN çš„ä¸åŒä¹‹å¤„åœ¨äºæŸäº›é™åˆ¶ï¼Œä¾‹å¦‚ç”Ÿæˆå™¨çš„è¾“å…¥å’Œè¾“å‡ºå¯ä»¥å…·æœ‰æ›´å¼ºçš„å…³è”æ€§ã€‚</p>
<p>åœ¨è¶…å¤§è§„æ¨¡é›†æˆç”µè·¯ä¸­ï¼Œå…¸å‹çš„ cGAN åº”ç”¨åŒ…æ‹¬ GANOPC[9] å’Œ LithoGAN[14]ã€‚å‰è€…è¢«è®¾è®¡ç”¨äºå¸ƒå±€æ©æ¨¡åˆæˆï¼Œåè€…åˆ™ä¾§é‡äºå•é€šå­”&#x2F;æ¥è§¦å½¢çŠ¶çš„å…‰åˆ»è½®å»“é¢„æµ‹ã€‚cGAN çš„ä¼˜ç‚¹åœ¨äºç”Ÿæˆå™¨å’Œåˆ¤åˆ«å™¨ä¹‹é—´çš„ç«äº‰æ€§è®­ç»ƒè¿‡ç¨‹ï¼Œå¯ä»¥ä¿ƒä½¿ç”Ÿæˆå™¨ç”Ÿæˆæ›´çœŸå®ã€é«˜è´¨é‡çš„æ ·æœ¬ã€‚è€Œåœ¨å…‰åˆ»æ©æ¨¡ç”Ÿæˆå’Œé¢„æµ‹ç­‰ä»»åŠ¡ä¸­ï¼ŒcGAN èƒ½å¤Ÿåˆ©ç”¨è¾“å…¥å¸ƒå±€çš„æ¡ä»¶ä¿¡æ¯ï¼Œç”Ÿæˆæ›´ä¸ºç²¾ç¡®ä¸”ç¬¦åˆå®é™…éœ€æ±‚çš„æ©æ¨¡ã€‚</p>
<h4 id="DAMOæ¡†æ¶å¼•å…¥äº†ä»¥ä¸‹æœ¯è¯­å’Œè¯„ä¼°æŒ‡æ ‡ï¼š"><a href="#DAMOæ¡†æ¶å¼•å…¥äº†ä»¥ä¸‹æœ¯è¯­å’Œè¯„ä¼°æŒ‡æ ‡ï¼š" class="headerlink" title="DAMOæ¡†æ¶å¼•å…¥äº†ä»¥ä¸‹æœ¯è¯­å’Œè¯„ä¼°æŒ‡æ ‡ï¼š"></a>DAMOæ¡†æ¶å¼•å…¥äº†ä»¥ä¸‹æœ¯è¯­å’Œè¯„ä¼°æŒ‡æ ‡ï¼š</h4><ul>
<li><p>**å®šä¹‰1 (mIoU)**ï¼šç»™å®šä¸¤ä¸ªå½¢çŠ¶På’ŒGï¼ŒPå’ŒGä¹‹é—´çš„IoUä¸º $IoU(P, G) &#x3D; \frac{P \cap G}{P \cup G}$ã€‚mIoU æ˜¯å¹³å‡IoUã€‚</p>
</li>
<li><p>**å®šä¹‰2 (åƒç´ å‡†ç¡®åº¦)**ï¼šåƒç´ å‡†ç¡®åº¦ï¼ˆpixAccï¼‰å®šä¹‰ä¸ºå›¾åƒä¸Šæ­£ç¡®åˆ†ç±»åƒç´ çš„ç™¾åˆ†æ¯”ã€‚</p>
</li>
<li><p>**å®šä¹‰3 (å¹³æ–¹ L2 è¯¯å·®)**ï¼šè®¾wå’Œyåˆ†åˆ«ä¸ºè®¾è®¡å›¾åƒå’Œæ™¶åœ†å›¾åƒï¼Œå¹³æ–¹L2è¯¯å·®ç”± $||w - y||_2^2$ è®¡ç®—ã€‚</p>
</li>
<li><p>**å®šä¹‰4 (PV Band)**ï¼šç»™å®šä¸€ç»„å·¥è‰ºæ¡ä»¶ä¸‹çš„å…‰åˆ»ä»¿çœŸè½®å»“ï¼ŒPV Bands æ˜¯è¿™äº›æ¡ä»¶ä¸‹æ‰€æœ‰è½®å»“çš„åŒºåŸŸã€‚</p>
</li>
<li><p><strong>é—®é¢˜1ï¼ˆæ©æ¨¡ä¼˜åŒ–ï¼‰</strong>ï¼šç»™å®šè®¾è®¡å›¾åƒwï¼Œæ©æ¨¡ä¼˜åŒ–çš„ç›®æ ‡æ˜¯ç”Ÿæˆç›¸åº”çš„æ©æ¨¡xï¼Œä½¿å¾—å…‰åˆ»è¿‡ç¨‹åå‰©ä½™çš„å›¾æ¡ˆyå°½å¯èƒ½æ¥è¿‘wï¼Œæ¢å¥è¯è¯´ï¼Œæœ€å°åŒ–å…‰åˆ»å›¾åƒçš„PV Bandå’Œå¹³æ–¹L2è¯¯å·®ã€‚</p>
</li>
</ul>
<p>æ©æ¨¡è´¨é‡é€šè¿‡ä¸ç›®æ ‡å›¾åƒçš„æ™¶åœ†å›¾åƒä¿çœŸåº¦è¯„ä¼°ï¼Œä¸»è¦é‡‡ç”¨ä¸‰ç§ç¼ºé™·æ£€æµ‹å™¨ï¼šEPEï¼ˆè¾¹ç¼˜æ”¾å¤§è¯¯å·®ï¼‰ã€æ¡¥å’Œé¢ˆéƒ¨ã€‚EPEè®¡ç®—ç›®æ ‡è¾¹ç¼˜åˆ°å…‰åˆ»è½®å»“çš„è·ç¦»ï¼Œé¢ˆéƒ¨ç¼ºé™·å…³æ³¨å…³é”®å°ºå¯¸è¯¯å·®ï¼Œæ¡¥æ¥æ£€æµ‹å™¨å¯»æ‰¾æ„å¤–çš„ç”µçº¿ç¼©çŸ­ã€‚ä¸ºç¡®ä¿å…‰åˆ»åå›¾æ¡ˆå°½é‡æ¥è¿‘ç›®æ ‡å›¾æ¡ˆï¼Œé‡‡ç”¨å¹³æ–¹L2è¯¯å·®å’ŒPV Bandè¯„ä¼°æ©æ¨¡è´¨é‡ï¼Œåˆ†åˆ«è¡¡é‡æ ‡ç§°å·¥è‰ºæ¡ä»¶ä¸‹çš„è´¨é‡å’Œç”Ÿæˆæ©æ¨¡çš„ç¨³å¥æ€§ã€‚</p>
<p>PV Bandï¼ˆè¿‡ç¨‹å˜å·®å¸¦ï¼‰æ˜¯åœ¨ä¸€ç»„å·¥è‰ºæ¡ä»¶ä¸‹ï¼Œè¡¡é‡æ©è†œå¯¹å…‰åˆ»è¿‡ç¨‹ä¸­å„ç§å˜åŒ–çš„ç¨³å¥æ€§çš„æŒ‡æ ‡ã€‚åœ¨å…‰åˆ»è¿‡ç¨‹ä¸­ï¼Œä¸åŒçš„å·¥è‰ºæ¡ä»¶å¯èƒ½ä¼šå¯¼è‡´ä¸åŒçš„å…‰åˆ»è½®å»“ï¼Œå› æ­¤åœ¨è¿™äº›æ¡ä»¶ä¸‹çš„å…‰åˆ»ä»¿çœŸè½®å»“ä¹‹é—´å­˜åœ¨ä¸€å®šçš„åŒºåŸŸå·®å¼‚ã€‚PV Bandå°±æ˜¯æè¿°è¿™äº›æ¡ä»¶ä¸‹æ‰€æœ‰è½®å»“åŒºåŸŸå·®å¼‚çš„æŒ‡æ ‡ã€‚ä¸€ä¸ªè¾ƒå°çš„PV Bandè¡¨ç¤ºç”Ÿæˆçš„æ©æ¨¡åœ¨å·¥è‰ºæ¡ä»¶å˜åŒ–ä¸‹æ›´å…·ç¨³å¥æ€§ï¼Œå…‰åˆ»è¿‡ç¨‹åäº§ç”Ÿçš„å›¾æ¡ˆä¸ç›®æ ‡å›¾æ¡ˆæ›´ä¸ºæ¥è¿‘ã€‚</p>
</li>
</ol>
<h2 id="DAMOæ¡†æ¶"><a href="#DAMOæ¡†æ¶" class="headerlink" title="DAMOæ¡†æ¶"></a>DAMOæ¡†æ¶</h2><p><img src="/../images/image-20230504202444044.png" alt="image-20230504202444044"></p>
<h4 id="DMG"><a href="#DMG" class="headerlink" title="DMG"></a>DMG</h4><p>DMGæ˜¯DAMOçš„ç¬¬äºŒéƒ¨åˆ†ï¼Œå®ƒä¸DLSå…±äº«ç›¸åŒçš„ä½“ç³»ç»“æ„ã€‚æ­£å‘å…‰åˆ»è¿‡ç¨‹å¯ä»¥ç”¨ä¸‹å¼æè¿°<br>$$<br>\boldsymbol{Z}&#x3D;f(\boldsymbol{M})<br>$$<br>ä¼ ç»Ÿçš„ILTè¯•å›¾æ ¹æ®ç»™å®šçš„å…‰åˆ»æ¨¡å‹è·å¾—æœ€ä¼˜æ©æ¨¡$\boldsymbol{M_{opt}}$ï¼Œè¯¥æ¨¡å‹è¡¨ç¤ºä¸º<br>$$<br>\boldsymbol{M}_{\mathrm{opt}}&#x3D;f^{-1}\left(\boldsymbol{Z}_t\right)<br>$$</p>
<h4 id="é€šè¿‡æ›´é«˜çš„åˆ†è¾¨ç‡æé«˜ç²¾â€”â€“DCGAN-HD-é«˜åˆ†è¾¨ç‡è§£å†³æ–¹æ¡ˆ"><a href="#é€šè¿‡æ›´é«˜çš„åˆ†è¾¨ç‡æé«˜ç²¾â€”â€“DCGAN-HD-é«˜åˆ†è¾¨ç‡è§£å†³æ–¹æ¡ˆ" class="headerlink" title="é€šè¿‡æ›´é«˜çš„åˆ†è¾¨ç‡æé«˜ç²¾â€”â€“DCGAN-HD:é«˜åˆ†è¾¨ç‡è§£å†³æ–¹æ¡ˆ"></a>é€šè¿‡æ›´é«˜çš„åˆ†è¾¨ç‡æé«˜ç²¾â€”â€“DCGAN-HD:é«˜åˆ†è¾¨ç‡è§£å†³æ–¹æ¡ˆ</h4><ul>
<li>DCGAN-HDç”¨äºæ¨¡æ‹Ÿå…‰åˆ»ã€‚</li>
</ul>
<h4 id="æ•°æ®é›†å‡†å¤‡"><a href="#æ•°æ®é›†å‡†å¤‡" class="headerlink" title="æ•°æ®é›†å‡†å¤‡"></a>æ•°æ®é›†å‡†å¤‡</h4><p><img src="/../images/image-20230504230501724.png" alt="image-20230504230501724"></p>
<ul>
<li><p>ä»é›¶å¼€å§‹å»ºç«‹è®­ç»ƒé›†</p>
<p>ç”Ÿæˆè®­ç»ƒå›¾åƒéœ€è¦äº”ä¸ªæ­¥éª¤ï¼ŒåŒ…æ‹¬è®¾è®¡ç”Ÿæˆã€SRAFæ’å…¥(å¸¦è®¾è®¡è§„åˆ™æ£€æŸ¥)ã€OPCã€å…‰åˆ»ä»¿çœŸã€å¸ƒå±€åˆ°å›¾åƒè½¬æ¢ã€‚</p>
<ul>
<li>**è®¾è®¡ä¸€ä¸ªè®¾è®¡æ¨¡å¼: **</li>
</ul>
<p>æ‰€æœ‰é€šå­”å›¾æ¡ˆ(70 Ã— 70 nm2)éƒ½è¢«é™åˆ¶åœ¨1024 Ã— 1024 nm2çš„çª—å£ä¸­ã€‚å…¶æ¬¡ï¼Œé€šè¿‡æ”¹å˜é€šå­”å¯†åº¦ï¼Œæˆ‘ä»¬å¯ä»¥æ§åˆ¶å•ä¸ªçª—å£ä¸­é€šå­”å›¾æ¡ˆçš„æ•°é‡ã€‚ä¸ºäº†å‡å°‘è®­ç»ƒé›†éšæœºåˆ†å¸ƒå¸¦æ¥çš„åå·®ï¼Œé€šè¿‡å¯¹ç»è¿‡æ•°è¿›è¡Œå‡åŒ€åˆ†ç»„ã€‚</p>
<ul>
<li><strong>SRAFæ’å…¥å’ŒDRC</strong></li>
</ul>
<p>ä½¿ç”¨Mentor Calibre[17]è¿›è¡ŒSRAFæ’å…¥å’Œè®¾è®¡è§„åˆ™æ£€æŸ¥ã€‚è¯·æ³¨æ„ï¼Œè¿‡å­”å›¾æ¡ˆå¯èƒ½å‡ºç°åœ¨è®¾è®¡åŒºåŸŸå†…çš„ä»»ä½•ä½ç½®ï¼ŒCalibreåœ¨æ‰§è¡ŒSRAFæ’å…¥æ—¶å°†åœ¨è¿‡å­”å›¾æ¡ˆçš„ä¸­å¿ƒåˆ›å»ºä¸€ä¸ªæ–°çš„è®¾è®¡å±‚ã€‚è¿™ä½¿å¾—æ¨¡å‹æ›´å®¹æ˜“å­¦ä¹ ï¼Œå› ä¸ºæ‰€æœ‰çš„viaæ¨¡å¼éƒ½ä½äºå›¾åƒçš„ä¸­å¿ƒé™„è¿‘ã€‚æ­¤å¤–ï¼Œå®ƒè¿˜ä¸ºæˆ‘ä»¬è¿›ä¸€æ­¥å¼€å‘åŠ é€Ÿç®—æ³•æä¾›äº†æŒ‡å¯¼ã€‚ç”±äºè®¾è®¡é¢ç§¯ä¸º1024 Ã— 1024 nm2ï¼Œå½“æœ‰2ä¸ªä»¥ä¸Šçš„viaå›¾æ¡ˆæ—¶ï¼Œå¯èƒ½ä¼šæœ‰ä¸€äº›SRAFå›¾æ¡ˆå‡ºç°åœ¨è®¾è®¡åŒºåŸŸä¹‹å¤–ã€‚ä¸€ä¸ªæ›´å¤§çš„çª—å£2048Ã—2048 nm2å°†ç”¨äºæ•è·æ‰€æœ‰SRAFæ¨¡å¼ï¼Œå®ƒä»¬ä¸è®¾è®¡çª—å£å…±äº«åŒä¸€ä¸ªä¸­å¿ƒã€‚</p>
<ul>
<li><strong>OPCï¼Œå…‰åˆ»ä»¿çœŸå’Œå›¾åƒç”Ÿæˆ</strong></li>
</ul>
<p>æˆ‘ä»¬ä½¿ç”¨ç”±Calibreç”Ÿæˆçš„æ©æ¨¡å’Œæ™¶åœ†å›¾æ¡ˆä½œä¸ºground truthã€‚</p>
<ul>
<li><strong>DLSçš„è®­ç»ƒ</strong></li>
</ul>
<p><img src="/../images/image-20230505105107484.png" alt="image-20230505105107484"></p>
<ul>
<li><strong>è®­ç»ƒDMG</strong></li>
</ul>
<p><img src="/../images/image-20230505105728177.png" alt="image-20230505105728177"></p>
</li>
<li><p>æ‰€æå‡ºçš„DAMOä½¿ç”¨Pythonå’ŒPyTorchåº“[35]å®ç°ã€‚åœ¨DLSå’ŒDMGçš„è®­ç»ƒé˜¶æ®µï¼Œæˆ‘ä»¬é‡‡ç”¨äº†Adamä¼˜åŒ–å™¨[36]ï¼ŒåŸºç¡€å­¦ä¹ ç‡å’ŒåŠ¨é‡å‚æ•°åˆ†åˆ«è®¾ç½®ä¸º0.0002å’Œï¼ˆ0.5ï¼Œ0.999ï¼‰ã€‚åœ¨æ‰€æœ‰æ¨¡å‹ä¸­ï¼ŒLeakyReLUä¸­çš„æ³„æ¼æ–œç‡è®¾ç½®ä¸º0.2ã€‚æˆ‘ä»¬å°†æ‰¹æ¬¡å¤§å°è®¾ç½®ä¸º4ï¼Œæœ€å¤§è®­ç»ƒè½®æ¬¡è®¾ç½®ä¸º100ã€‚æƒé‡å‚æ•°Î»0ã€Î»1ã€Î±0ã€Î±1å’ŒÎ»2åˆ†åˆ«è®¾ç½®ä¸º100ã€100ã€30ã€30å’Œ20ã€‚å¯ä»¥é€šè¿‡PyTorchçš„è¯„ä¼°æ¨¡å¼å®ç°DLSçš„å›ºå®šå‚æ•°ã€‚è®­ç»ƒåï¼Œç”Ÿæˆçš„æ©æ¨¡å±‚å°†è½¬æ¢ä¸ºGDSIIå¸ƒå±€æ–‡ä»¶ï¼Œç„¶åè¾“å…¥åˆ°Mentor Calibreè¿›è¡Œå…‰åˆ»æ¨¡æ‹ŸéªŒè¯ã€‚æˆ‘ä»¬ä½¿ç”¨å››ä¸ªNvidia TITAN Xp GPUè¿›è¡Œè®­ç»ƒï¼Œä¸€ä¸ªç”¨äºæµ‹è¯•ã€‚æˆ‘ä»¬é‡‡ç”¨çš„è¯„ä¼°æŒ‡æ ‡æœ‰mIoUã€pixAccã€L2è¯¯å·®å’ŒPV Bandã€‚è¿™é‡Œï¼ŒPV Bandæ˜¯ç”±Calibreè®¡ç®—çš„ã€‚</p>
</li>
</ul>
<p>å…¶ä¸­Calibreçš„ä½¿ç”¨æ‰‹å†Œï¼š</p>
<p><a href="calibreManual.pdf">[17]Calibre V erification Userâ€™s Manual, Mentor Graph., Wilsonville, OR, USA, 2008. </a></p>
<h3 id="æ•°æ®é›†"><a href="#æ•°æ®é›†" class="headerlink" title="æ•°æ®é›†"></a>æ•°æ®é›†</h3><ul>
<li><p><a target="_blank" rel="noopener" href="http://www.ispd.cc/contests/19/#benchmarks">ISPD-2019</a>ï¼šæ­¤è®¾è®¡æ¥è‡ªISPD 2019åˆå§‹è¯¦ç»†å¸ƒçº¿ç«èµ›[25]ã€‚å¸ƒå±€æ˜¯ä½¿ç”¨å•†ä¸šå¸ƒç‚¹å’Œå¸ƒçº¿å·¥å…·è¿›è¡Œåˆæˆçš„ã€‚é€šè¿‡å°†è¿‡å­”å±‚è¾“å…¥åˆ°OPCå’Œä»¿çœŸæµç¨‹ä¸­ï¼Œè·å¾—åä¹‰ç”µé˜»è½®å»“ã€‚è®­ç»ƒé›†åŒ…æ‹¬$10 \mathrm{<del>K} 4 \mu \mathrm{m}^2$çš„å¹³é“ºï¼Œè¿™äº›å¹³é“ºæ˜¯ä½¿ç”¨éµå¾ªä¸[25]ä¸­è®¾è®¡ç›¸åŒè®¾è®¡è§„åˆ™çš„å¼€æºå¸ƒå±€ç”Ÿæˆå™¨ç”Ÿæˆçš„ã€‚åœ¨æµ‹è¯•ä¸­ï¼Œ[25]ä¸­çš„è¿‡å­”å±‚ä¹Ÿè¢«åˆ‡æˆ $4 \mu \mathrm{m}^2$ çš„å¹³é“ºï¼Œæ€»è®¡ $11 \mathrm{</del>K}$ å®ä¾‹ï¼Œè½¬æ¢ä¸º $2000 \times 2000$ï¼ˆISPD-2019 (H)ï¼‰å’Œ $1000 \times 1000$ï¼ˆISPD-2019 (L)ï¼‰å›¾åƒã€‚åœ¨å¤§å¹³é“ºæ¨¡æ‹Ÿå®éªŒä¸­ï¼Œæˆ‘ä»¬ä»[25]ä¸­é€‰æ‹©åä¸ªæœ€å¯†é›†çš„ $64 \mu \mathrm{m}^2$ å¹³é“ºï¼Œå¹¶å°†å®ƒä»¬è½¬æ¢ä¸º $8000 \times 8000$ å›¾åƒã€‚</p>
<ol>
<li><strong><font color="red">æ‘˜è¦</font></strong></li>
</ol>
<p>2019å¹´ISPDç«èµ›åœ¨2018å¹´ISPDè¯¦ç»†å¸ƒçº¿ç«èµ›çš„åŸºç¡€ä¸Šï¼Œå¢åŠ äº†æ›´ç¬¦åˆå®é™…å·¥ä¸šåº”ç”¨çš„è®¾è®¡è§„åˆ™è®¾å®šã€‚</p>
<p>è¯¦ç»†å¸ƒçº¿è¿‡ç¨‹å¯ä»¥åˆ†ä¸ºä¸¤ä¸ªæ­¥éª¤ã€‚é¦–å…ˆï¼Œè¿›è¡Œåˆå§‹è¯¦ç»†å¸ƒçº¿ï¼Œä»¥ç”Ÿæˆè¯¦ç»†å¸ƒçº¿è§£å†³æ–¹æ¡ˆå¹¶å¤„ç†ä¸»è¦è®¾è®¡è§„åˆ™ã€‚ç„¶åè¿›è¡Œè¯¦ç»†å¸ƒçº¿ä¼˜åŒ–ï¼Œä¿®å¤å‰©ä½™çš„è®¾è®¡è§„åˆ™è¿è§„é—®é¢˜ã€‚æœ¬æ¬¡ç«èµ›ä¸»è¦å…³æ³¨åˆå§‹è¯¦ç»†å¸ƒçº¿æ­¥éª¤ã€‚</p>
<p>å‡è®¾å…¨å±€å¸ƒçº¿ç»“æœå·²ç»é’ˆå¯¹æŸäº›æŒ‡æ ‡ï¼ˆå¦‚æ—¶åºï¼‰è¿›è¡Œäº†è‰¯å¥½çš„ä¼˜åŒ–ï¼Œè¯¦ç»†å¸ƒçº¿å™¨éœ€è¦å°½å¯èƒ½éµå¾ªå…¨å±€å¸ƒçº¿ç»“æœã€‚è¿™æ ·ï¼Œä¼˜åŒ–çš„æŒ‡æ ‡å¾—ä»¥ä¿ç•™ï¼ŒåŒæ—¶é¿å…äº†è®¾è®¡è§„åˆ™è¿ä¾‹ã€‚ä¾‹å¦‚ï¼Œå›¾1(a)æ˜¾ç¤ºäº†ä¸€ä¸ªå…·æœ‰æºå¼•è„šAå’Œæ±‡å¼•è„šBã€Cã€Dçš„ç½‘ç»œçš„å…¨å±€å¸ƒçº¿ç»“æœã€‚ç”±äºä»Aåˆ°Bçš„è·¯å¾„å¯¹æ—¶åºè‡³å…³é‡è¦ï¼Œå…¨å±€å¸ƒçº¿å™¨è¯†åˆ«å‡ºä¸€æ¡ä»Aåˆ°Bçš„çŸ­è·¯å¾„ã€‚ç„¶è€Œï¼Œè¯¥è·¯å¾„ç©¿è¿‡äº†å±€éƒ¨å¸ƒçº¿æ‹¥å µåŒºåŸŸï¼Œè¿™ä¸€åŒºåŸŸå¹¶æœªè¢«å…¨å±€å¸ƒçº¿å™¨å‘ç°ã€‚å¦‚æœè¯¦ç»†å¸ƒçº¿å™¨å¦‚å›¾1(b)æ‰€ç¤ºï¼Œåœ¨è¯¥åŒºåŸŸä¸Šå¸ƒçº¿ï¼Œå°†ä¼šäº§ç”Ÿè®¾è®¡è§„åˆ™è¿ä¾‹ã€‚å›¾1(c)æ˜¾ç¤ºäº†ä¸€ä¸ªæ²¡æœ‰çŸ­è·¯&#x2F;é—´è·è¿ä¾‹çš„å¸ƒçº¿ç»“æœï¼Œä½†å®ƒä¼šå¯¼è‡´ä»Aåˆ°Bçš„è·¯å¾„æ—¶åºé€€åŒ–ã€‚å¦ä¸€æ–¹é¢ï¼Œå›¾1(d)æ˜¾ç¤ºäº†ä¸€ä¸ªç†æƒ³çš„è§£å†³æ–¹æ¡ˆã€‚</p>
</li>
</ul>
<p><img src="http://www.ispd.cc/contests/19/fig1.png" alt="img"></p>
<p>â€‹	      ä¸ºäº†å°½é‡å‡å°å¯¹ç½‘ç»œæ‹“æ‰‘çš„å¹²æ‰°ï¼Œåˆå§‹è¯¦ç»†å¸ƒçº¿èµ·ç€é‡è¦ä½œç”¨ã€‚å¦‚æœåˆå§‹è¯¦ç»†å¸ƒçº¿ç»“æœèƒ½å¤Ÿæ»¡è¶³å¤§éƒ¨åˆ†å¸¸è§çš„å¸ƒçº¿è§„åˆ™ï¼Œå³ä½¿æ²¡æœ‰    å®Œå…¨è¾¾åˆ°DRCè¦æ±‚ï¼Œåç»­çš„è¯¦ç»†å¸ƒçº¿ä¼˜åŒ–å°±ä¸å¤ªå¯èƒ½å¯¹å¸ƒçº¿ç»“æœé€ æˆå¾ˆå¤§å¹²æ‰°ã€‚</p>
<p><font color="red"><a target="_blank" rel="noopener" href="http://www.ispd.cc/contests/19/tutorial.htm">ç›¸å…³æ•™ç¨‹</a></font></p>
<p>åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ä¸€ä¸ªä»…åŒ…å«11ä¸ªç½‘ç»œçš„æ ·æœ¬åŸºå‡†æ¥ä»‹ç»åŸºå‡†æ ¼å¼ã€ç«èµ›é—®é¢˜çš„ç›®æ ‡&#x2F;çº¦æŸä»¥åŠå¦‚ä½•ä½¿ç”¨Cadence P&amp;Rå·¥å…·Innovusè¯„ä¼°æ‚¨çš„å¸ƒçº¿æ–¹æ¡ˆã€‚è¯·ä»ä»¥ä¸‹é“¾æ¥ä¸‹è½½æ ·æœ¬åŸºå‡†åˆ°æ‚¨çš„LinuxæœåŠ¡å™¨ï¼Œç„¶åä½¿ç”¨å‘½ä»¤â€œtar zxvf ispd19_sample.tgzâ€è§£å‹ç¼©ä¸‹è½½çš„æ–‡ä»¶ã€‚</p>
<p><em>æ³¨æ„ï¼š</em>ispd19_sample.tgzã€ispd19_sample2.tgz å’Œ ispd19_sample3.tgz æ˜¯åœ¨ ISPD 2018ç«èµ›ä¸­ä½¿ç”¨çš„ç›¸åŒæ ·æœ¬åŸºå‡†ã€‚è€Œispd19_sample4.tgz æ˜¯ä¸€ä¸ªæ–°çš„æ ·æœ¬åŸºå‡†ï¼Œå…¶ä¸­åŒ…å«äº†æœ¬æ¬¡ç«èµ›æ‰€éœ€çš„æ–°è§„åˆ™ã€‚</p>
<p>â€œ.input.lefâ€æ–‡ä»¶åŒ…å«äº†ç«èµ›ä¸­éœ€è¦è€ƒè™‘çš„å¸ƒçº¿è§„åˆ™å’Œè®¾è®¡ä¿¡æ¯ã€‚ â€œ.input.defâ€æ–‡ä»¶åŒ…å«äº†è®¾è®¡çš„å¸ƒå±€ä¿¡æ¯ã€å¼•è„šå’Œé˜»å¡ã€‚ â€œ.input.guideâ€æ–‡ä»¶åŒ…å«äº†è¯¦ç»†å¸ƒçº¿å™¨åº”éµå¾ªçš„å…¨å±€å¸ƒçº¿è§£å†³æ–¹æ¡ˆã€‚æ¯ä¸ªåŸºå‡†æµ‹è¯•éƒ½å°†æœ‰è¿™ä¸‰ä¸ªæ–‡ä»¶æ¥è¡¨ç¤ºè¯¦ç»†å¸ƒçº¿é—®é¢˜çš„å®ä¾‹ã€‚è¯·å‚è€ƒä»¥ä¸‹æ–‡æ¡£ï¼Œäº†è§£æœ¬æ¬¡ç«èµ›ä¸­è§„åˆ™å’Œç›®æ ‡çš„è¯¦ç»†ä¿¡æ¯ã€‚</p>
<p>å¦ä¸€æ–¹é¢ï¼Œâ€œ.solution.good.defâ€å’Œâ€œ.solution.bad.defâ€åˆ†åˆ«ä»£è¡¨äº†ä¸€ä¸ªå¥½çš„å¸ƒçº¿è§£å†³æ–¹æ¡ˆå’Œä¸€ä¸ªä¸å¥½çš„å¸ƒçº¿è§£å†³æ–¹æ¡ˆã€‚è¿™ä¸¤ä¸ªâ€œè§£å†³æ–¹æ¡ˆâ€æ–‡ä»¶çš„å¤§éƒ¨åˆ†å†…å®¹ä¸â€œ*.input.defâ€æ–‡ä»¶ç›¸åŒï¼Œä½†è§£å†³æ–¹æ¡ˆæ–‡ä»¶åŒ…å«æ¯ä¸ªç½‘ç»œçš„å¸ƒçº¿ä¿¡æ¯ã€‚åœ¨åé¢çš„éƒ¨åˆ†ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨è¿™ä¸¤ä¸ªæ–‡ä»¶æ¥ä»‹ç»å¦‚ä½•ä½¿ç”¨Innovusè¯„ä¼°è¯¦ç»†å¸ƒçº¿å™¨ç”Ÿæˆçš„å¸ƒçº¿è§£å†³æ–¹æ¡ˆã€‚å…¶ä»–åŸºå‡†æµ‹è¯•ä¸­å°†ä¸æä¾›è¿™ä¸¤ä¸ªæ–‡ä»¶ï¼Œå®ƒä»¬ä»…ç”¨äºæ•™ç¨‹ç›®çš„ã€‚æ‚¨çš„å¯æ‰§è¡Œæ–‡ä»¶ç”Ÿæˆçš„è§£å†³æ–¹æ¡ˆæ–‡ä»¶æ ¼å¼åº”éµå¾ªä¸Šè¿°é“¾æ¥ä¸­ä»‹ç»çš„LEF&#x2F;DEFæ ¼å¼ã€‚</p>

            
        </div>
    </div>
    <div class="post-tags">
        
        
    </div>
    <a href="/2023/05/30/paper-reading-DAMO/" class="go-post">é˜…è¯»å…¨æ–‡</a>
</div>

<div class="post">
    <a href="/2023/05/30/Infinite-GPT4-Usage/">
        <h2 class="post-title">GPT4é€†å‘IOSæ¨¡å‹æ— é™æ¬¡æ•°æ²¹çŒ´è„šæœ¬ç¼–å†™</h2>
    </a>
    <div class="category-and-date">
        
        <span class="date">
            <span class="icon">
                <i class="fa-solid fa-calendar fa-fw"></i>
            </span>
            2023/5/30
        </span>
        
        
    </div>
    <div class="description">
        <div class="content" v-pre>
            
            <p><a target="_blank" rel="noopener" href="https://github.com/linkedlist771/infiniteGPT4">GitHubé¡¹ç›®é“¾æ¥</a></p>
<p><a target="_blank" rel="noopener" href="https://greasyfork.org/zh-CN/scripts/467074-%E6%97%A0%E9%99%90gpt4/">è„šæœ¬é“¾æ¥</a></p>
<h2 id="1ï¼šèµ·å› "><a href="#1ï¼šèµ·å› " class="headerlink" title="1ï¼šèµ·å› "></a>1ï¼šèµ·å› </h2><p><img src="/../images/image-20230529191948609.png" alt="image-20230529191948609"></p>
<p> ç›®å‰<code>ChatGPT</code> å¦‚ç«å¦‚è¼ï¼Œ ä½†æ˜¯<code>GPT3.5</code>çš„æ¨¡å‹èƒ½åŠ›æœ‰é™ï¼Œå¾ˆå¤šäººé€‰æ‹©å¼€é€š<code>GPT Plus</code>æ¥ä½¿ç”¨<code>GPT4</code>åŠŸèƒ½ã€‚</p>
<p>ç›®å‰ï¼Œ<code>GPT PLUS</code> ç”¨æˆ·å¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ¨¡å‹ï¼š</p>
<ul>
<li>GPT 3.5<ul>
<li>ä¼˜ç‚¹ï¼šé€Ÿåº¦å¿«ï¼Œé€‚åˆä¸€èˆ¬çš„éœ€æ±‚ã€‚</li>
<li>ç¼ºç‚¹ï¼šæ¨¡å‹å‚æ•°è¾ƒå°‘ï¼Œå›ç­”ä¸å¤Ÿæ™ºèƒ½ã€‚</li>
</ul>
</li>
</ul>
<p><img src="/../images/image-20230529192326117.png" alt="image-20230529192326117"></p>
<ul>
<li>GPT 4<ul>
<li>ä¼˜ç‚¹ï¼šæ¨¡å‹å‚æ•°å¤šï¼Œå›ç­”æ›´æ™ºèƒ½ï¼Œä¸Šä¸‹æ–‡ç†è§£æ›´å¼ºã€‚</li>
<li>ç¼ºç‚¹ï¼šæœ‰æ¬¡æ•°é™åˆ¶ï¼Œ 25æ¬¡&#x2F;3å°æ—¶ï¼Œ <code>å¯¹è‹±æ–‡ç†è§£èƒ½åŠ›å¼ºäºä¸­æ–‡</code>ï¼Œå¦‚æœä¸­æ–‡å›ç­”è¾ƒçƒ‚ï¼Œå¯ä»¥å°è¯•è‹±æ–‡ã€‚</li>
</ul>
</li>
</ul>
<p><img src="/../images/image-20230529192507875.png" alt="image-20230529192507875"></p>
<ul>
<li>GPT 4 - Browsing<ul>
<li>ä¼˜ç‚¹ï¼šæ·»åŠ äº†è”ç½‘åŠŸèƒ½ï¼Œ åŒä¸Š</li>
<li>ç¼ºç‚¹ï¼šåŒä¸Š</li>
</ul>
</li>
</ul>
<p><img src="/../images/image-20230529193218778.png" alt="image-20230529193218778"></p>
<p>GPT 4 - Plugin</p>
<ul>
<li>ä¼˜ç‚¹ï¼šå„ç§åƒå¥‡ç™¾æ€ªçš„æ’ä»¶ï¼Œå…¶ä¸­æ–‡çŒ®æ£€ç´¢åŠŸèƒ½è¾ƒä¸ºä¸é”™ï¼ŒåŒä¸Š</li>
<li>ç¼ºç‚¹ï¼šåŒä¸Š</li>
</ul>
<p><img src="/../images/image-20230529193310330.png" alt="image-20230529193310330"></p>
<p> <strong>5.18æ—¥</strong> <code>OpenAI</code>æ¨å‡ºIOSçš„APPç‰ˆæœ¬ï¼Œå…¶ä¸­å¯¹äºplusç”¨æˆ·å¯ä»¥æ— é™æ¬¡æ•°çš„ä½¿ç”¨<code>GPT4</code>æ¨¡å‹ã€‚åœ¨ç™»å½•IOSçš„è¿‡ç¨‹ä¸­å‘ç°<code>OpenAI</code>åœ¨å…¶ä¸­å†…åµŒäº†ä¸€ä¸ªç½‘é¡µï¼Œæ¨æµ‹å¯ä»¥é€šè¿‡é€†å‘åŠŸèƒ½å®ç°ç½‘é¡µç‰ˆæ— é™ä½¿ç”¨ã€‚</p>
<h1 id="2ï¼šå…·ä½“å®ç°"><a href="#2ï¼šå…·ä½“å®ç°" class="headerlink" title="2ï¼šå…·ä½“å®ç°"></a>2ï¼šå…·ä½“å®ç°</h1><p><strong>åœ¨<code>IOS</code>è®¾å¤‡ä½¿ç”¨æ— é™æ¬¡æ•°çš„GPT4åä¼šç•™ä¸‹å†å²è®°å½•ï¼š</strong></p>
<p><img src="/../images/image-20230529193753235.png" alt="image-20230529193753235"></p>
<p>æ¨æµ‹å¯èƒ½æ˜¯è°ƒç”¨äº†ä¸åŒçš„æ¨¡å‹ï¼Œ å†³å®šé‡‡å–æµè§ˆå™¨æŠ“åŒ…çš„æ–¹å¼æ¥å®ç°ã€‚</p>
<h3 id="å…·ä½“å®ç°æ­¥éª¤"><a href="#å…·ä½“å®ç°æ­¥éª¤" class="headerlink" title="å…·ä½“å®ç°æ­¥éª¤"></a>å…·ä½“å®ç°æ­¥éª¤</h3><ol>
<li><p>ä»€ä¹ˆæ˜¯æµè§ˆå™¨æŠ“åŒ…ï¼š</p>
<p><strong>æµè§ˆå™¨æŠ“åŒ…</strong> æ˜¯ä¸€ç§ç½‘ç»œè°ƒè¯•æ–¹æ³•ï¼Œä¸»è¦ç”¨äºè§‚å¯Ÿå¹¶åˆ†ææµè§ˆå™¨å’ŒæœåŠ¡å™¨ä¹‹é—´çš„ç½‘ç»œäº¤äº’è¿‡ç¨‹ã€‚å…·ä½“æ¥è¯´ï¼Œå°±æ˜¯åœ¨æµè§ˆå™¨å‘é€è¯·æ±‚å’Œæ¥æ”¶å“åº”çš„è¿‡ç¨‹ä¸­ï¼Œæ•è·å¹¶è®°å½•ç½‘ç»œæ•°æ®åŒ…çš„è¿‡ç¨‹ã€‚</p>
<h2 id="æŠ“åŒ…çš„ç”¨é€”"><a href="#æŠ“åŒ…çš„ç”¨é€”" class="headerlink" title="æŠ“åŒ…çš„ç”¨é€”"></a>æŠ“åŒ…çš„ç”¨é€”</h2><ul>
<li><strong>è°ƒè¯•ç½‘ç»œé—®é¢˜</strong>ï¼šå¼€å‘è€…å¯ä»¥ä½¿ç”¨æŠ“åŒ…å·¥å…·æ£€æŸ¥è¯·æ±‚å’Œå“åº”çš„è¯¦ç»†ä¿¡æ¯ï¼Œå¦‚HTTPå¤´ï¼Œå†…å®¹ï¼Œä»¥åŠé”™è¯¯ä»£ç ï¼Œç­‰ç­‰ï¼Œä»è€ŒæŸ¥æ‰¾é—®é¢˜çš„æ¥æºã€‚</li>
<li><strong>ç½‘ç»œæ€§èƒ½ä¼˜åŒ–</strong>ï¼šé€šè¿‡æŠ“åŒ…ï¼Œæˆ‘ä»¬å¯ä»¥è§‚å¯Ÿç½‘é¡µåŠ è½½çš„å…·ä½“è¿‡ç¨‹ï¼Œä»¥åŠæ¯ä¸ªè¯·æ±‚æ‰€éœ€çš„æ—¶é—´ï¼Œè¿™å¯¹äºç½‘ç»œä¼˜åŒ–å’Œæ€§èƒ½æå‡éå¸¸æœ‰å¸®åŠ©ã€‚</li>
<li><strong>ç½‘ç»œå®‰å…¨</strong>ï¼šæŠ“åŒ…å·¥å…·ä¹Ÿå¸¸è¢«ç”¨äºæ£€æµ‹ç½‘ç»œå®‰å…¨é—®é¢˜ï¼Œå¦‚æœªåŠ å¯†çš„æ•°æ®ï¼Œæˆ–æ˜¯æ¶æ„çš„ç½‘ç»œæ´»åŠ¨ã€‚</li>
</ul>
<h2 id="å¦‚ä½•è¿›è¡Œæµè§ˆå™¨æŠ“åŒ…"><a href="#å¦‚ä½•è¿›è¡Œæµè§ˆå™¨æŠ“åŒ…" class="headerlink" title="å¦‚ä½•è¿›è¡Œæµè§ˆå™¨æŠ“åŒ…"></a>å¦‚ä½•è¿›è¡Œæµè§ˆå™¨æŠ“åŒ…</h2><ol>
<li><strong>ä½¿ç”¨æµè§ˆå™¨çš„å¼€å‘è€…å·¥å…·</strong>ï¼šå¤§éƒ¨åˆ†ç°ä»£æµè§ˆå™¨éƒ½å†…ç½®äº†å¼€å‘è€…å·¥å…·ï¼Œå¯ä»¥ç›´æ¥è¿›è¡Œç½‘ç»œæŠ“åŒ…ã€‚ä¾‹å¦‚ï¼Œåœ¨ Chrome æµè§ˆå™¨ä¸­ï¼Œåªéœ€æ‰“å¼€â€œå¼€å‘è€…å·¥å…·â€ï¼ˆF12æˆ–å³é”®ç‚¹å‡»é¡µé¢ç„¶åé€‰æ‹©â€æ£€æŸ¥â€ï¼‰ï¼Œç„¶åé€‰æ‹©â€Networkâ€æ ‡ç­¾ï¼Œå°±å¯ä»¥çœ‹åˆ°ç½‘ç»œè¯·æ±‚çš„è¯¦ç»†ä¿¡æ¯ã€‚</li>
<li><strong>ä½¿ç”¨æŠ“åŒ…å·¥å…·</strong>ï¼šé™¤äº†æµè§ˆå™¨è‡ªå¸¦çš„å·¥å…·ï¼Œè¿˜æœ‰ä¸€äº›ä¸“ä¸šçš„æŠ“åŒ…å·¥å…·ï¼Œå¦‚ Wiresharkï¼ŒFiddlerï¼ŒCharles ç­‰ï¼Œè¿™äº›å·¥å…·åŠŸèƒ½æ›´å¼ºå¤§ï¼Œèƒ½æ•è·æ›´å¤šç±»å‹çš„ç½‘ç»œæ•°æ®åŒ…ã€‚</li>
</ol>
</li>
<li><p>å¦‚ä½•è¿›è¡Œæµè§ˆå™¨æŠ“åŒ…</p>
</li>
</ol>
<p>â€‹		æœ¬äººçš„ä½¿ç”¨çš„æµè§ˆå™¨ä¸º<code>Edge</code>æµè§ˆå™¨ï¼Œ <code>Chrome</code>æµè§ˆå™¨åŒç†ï¼Œ åœ¨æµè§ˆå™¨ä¸­æŒ‰ä¸‹<code>F12</code>é”®æ‰“å¼€è°ƒè¯•å·¥å…·ï¼Œé€‰æ‹©ç½‘ç»œè¿™ä¸€é¡¹ã€‚</p>
<p><img src="/../images/image-20230529194415396.png" alt="image-20230529194415396"></p>
<p>â€‹        ç„¶åæ¸…ç©ºå†å²çš„è®°å½•ï¼ˆç‚¹å‡»ä¸Šæ–¹çš„åœ†åœˆç¬¦å·ï¼‰ï¼Œ ç„¶åå½“ä½ åœ¨<code>ChatGPT</code>çš„ç½‘é¡µç‰ˆå‘é€ä¿¡æ¯åï¼Œ åœ¨å³ä¾§çš„ç½‘ç»œè°ƒè¯•å·¥å…·ä¾¿å¯ä»¥çœ‹åˆ°ä½ è°ƒç”¨æ—¶å‘é€çš„ä¿¡æ¯ã€‚æ¯”å¦‚è¯´è¿™é‡Œæˆ‘ä»¬è°ƒç”¨çš„æ˜¯GPT4æ¨¡å‹ã€‚</p>
<p><img src="/../images/image-20230529194947263.png" alt="image-20230529194947263"></p>
<p>â€‹      å½“ç„¶ï¼ŒMacåŒç†ï¼Œç”±äºè¯¥<code>APP</code>åªèƒ½åœ¨<code>IOS</code>è®¾å¤‡ä¸Šä½¿ç”¨ï¼Œ æ‰€ä»¥æˆ‘å€Ÿç”¨äº†èˆå‹çš„<code>MAC</code>è¿›è¡Œäº†æŠ“åŒ…ï¼Œæœ€åå‘ç°IOSè®¾å¤‡æ— é™ä½¿ç”¨çš„æ¨¡å‹ä¸º<code>gpt-4-mobile</code>ã€‚ ç°åœ¨æˆ‘ä»¬å·²ç»è·å–äº†æˆ‘ä»¬æ‰€éœ€è¦çš„æ‰€æœ‰å†…å®¹äº†ã€‚ç°åœ¨å°±å¯ä»¥å¼€å§‹ç¼–å†™è„šæœ¬æ¥å®ç°äº†ã€‚</p>
<ol start="3">
<li>è„šæœ¬ç¼–å†™</li>
</ol>
<p>å¾ˆå¤šäººè§‰å¾—ç¼–å†™è„šæœ¬ä»£ç æ˜¯ä¸€é”®å¾ˆéš¾çš„äº‹ï¼Œä½†æ˜¯æœ‰<code>GPT-4</code>çš„å¸®åŠ©åï¼Œå…¶å®ä¸ç„¶ï¼Œè¯¢é—®å¦‚ä½•ç¼–å†™ï¼Œä»–ä¾¿å¯ä»¥å¾ˆè½»æ¾çš„ç»™å‡ºä»£ç ï¼š</p>
<p><img src="/../images/image-20230529195510378.png" alt="image-20230529195510378"></p>
<p>ç¨åŠ ä¿®æ”¹ï¼Œä¾¿å¾—åˆ°äº†ç¬¬ä¸€ç‰ˆå¯ä»¥è¿è¡Œçš„ä»£ç ï¼š</p>
<pre><code class="javascript">// ==UserScript==
// @name        æ— é™GPT4
// @namespace   https://github.com/linkedlist771
// @description æ— é™ä½¿ç”¨GPT4
// @license MIT
// @include     *
// @version     1
// @grant       none
// ==/UserScript==
 
(function() &#123;
    &#39;use strict&#39;;
 
    let realFetch = window.fetch;
    window.fetch = function(url, init) &#123;
        if (init &amp;&amp; init.method === &#39;POST&#39;) &#123;
            let data = JSON.parse(init.body);
            if (data.hasOwnProperty(&#39;model&#39;)) &#123;
                data.model = &#39;gpt-4-mobile&#39;;
                init.body = JSON.stringify(data);
            &#125;
        &#125;
        return realFetch(url, init);
    &#125;;
&#125;)()
</code></pre>
<p>ç°åœ¨è¿™ä¸ªä»£ç å·²ç»å¯ä»¥æ­£å¸¸è¿è¡Œäº†ï¼Œåœ¨å¯åŠ¨åï¼Œè¯¢é—®åŒºåˆ«GPT4å’Œ3.5çš„é—®é¢˜ï¼Œå¯ä»¥å¾—åˆ°æ­£ç¡®çš„ç­”æ¡ˆï¼Œè€Œä¸”ä¼šçœ‹å†å²è®°å½•å¯ä»¥å‘ç°æ¨¡å‹å·²ç»è¢«ä¿®æ”¹äº†ã€‚ç¡®å®ä¸ºGPT4ã€‚</p>
<p><img src="/../images/image-20230529195952022.png" alt="image-20230529195952022"></p>
<p>åœ¨<a target="_blank" rel="noopener" href="https://greasyfork.org/zh-CN/users/1084702-lshang001">LShang001</a>å’Œ<a target="_blank" rel="noopener" href="https://greasyfork.org/zh-CN/users/116238-seto">Seto</a>çš„å»ºè®®åï¼Œ å¯¹ä»£ç çš„éƒ¨åˆ†éƒ¨åˆ†é€»è¾‘è¿›è¡Œäº†è®¢æ­£ï¼Œ<a target="_blank" rel="noopener" href="https://greasyfork.org/zh-CN/users/1047225-xuzihanshsjnsn">xuzihanshsjnsn</a> å¸®å¿™å®Œæˆäº†UIéƒ¨åˆ†çš„è®¾è®¡ã€‚ åŸºäºæ­¤å®Œæˆäº†<code>ç¬¬å››ç‰ˆ</code>è„šæœ¬ï¼Œå¼€å¯åæœ‰ä¸€ä¸ªæŒ‰é’®ï¼Œé€šè¿‡é€‰æ‹©å¯ä»¥æ§åˆ¶ç›®å‰æ˜¯å¦å¼€å¯ã€‚</p>
<p><img src="/../images/image-20230529204718806.png" alt="image-20230529204718806"></p>
<h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p>è‡³æ­¤ï¼Œæˆ‘ä»¬å®Œæˆäº†å¦‚ä½•é€šè¿‡æŠ“åŒ…æ‰¾åˆ°æ¨¡å‹ç„¶åç¼–å†™JSä»£ç è¿›è¡Œå®ç°æ— é™æ¬¡æ•°çš„GPT4æ¨¡å‹è°ƒç”¨ï¼Œå¦‚æœè§‰å¾—å†™çš„ä¸é”™å¯ä»¥ç»™é¡¹ç›®ç‚¹ä¸ªèµæï¼Œ **ç»™å¤§å®¶ç£•å¤´äº†áƒš(Â´Ú¡&#96;áƒš)**ã€‚</p>

            
        </div>
    </div>
    <div class="post-tags">
        
        
    </div>
    <a href="/2023/05/30/Infinite-GPT4-Usage/" class="go-post">é˜…è¯»å…¨æ–‡</a>
</div>


        <div class="page-current">
    <div class="prev">
        
        <a class="page-num" href="/">
            <i class="fa-solid fa-caret-left fa-fw"></i>
        </a>
        
    </div>
    <div class="page-index">
        
        <span>
            
            
            <a class="page-num" href="/">1</a>
        </span>
        
        <span class="current">2</span>
        
    </div>
    <div class="next">
        
    </div>
</div>

    </div>
    
    <div id="home-card">
        <div id="card-div">
    <div class="card-style">
        <div class="avatar">
            <img src="/images/avatar.gif" alt="avatar" />
        </div>
        <div class="name">Ding Li</div>
        <div class="description">
            <p>Description<br>ä½ å¥½ï¼Œ è¿™é‡Œæ˜¯Linkedlist771çš„ä¸ªäººåšå®¢ï¼Œä¸»è¦è®°å½•ä¸€äº›å­¦ä¹ ç¬”è®°ï¼Œè°¢è°¢ä½ çš„è®¿é—®ï¼</p>

        </div>
        
        <div class="icon-links">
            
            <span class="icon-link">
                <a target="_blank" rel="noopener" href="https://github.com/linkedlist771">
                    <i
                        class="fa-brands fa-github fa-fw"
                    ></i>
                </a>
            </span>
            
            <span class="icon-link">
                <a href="/null">
                    <i
                        class="fa-brands fa-twitter fa-fw"
                    ></i>
                </a>
            </span>
            
            <span class="icon-link">
                <a target="_blank" rel="noopener" href="http://wpa.qq.com/msgrd?v=3&uin=2317431442&site=qq&menu=yes">
                    <i
                        class="fa-brands fa-qq fa-fw"
                    ></i>
                </a>
            </span>
            
            <span class="icon-link">
                <a href="mailto:213193509seu@gmail.com">
                    <i
                        class="fa-solid fa-envelope fa-fw"
                    ></i>
                </a>
            </span>
            
        </div>
        
        
        <div class="friend-links">
            
            <div class="friend-link">
                <a target="_blank" rel="noopener" href="https://argvchs.github.io">Argvchs</a>
            </div>
            
            <div class="friend-link">
                <a href="/www.803366.xyz">Stmoonar</a>
            </div>
            
        </div>
        
    </div>
</div>

    </div>
    
</div>

                    <footer id="footer">
    <div id="footer-wrap">
        <div>
            &copy;
            2022 - 2023 LinkedList&#39;s Blog
            <span id="footer-icon">
                <i class="fa-solid fa-font-awesome fa-fw"></i>
            </span>
            &commat;Ding Li
        </div>
        <div>
            Based on the <a target="_blank" rel="noopener" href="https://hexo.io">Hexo Engine</a> &amp;
            <a target="_blank" rel="noopener" href="https://github.com/theme-particlex/hexo-theme-particlex">ParticleX Theme</a>
        </div>
        
    </div>
</footer>

                </div>
            </transition>
            
            <transition name="fade">
                <div id="preview" ref="preview" v-show="previewShow">
                    <img id="preview-content" ref="previewContent" />
                </div>
            </transition>
            
        </div>
        <script src="/js/main.js"></script>
        
    </body>
</html>
